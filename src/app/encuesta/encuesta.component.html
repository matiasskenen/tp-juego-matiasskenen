<div class="form-container">
  <h2>Encuesta</h2>
  <form id="encuestaForm" [formGroup]="form">
    <div class="form-group">
      <label for="nombre">Nombre:</label>
      <input type="text" id="nombre" formControlName="nombre" required>
      <br>
      <ng-container *ngIf="nombre?.hasError('pattern') && nombre?.touched">
        <small class="text-danger">El nombre solo puede contener letras</small>
      </ng-container>
      <ng-container *ngIf="nombre?.hasError('required') && nombre?.touched">
        <small class="text-danger">El nombre es requerido</small>
      </ng-container>
    </div>
    
    <div class="form-group">
      <label for="apellido">Apellido:</label>
      <input type="text" id="apellido" formControlName="apellido" required>
      <br>
      <ng-container *ngIf="apellido?.hasError('pattern') && apellido?.touched">
        <small class="text-danger">El apellido solo puede contener letras</small>
      </ng-container>
      <ng-container *ngIf="apellido?.hasError('required') && apellido?.touched">
        <small class="text-danger">El apellido es requerido</small>
      </ng-container>
    </div>

    <div class="form-control-group col-5">
      <label class="form-label" for="edad">Edad</label>
      <input type="number" class="form-control" id="edad" formControlName="edad" required>
      <br>
      <ng-container *ngIf="edad?.hasError('min') && edad?.touched">
        <small class="text-danger">Debe ser mayor de edad</small>
      </ng-container>
      <ng-container *ngIf="edad?.hasError('max') && edad?.touched">
        <small class="text-danger">Debe ser menor de 99</small>
      </ng-container>
      <ng-container *ngIf="edad?.hasError('required') && edad?.touched">
        <small class="text-danger">La edad es requerida</small>
      </ng-container>
    </div>

    <div class="form-control-group col-5">
      <label class="form-label" for="telefono">Número de teléfono</label>
      <input type="text" class="form-control" id="telefono" formControlName="telefono" required>
      <br>
      <ng-container *ngIf="telefono?.hasError('pattern') && telefono?.touched">
        <small class="text-danger">Debe contener solo números</small>
      </ng-container>
      <ng-container *ngIf="telefono?.hasError('maxlength') && telefono?.touched">
        <small class="text-danger">No debe superar los 10 caracteres</small>
      </ng-container>
      <ng-container *ngIf="telefono?.hasError('required') && telefono?.touched">
        <small class="text-danger">El teléfono es requerido</small>
      </ng-container>
    </div>

    <div class="form-group">
      <label>¿Cómo calificarías nuestra página?</label>
      <input type="radio" id="excelente" name="calificacion" value="Excelente" formControlName="calificacion" required>
      <label for="excelente">Excelente</label>
      <input type="radio" id="bueno" name="calificacion" value="Bueno" formControlName="calificacion" required>
      <label for="bueno">Bueno</label>
      <input type="radio" id="regular" name="calificacion" value="Regular" formControlName="calificacion" required>
      <label for="regular">Regular</label>
      <br>
      <ng-container *ngIf="calificacion?.hasError('required') && calificacion?.touched">
        <small class="text-danger">La calificación es requerida</small>
      </ng-container>
    </div>

    <div class="form-group">
      <label>¿Qué te interesa de nuestra página? (Selecciona al menos uno)</label><br>
      <input type="checkbox" id="calidad" name="intereses" value="Juegos" formControlName="intereses">
      <label for="calidad">Calidad</label><br>
      <input type="checkbox" id="precio" name="intereses" value="Apariencia" formControlName="intereses">
      <label for="precio">Precio</label><br>
      <input type="checkbox" id="atencion" name="intereses" value="Chat" formControlName="intereses">
      <label for="atencion">Atención al cliente</label><br>
      <input type="checkbox" id="variedad" name="intereses" value="Logica" formControlName="intereses">
      <label for="variedad">Variedad</label>
      <br>
      <ng-container *ngIf="intereses?.hasError('required') && intereses?.touched">
        <small class="text-danger">Selecciona al menos un interés</small>
      </ng-container>
    </div>

    <button type="submit" (click)="enviar()">Enviar</button>
  </form>
</div>
