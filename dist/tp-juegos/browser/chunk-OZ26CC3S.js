var _N=Object.defineProperty,IN=Object.defineProperties;var wN=Object.getOwnPropertyDescriptors;var bw=Object.getOwnPropertySymbols,EN=Object.getPrototypeOf,DN=Object.prototype.hasOwnProperty,TN=Object.prototype.propertyIsEnumerable,bN=Reflect.get;var Cw=(t,e,n)=>e in t?_N(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,F=(t,e)=>{for(var n in e||={})DN.call(e,n)&&Cw(t,n,e[n]);if(bw)for(var n of bw(e))TN.call(e,n)&&Cw(t,n,e[n]);return t},ce=(t,e)=>IN(t,wN(e));var sr=(t,e,n)=>bN(EN(t),n,e);var w=(t,e,n)=>new Promise((r,i)=>{var s=u=>{try{a(n.next(u))}catch(l){i(l)}},o=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);a((n=n.apply(t,e)).next())});function Aw(t,e){return Object.is(t,e)}var je=null,tu=!1,nu=1,En=Symbol("SIGNAL");function pe(t){let e=je;return je=t,e}function Sw(){return je}var Zo={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function vf(t){if(tu)throw new Error("");if(je===null)return;je.consumerOnSignalRead(t);let e=je.nextProducerIndex++;if(ou(je),e<je.producerNode.length&&je.producerNode[e]!==t&&Jo(je)){let n=je.producerNode[e];su(n,je.producerIndexOfThis[e])}je.producerNode[e]!==t&&(je.producerNode[e]=t,je.producerIndexOfThis[e]=Jo(je)?xw(t,je,e):0),je.producerLastReadVersion[e]=t.version}function CN(){nu++}function Rw(t){if(!(Jo(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===nu)){if(!t.producerMustRecompute(t)&&!If(t)){t.dirty=!1,t.lastCleanEpoch=nu;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=nu}}function Nw(t){if(t.liveConsumerNode===void 0)return;let e=tu;tu=!0;try{for(let n of t.liveConsumerNode)n.dirty||AN(n)}finally{tu=e}}function Mw(){return je?.consumerAllowSignalWrites!==!1}function AN(t){t.dirty=!0,Nw(t),t.consumerMarkedDirty?.(t)}function iu(t){return t&&(t.nextProducerIndex=0),pe(t)}function _f(t,e){if(pe(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Jo(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)su(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function If(t){ou(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Rw(n),r!==n.version))return!0}return!1}function wf(t){if(ou(t),Jo(t))for(let e=0;e<t.producerNode.length;e++)su(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function xw(t,e,n){if(Pw(t),t.liveConsumerNode.length===0&&Ow(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=xw(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function su(t,e){if(Pw(t),t.liveConsumerNode.length===1&&Ow(t))for(let r=0;r<t.producerNode.length;r++)su(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];ou(i),i.producerIndexOfThis[r]=e}}function Jo(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function ou(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Pw(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Ow(t){return t.producerNode!==void 0}function kw(t){let e=Object.create(SN);e.computation=t;let n=()=>{if(Rw(e),vf(e),e.value===ru)throw e.error;return e.value};return n[En]=e,n}var mf=Symbol("UNSET"),yf=Symbol("COMPUTING"),ru=Symbol("ERRORED"),SN=ce(F({},Zo),{value:mf,dirty:!0,error:null,equal:Aw,producerMustRecompute(t){return t.value===mf||t.value===yf},producerRecomputeValue(t){if(t.value===yf)throw new Error("Detected cycle in computations.");let e=t.value;t.value=yf;let n=iu(t),r;try{r=t.computation()}catch(i){r=ru,t.error=i}finally{_f(t,n)}if(e!==mf&&e!==ru&&r!==ru&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function RN(){throw new Error}var Fw=RN;function Lw(){Fw()}function Vw(t){Fw=t}var NN=null;function Uw(t){let e=Object.create(Bw);e.value=t;let n=()=>(vf(e),e.value);return n[En]=e,n}function Ef(t,e){Mw()||Lw(),t.equal(t.value,e)||(t.value=e,MN(t))}function jw(t,e){Mw()||Lw(),Ef(t,e(t.value))}var Bw=ce(F({},Zo),{equal:Aw,value:void 0});function MN(t){t.version++,CN(),Nw(t),NN?.()}function te(t){return typeof t=="function"}function Zi(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var au=Zi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Zr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Me=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(te(r))try{r()}catch(s){e=s instanceof au?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{$w(s)}catch(o){e=e??[],o instanceof au?e=[...e,...o.errors]:e.push(o)}}if(e)throw new au(e)}}add(e){var n;if(e&&e!==this)if(this.closed)$w(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Zr(n,e)}remove(e){let{_finalizers:n}=this;n&&Zr(n,e),e instanceof t&&e._removeParent(this)}};Me.EMPTY=(()=>{let t=new Me;return t.closed=!0,t})();var Df=Me.EMPTY;function cu(t){return t instanceof Me||t&&"closed"in t&&te(t.remove)&&te(t.add)&&te(t.unsubscribe)}function $w(t){te(t)?t():t.unsubscribe()}var Ut={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Xi={setTimeout(t,e,...n){let{delegate:r}=Xi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Xi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function uu(t){Xi.setTimeout(()=>{let{onUnhandledError:e}=Ut;if(e)e(t);else throw t})}function Xo(){}var Hw=Tf("C",void 0,void 0);function zw(t){return Tf("E",void 0,t)}function qw(t){return Tf("N",t,void 0)}function Tf(t,e,n){return{kind:t,value:e,error:n}}var Xr=null;function es(t){if(Ut.useDeprecatedSynchronousErrorHandling){let e=!Xr;if(e&&(Xr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Xr;if(Xr=null,n)throw r}}else t()}function Gw(t){Ut.useDeprecatedSynchronousErrorHandling&&Xr&&(Xr.errorThrown=!0,Xr.error=t)}var ei=class extends Me{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,cu(e)&&e.add(this)):this.destination=ON}static create(e,n,r){return new ts(e,n,r)}next(e){this.isStopped?Cf(qw(e),this):this._next(e)}error(e){this.isStopped?Cf(zw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Cf(Hw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},xN=Function.prototype.bind;function bf(t,e){return xN.call(t,e)}var Af=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){lu(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){lu(r)}else lu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){lu(n)}}},ts=class extends ei{constructor(e,n,r){super();let i;if(te(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Ut.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&bf(e.next,s),error:e.error&&bf(e.error,s),complete:e.complete&&bf(e.complete,s)}):i=e}this.destination=new Af(i)}};function lu(t){Ut.useDeprecatedSynchronousErrorHandling?Gw(t):uu(t)}function PN(t){throw t}function Cf(t,e){let{onStoppedNotification:n}=Ut;n&&Xi.setTimeout(()=>n(t,e))}var ON={closed:!0,next:Xo,error:PN,complete:Xo};var ns=typeof Symbol=="function"&&Symbol.observable||"@@observable";function _t(t){return t}function du(...t){return Sf(t)}function Sf(t){return t.length===0?_t:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var se=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=FN(n)?n:new ts(n,r,i);return es(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Ww(r),new r((i,s)=>{let o=new ts({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[ns](){return this}pipe(...n){return Sf(n)(this)}toPromise(n){return n=Ww(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function Ww(t){var e;return(e=t??Ut.Promise)!==null&&e!==void 0?e:Promise}function kN(t){return t&&te(t.next)&&te(t.error)&&te(t.complete)}function FN(t){return t&&t instanceof ei||kN(t)&&cu(t)}function Rf(t){return te(t?.lift)}function he(t){return e=>{if(Rf(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ue(t,e,n,r,i){return new Nf(t,e,n,r,i)}var Nf=class extends ei{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function rs(){return he((t,e)=>{let n=null;t._refCount++;let r=ue(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var is=class extends se{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Rf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Me;let n=this.getSubject();e.add(this.source.subscribe(ue(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Me.EMPTY)}return e}refCount(){return rs()(this)}};var Kw=Zi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Qe=(()=>{class t extends se{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new hu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Kw}next(n){es(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){es(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){es(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Df:(this.currentObservers=null,s.push(n),new Me(()=>{this.currentObservers=null,Zr(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new se;return n.source=this,n}}return t.create=(e,n)=>new hu(e,n),t})(),hu=class extends Qe{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Df}};var Be=class extends Qe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Mf={now(){return(Mf.delegate||Date).now()},delegate:void 0};var fu=class extends Me{constructor(e,n){super()}schedule(e,n=0){return this}};var ea={setInterval(t,e,...n){let{delegate:r}=ea;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=ea;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var ss=class extends fu{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return ea.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&ea.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Zr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var os=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};os.now=Mf.now;var as=class extends os{constructor(e,n=os.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var xf=new as(ss);var pu=class extends ss{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var gu=class extends as{};var Pf=new gu(pu);var It=new se(t=>t.complete());function Qw(t){return t&&te(t.schedule)}function Yw(t){return t[t.length-1]}function mu(t){return te(Yw(t))?t.pop():void 0}function or(t){return Qw(Yw(t))?t.pop():void 0}function Of(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Zw(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{l(r.next(h))}catch(p){o(p)}}function u(h){try{l(r.throw(h))}catch(p){o(p)}}function l(h){h.done?s(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function Jw(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ti(t){return this instanceof ti?(this.v=t,this):new ti(t)}function Xw(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(y){return function(C){return Promise.resolve(C).then(y,p)}}function a(y,C){r[y]&&(i[y]=function(M){return new Promise(function(R,x){s.push([y,M,R,x])>1||u(y,M)})},C&&(i[y]=C(i[y])))}function u(y,C){try{l(r[y](C))}catch(M){m(s[0][3],M)}}function l(y){y.value instanceof ti?Promise.resolve(y.value.v).then(h,p):m(s[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,C){y(C),s.shift(),s.length&&u(s[0][0],s[0][1])}}function eE(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Jw=="function"?Jw(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){o=t[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}}var yu=t=>t&&typeof t.length=="number"&&typeof t!="function";function vu(t){return te(t?.then)}function _u(t){return te(t[ns])}function Iu(t){return Symbol.asyncIterator&&te(t?.[Symbol.asyncIterator])}function wu(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function LN(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Eu=LN();function Du(t){return te(t?.[Eu])}function Tu(t){return Xw(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield ti(n.read());if(i)return yield ti(void 0);yield yield ti(r)}}finally{n.releaseLock()}})}function bu(t){return te(t?.getReader)}function Oe(t){if(t instanceof se)return t;if(t!=null){if(_u(t))return VN(t);if(yu(t))return UN(t);if(vu(t))return jN(t);if(Iu(t))return tE(t);if(Du(t))return BN(t);if(bu(t))return $N(t)}throw wu(t)}function VN(t){return new se(e=>{let n=t[ns]();if(te(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function UN(t){return new se(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function jN(t){return new se(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,uu)})}function BN(t){return new se(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function tE(t){return new se(e=>{HN(t,e).catch(n=>e.error(n))})}function $N(t){return tE(Tu(t))}function HN(t,e){var n,r,i,s;return Zw(this,void 0,void 0,function*(){try{for(n=eE(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function mt(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function ar(t,e=0){return he((n,r)=>{n.subscribe(ue(r,i=>mt(r,t,()=>r.next(i),e),()=>mt(r,t,()=>r.complete(),e),i=>mt(r,t,()=>r.error(i),e)))})}function cr(t,e=0){return he((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function nE(t,e){return Oe(t).pipe(cr(e),ar(e))}function rE(t,e){return Oe(t).pipe(cr(e),ar(e))}function iE(t,e){return new se(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function sE(t,e){return new se(n=>{let r;return mt(n,e,()=>{r=t[Eu](),mt(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>te(r?.return)&&r.return()})}function Cu(t,e){if(!t)throw new Error("Iterable cannot be null");return new se(n=>{mt(n,e,()=>{let r=t[Symbol.asyncIterator]();mt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function oE(t,e){return Cu(Tu(t),e)}function aE(t,e){if(t!=null){if(_u(t))return nE(t,e);if(yu(t))return iE(t,e);if(vu(t))return rE(t,e);if(Iu(t))return Cu(t,e);if(Du(t))return sE(t,e);if(bu(t))return oE(t,e)}throw wu(t)}function Te(t,e){return e?aE(t,e):Oe(t)}function K(...t){let e=or(t);return Te(t,e)}function cs(t,e){let n=te(t)?t:()=>t,r=i=>i.error(n());return new se(e?i=>e.schedule(r,0,i):r)}function kf(t){return!!t&&(t instanceof se||te(t.lift)&&te(t.subscribe))}var Dn=Zi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Z(t,e){return he((n,r)=>{let i=0;n.subscribe(ue(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:zN}=Array;function qN(t,e){return zN(e)?t(...e):t(e)}function Au(t){return Z(e=>qN(t,e))}var{isArray:GN}=Array,{getPrototypeOf:WN,prototype:KN,keys:QN}=Object;function Su(t){if(t.length===1){let e=t[0];if(GN(e))return{args:e,keys:null};if(YN(e)){let n=QN(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function YN(t){return t&&typeof t=="object"&&WN(t)===KN}function Ru(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function ta(...t){let e=or(t),n=mu(t),{args:r,keys:i}=Su(t);if(r.length===0)return Te([],e);let s=new se(JN(r,e,i?o=>Ru(i,o):_t));return n?s.pipe(Au(n)):s}function JN(t,e,n=_t){return r=>{cE(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let u=0;u<i;u++)cE(e,()=>{let l=Te(t[u],e),h=!1;l.subscribe(ue(r,p=>{s[u]=p,h||(h=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function cE(t,e,n){t?mt(n,t,e):e()}function uE(t,e,n,r,i,s,o,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=M=>l<r?C(M):u.push(M),C=M=>{s&&e.next(M),l++;let R=!1;Oe(n(M,h++)).subscribe(ue(e,x=>{i?.(x),s?y(x):e.next(x)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let x=u.shift();o?mt(e,o,()=>C(x)):C(x)}m()}catch(x){e.error(x)}}))};return t.subscribe(ue(e,y,()=>{p=!0,m()})),()=>{a?.()}}function ke(t,e,n=1/0){return te(e)?ke((r,i)=>Z((s,o)=>e(r,s,i,o))(Oe(t(r,i))),n):(typeof e=="number"&&(n=e),he((r,i)=>uE(r,i,t,n)))}function us(t=1/0){return ke(_t,t)}function lE(){return us(1)}function ls(...t){return lE()(Te(t,or(t)))}function Nu(t){return new se(e=>{Oe(t()).subscribe(e)})}function Ff(...t){let e=mu(t),{args:n,keys:r}=Su(t),i=new se(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),u=o,l=o;for(let h=0;h<o;h++){let p=!1;Oe(n[h]).subscribe(ue(s,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||s.next(r?Ru(r,a):a),s.complete())}))}});return e?i.pipe(Au(e)):i}function lt(t,e){return he((n,r)=>{let i=0;n.subscribe(ue(r,s=>t.call(e,s,i++)&&r.next(s)))})}function ur(t){return he((e,n)=>{let r=null,i=!1,s;r=e.subscribe(ue(n,void 0,void 0,o=>{s=Oe(t(o,ur(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function dE(t,e,n,r,i){return(s,o)=>{let a=n,u=e,l=0;s.subscribe(ue(o,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function Tn(t,e){return te(e)?ke(t,e,1):ke(t,1)}function lr(t){return he((e,n)=>{let r=!1;e.subscribe(ue(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function bn(t){return t<=0?()=>It:he((e,n)=>{let r=0;e.subscribe(ue(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Lf(t){return Z(()=>t)}function Mu(t=ZN){return he((e,n)=>{let r=!1;e.subscribe(ue(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function ZN(){return new Dn}function ni(t){return he((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Jt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?lt((i,s)=>t(i,s,r)):_t,bn(1),n?lr(e):Mu(()=>new Dn))}function ds(t){return t<=0?()=>It:he((e,n)=>{let r=[];e.subscribe(ue(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Vf(t,e){let n=arguments.length>=2;return r=>r.pipe(t?lt((i,s)=>t(i,s,r)):_t,ds(1),n?lr(e):Mu(()=>new Dn))}function xu(t,e){return he(dE(t,e,arguments.length>=2,!0))}function Pu(...t){let e=or(t);return he((n,r)=>{(e?ls(t,n,e):ls(t,n)).subscribe(r)})}function yt(t,e){return he((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(ue(r,u=>{i?.unsubscribe();let l=0,h=s++;Oe(t(u,h)).subscribe(i=ue(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Uf(t){return he((e,n)=>{Oe(t).subscribe(ue(n,()=>n.complete(),Xo)),!n.closed&&e.subscribe(n)})}function Fe(t,e,n){let r=te(t)||e||n?{next:t,error:e,complete:n}:t;return r?he((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(ue(s,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),s.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),s.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):_t}var JE="https://g.co/ng/security#xss",$=class extends Error{constructor(e,n){super(pl(e,n)),this.code=e}};function pl(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function la(t){return{toString:t}.toString()}var Ou="__parameters__";function XN(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function ZE(t,e,n){return la(()=>{let r=XN(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(u,l,h){let p=u.hasOwnProperty(Ou)?u[Ou]:Object.defineProperty(u,Ou,{value:[]})[Ou];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Xf=globalThis;function Ee(t){for(let e in t)if(t[e]===Ee)return e;throw Error("Could not find renamed property on target object.")}function eM(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ht(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(ht).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function hE(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var tM=Ee({__forward_ref__:Ee});function Et(t){return t.__forward_ref__=Et,t.toString=function(){return ht(this())},t}function dt(t){return XE(t)?t():t}function XE(t){return typeof t=="function"&&t.hasOwnProperty(tM)&&t.__forward_ref__===Et}function L(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function on(t){return{providers:t.providers||[],imports:t.imports||[]}}function gl(t){return fE(t,tD)||fE(t,nD)}function eD(t){return gl(t)!==null}function fE(t,e){return t.hasOwnProperty(e)?t[e]:null}function nM(t){let e=t&&(t[tD]||t[nD]);return e||null}function pE(t){return t&&(t.hasOwnProperty(gE)||t.hasOwnProperty(rM))?t[gE]:null}var tD=Ee({\u0275prov:Ee}),gE=Ee({\u0275inj:Ee}),nD=Ee({ngInjectableDef:Ee}),rM=Ee({ngInjectorDef:Ee}),U=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=L({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function rD(t){return t&&!!t.\u0275providers}var iM=Ee({\u0275cmp:Ee}),sM=Ee({\u0275dir:Ee}),oM=Ee({\u0275pipe:Ee}),aM=Ee({\u0275mod:Ee}),qu=Ee({\u0275fac:Ee}),ra=Ee({__NG_ELEMENT_ID__:Ee}),mE=Ee({__NG_ENV_ID__:Ee});function ml(t){return typeof t=="string"?t:t==null?"":String(t)}function cM(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():ml(t)}function uM(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new $(-200,t)}function Zp(t,e){throw new $(-201,!1)}var oe=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(oe||{}),ep;function iD(){return ep}function Rt(t){let e=ep;return ep=t,e}function sD(t,e,n){let r=gl(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&oe.Optional)return null;if(e!==void 0)return e;Zp(t,"Injector")}var lM={},ia=lM,tp="__NG_DI_FLAG__",Gu="ngTempTokenPath",dM="ngTokenPath",hM=/\n/gm,fM="\u0275",yE="__source",ms;function pM(){return ms}function dr(t){let e=ms;return ms=t,e}function gM(t,e=oe.Default){if(ms===void 0)throw new $(-203,!1);return ms===null?sD(t,void 0,e):ms.get(t,e&oe.Optional?null:void 0,e)}function H(t,e=oe.Default){return(iD()||gM)(dt(t),e)}function P(t,e=oe.Default){return H(t,yl(e))}function yl(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function np(t){let e=[];for(let n=0;n<t.length;n++){let r=dt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new $(900,!1);let i,s=oe.Default;for(let o=0;o<r.length;o++){let a=r[o],u=mM(a);typeof u=="number"?u===-1?i=a.token:s|=u:i=a}e.push(H(i,s))}else e.push(H(r))}return e}function oD(t,e){return t[tp]=e,t.prototype[tp]=e,t}function mM(t){return t[tp]}function yM(t,e,n,r){let i=t[Gu];throw e[yE]&&i.unshift(e[yE]),t.message=vM(`
`+t.message,i,n,r),t[dM]=i,t[Gu]=null,t}function vM(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==fM?t.slice(2):t;let i=ht(e);if(Array.isArray(e))i=e.map(ht).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):ht(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(hM,`
  `)}`}var Ye=oD(ZE("Optional"),8);var vl=oD(ZE("SkipSelf"),4);function vs(t,e){let n=t.hasOwnProperty(qu);return n?t[qu]:null}function _M(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}function IM(t){return t.flat(Number.POSITIVE_INFINITY)}function Xp(t,e){t.forEach(n=>Array.isArray(n)?Xp(n,e):e(n))}function aD(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Wu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function wM(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function EM(t,e,n){let r=da(t,e);return r>=0?t[r|1]=n:(r=~r,wM(t,r,e,n)),r}function jf(t,e){let n=da(t,e);if(n>=0)return t[n|1]}function da(t,e){return DM(t,e,1)}function DM(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var _s={},Nt=[],Is=new U(""),cD=new U("",-1),uD=new U(""),Ku=class{get(e,n=ia){if(n===ia){let r=new Error(`NullInjectorError: No provider for ${ht(e)}!`);throw r.name="NullInjectorError",r}return n}},lD=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(lD||{}),en=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(en||{}),pr=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(pr||{});function TM(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function rp(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];CM(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function bM(t){return t===3||t===4||t===6}function CM(t){return t.charCodeAt(0)===64}function sa(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?vE(t,n,i,null,e[++r]):vE(t,n,i,null,null))}}return t}function vE(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var dD="ng-template";function AM(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&TM(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(eg(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function eg(t){return t.type===4&&t.value!==dD}function SM(t,e,n){let r=t.type===4&&!n?dD:t.value;return e===r}function RM(t,e,n){let r=4,i=t.attrs,s=i!==null?xM(i):0,o=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!o&&!jt(r)&&!jt(u))return!1;if(o&&jt(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!SM(t,u,n)||u===""&&e.length===1){if(jt(r))return!1;o=!0}}else if(r&8){if(i===null||!AM(t,i,u,n)){if(jt(r))return!1;o=!0}}else{let l=e[++a],h=NM(u,i,eg(t),n);if(h===-1){if(jt(r))return!1;o=!0;continue}if(l!==""){let p;if(h>s?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(jt(r))return!1;o=!0}}}}return jt(r)||o}function jt(t){return(t&1)===0}function NM(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return PM(e,t)}function MM(t,e,n=!1){for(let r=0;r<e.length;r++)if(RM(t,e[r],n))return!0;return!1}function xM(t){for(let e=0;e<t.length;e++){let n=t[e];if(bM(n))return e}return t.length}function PM(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function _E(t,e){return t?":not("+e.trim()+")":e}function OM(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!jt(o)&&(e+=_E(s,i),i=""),r=o,s=s||!jt(r);n++}return i!==""&&(e+=_E(s,i)),e}function kM(t){return t.map(OM).join(",")}function FM(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!jt(i))break;i=s}r++}return{attrs:e,classes:n}}function hD(t){return la(()=>{let e=yD(t),n=ce(F({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===lD.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||en.Emulated,styles:t.styles||Nt,_:null,schemas:t.schemas||null,tView:null,id:""});vD(n);let r=t.dependencies;return n.directiveDefs=wE(r,!1),n.pipeDefs=wE(r,!0),n.id=UM(n),n})}function LM(t){return gr(t)||fD(t)}function VM(t){return t!==null}function an(t){return la(()=>({type:t.type,bootstrap:t.bootstrap||Nt,declarations:t.declarations||Nt,imports:t.imports||Nt,exports:t.exports||Nt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function IE(t,e){if(t==null)return _s;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=pr.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==pr.None?[r,a]:r,e[s]=o):n[s]=r}return n}function Ce(t){return la(()=>{let e=yD(t);return vD(e),e})}function gr(t){return t[iM]||null}function fD(t){return t[sM]||null}function pD(t){return t[oM]||null}function gD(t){let e=gr(t)||fD(t)||pD(t);return e!==null?e.standalone:!1}function mD(t,e){let n=t[aM]||null;if(!n&&e===!0)throw new Error(`Type ${ht(t)} does not have '\u0275mod' property.`);return n}function yD(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||_s,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Nt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:IE(t.inputs,e),outputs:IE(t.outputs),debugInfo:null}}function vD(t){t.features?.forEach(e=>e(t))}function wE(t,e){if(!t)return null;let n=e?pD:LM;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(VM)}function UM(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function xt(t){return{\u0275providers:t}}function jM(...t){return{\u0275providers:_D(!0,t),\u0275fromNgModule:!0}}function _D(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return Xp(e,o=>{let a=o;ip(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&ID(i,s),n}function ID(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];tg(i,s=>{e(s,r)})}}function ip(t,e,n,r){if(t=dt(t),!t)return!1;let i=null,s=pE(t),o=!s&&gr(t);if(!s&&!o){let u=t.ngModule;if(s=pE(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of u)ip(l,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let l;try{Xp(s.imports,h=>{ip(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&ID(l,e)}if(!a){let l=vs(i)||(()=>new i);e({provide:i,useFactory:l,deps:Nt},i),e({provide:uD,useValue:i,multi:!0},i),e({provide:Is,useValue:()=>H(i),multi:!0},i)}let u=s.providers;if(u!=null&&!a){let l=t;tg(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function tg(t,e){for(let n of t)rD(n)&&(n=n.\u0275providers),Array.isArray(n)?tg(n,e):e(n)}var BM=Ee({provide:String,useValue:Ee});function wD(t){return t!==null&&typeof t=="object"&&BM in t}function $M(t){return!!(t&&t.useExisting)}function HM(t){return!!(t&&t.useFactory)}function ws(t){return typeof t=="function"}function zM(t){return!!t.useClass}var _l=new U(""),Uu={},qM={},Bf;function ng(){return Bf===void 0&&(Bf=new Ku),Bf}var ft=class{},oa=class extends ft{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,op(e,o=>this.processProvider(o)),this.records.set(cD,hs(void 0,this)),i.has("environment")&&this.records.set(ft,hs(void 0,this));let s=this.records.get(_l);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(uD,Nt,oe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=pe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),pe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=dr(this),r=Rt(void 0),i;try{return e()}finally{dr(n),Rt(r)}}get(e,n=ia,r=oe.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(mE))return e[mE](this);r=yl(r);let i,s=dr(this),o=Rt(void 0);try{if(!(r&oe.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=YM(e)&&gl(e);l&&this.injectableDefInScope(l)?u=hs(sp(e),Uu):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&oe.Self?ng():this.parent;return n=r&oe.Optional&&n===ia?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Gu]=a[Gu]||[]).unshift(ht(e)),s)throw a;return yM(a,e,"R3InjectorError",this.source)}else throw a}finally{Rt(o),dr(s)}}resolveInjectorInitializers(){let e=pe(null),n=dr(this),r=Rt(void 0),i;try{let s=this.get(Is,Nt,oe.Self);for(let o of s)o()}finally{dr(n),Rt(r),pe(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(ht(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new $(205,!1)}processProvider(e){e=dt(e);let n=ws(e)?e:dt(e&&e.provide),r=WM(e);if(!ws(e)&&e.multi===!0){let i=this.records.get(n);i||(i=hs(void 0,Uu,!0),i.factory=()=>np(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=pe(null);try{return n.value===Uu&&(n.value=qM,n.value=n.factory()),typeof n.value=="object"&&n.value&&QM(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{pe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=dt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function sp(t){let e=gl(t),n=e!==null?e.factory:vs(t);if(n!==null)return n;if(t instanceof U)throw new $(204,!1);if(t instanceof Function)return GM(t);throw new $(204,!1)}function GM(t){if(t.length>0)throw new $(204,!1);let n=nM(t);return n!==null?()=>n.factory(t):()=>new t}function WM(t){if(wD(t))return hs(void 0,t.useValue);{let e=ED(t);return hs(e,Uu)}}function ED(t,e,n){let r;if(ws(t)){let i=dt(t);return vs(i)||sp(i)}else if(wD(t))r=()=>dt(t.useValue);else if(HM(t))r=()=>t.useFactory(...np(t.deps||[]));else if($M(t))r=()=>H(dt(t.useExisting));else{let i=dt(t&&(t.useClass||t.provide));if(KM(t))r=()=>new i(...np(t.deps));else return vs(i)||sp(i)}return r}function hs(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function KM(t){return!!t.deps}function QM(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function YM(t){return typeof t=="function"||typeof t=="object"&&t instanceof U}function op(t,e){for(let n of t)Array.isArray(n)?op(n,e):n&&rD(n)?op(n.\u0275providers,e):e(n)}function Pt(t,e){t instanceof oa&&t.assertNotDestroyed();let n,r=dr(t),i=Rt(void 0);try{return e()}finally{dr(r),Rt(i)}}function DD(){return iD()!==void 0||pM()!=null}function JM(t){if(!DD())throw new $(-203,!1)}function ZM(t){return typeof t=="function"}var Nn=0,ie=1,J=2,rt=3,Bt=4,Ht=5,Qu=6,Yu=7,$t=8,Es=9,tn=10,Pe=11,aa=12,EE=13,Ns=14,nn=15,oi=16,fs=17,Cn=18,Il=19,TD=20,hr=21,$f=22,Mt=23,An=25,bD=1;var ai=7,Ju=8,Ds=9,wt=10,Zu=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Zu||{});function fr(t){return Array.isArray(t)&&typeof t[bD]=="object"}function Mn(t){return Array.isArray(t)&&t[bD]===!0}function rg(t){return(t.flags&4)!==0}function wl(t){return t.componentOffset>-1}function El(t){return(t.flags&1)===1}function mr(t){return!!t.template}function ap(t){return(t[J]&512)!==0}var cp=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function CD(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function xn(){return AD}function AD(t){return t.type.prototype.ngOnChanges&&(t.setInput=ex),XM}xn.ngInherit=!0;function XM(){let t=RD(this),e=t?.current;if(e){let n=t.previous;if(n===_s)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function ex(t,e,n,r,i){let s=this.declaredInputs[r],o=RD(t)||tx(t,{previous:_s,current:null}),a=o.current||(o.current={}),u=o.previous,l=u[s];a[s]=new cp(l&&l.currentValue,n,u===_s),CD(t,e,i,n)}var SD="__ngSimpleChanges__";function RD(t){return t[SD]||null}function tx(t,e){return t[SD]=e}var DE=null;var Zt=function(t,e,n){DE?.(t,e,n)},nx="svg",rx="math";function rn(t){for(;Array.isArray(t);)t=t[Nn];return t}function ND(t,e){return rn(e[t])}function Ot(t,e){return rn(e[t.index])}function MD(t,e){return t.data[e]}function _r(t,e){let n=e[t];return fr(n)?n:n[Nn]}function ix(t){return(t[J]&4)===4}function ig(t){return(t[J]&128)===128}function sx(t){return Mn(t[rt])}function Ts(t,e){return e==null?null:t[e]}function xD(t){t[fs]=0}function PD(t){t[J]&1024||(t[J]|=1024,ig(t)&&Tl(t))}function ox(t,e){for(;t>0;)e=e[Ns],t--;return e}function Dl(t){return!!(t[J]&9216||t[Mt]?.dirty)}function up(t){t[tn].changeDetectionScheduler?.notify(8),t[J]&64&&(t[J]|=1024),Dl(t)&&Tl(t)}function Tl(t){t[tn].changeDetectionScheduler?.notify(0);let e=ci(t);for(;e!==null&&!(e[J]&8192||(e[J]|=8192,!ig(e)));)e=ci(e)}function OD(t,e){if((t[J]&256)===256)throw new $(911,!1);t[hr]===null&&(t[hr]=[]),t[hr].push(e)}function ax(t,e){if(t[hr]===null)return;let n=t[hr].indexOf(e);n!==-1&&t[hr].splice(n,1)}function ci(t){let e=t[rt];return Mn(e)?e[rt]:e}var ae={lFrame:HD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var kD=!1;function cx(){return ae.lFrame.elementDepthCount}function ux(){ae.lFrame.elementDepthCount++}function lx(){ae.lFrame.elementDepthCount--}function FD(){return ae.bindingsEnabled}function dx(){return ae.skipHydrationRootTNode!==null}function hx(t){return ae.skipHydrationRootTNode===t}function fx(){ae.skipHydrationRootTNode=null}function ve(){return ae.lFrame.lView}function ze(){return ae.lFrame.tView}function V9(t){return ae.lFrame.contextLView=t,t[$t]}function U9(t){return ae.lFrame.contextLView=null,t}function pt(){let t=LD();for(;t!==null&&t.type===64;)t=t.parent;return t}function LD(){return ae.lFrame.currentTNode}function px(){let t=ae.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function mi(t,e){let n=ae.lFrame;n.currentTNode=t,n.isParent=e}function sg(){return ae.lFrame.isParent}function VD(){ae.lFrame.isParent=!1}function UD(){return kD}function TE(t){kD=t}function gx(){let t=ae.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function mx(t){return ae.lFrame.bindingIndex=t}function bl(){return ae.lFrame.bindingIndex++}function yx(t){let e=ae.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function vx(){return ae.lFrame.inI18n}function _x(t,e){let n=ae.lFrame;n.bindingIndex=n.bindingRootIndex=t,lp(e)}function Ix(){return ae.lFrame.currentDirectiveIndex}function lp(t){ae.lFrame.currentDirectiveIndex=t}function wx(t){let e=ae.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function jD(){return ae.lFrame.currentQueryIndex}function og(t){ae.lFrame.currentQueryIndex=t}function Ex(t){let e=t[ie];return e.type===2?e.declTNode:e.type===1?t[Ht]:null}function BD(t,e,n){if(n&oe.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&oe.Host);)if(i=Ex(s),i===null||(s=s[Ns],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=ae.lFrame=$D();return r.currentTNode=e,r.lView=t,!0}function ag(t){let e=$D(),n=t[ie];ae.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function $D(){let t=ae.lFrame,e=t===null?null:t.child;return e===null?HD(t):e}function HD(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function zD(){let t=ae.lFrame;return ae.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var qD=zD;function cg(){let t=zD();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Dx(t){return(ae.lFrame.contextLView=ox(t,ae.lFrame.contextLView))[$t]}function Ms(){return ae.lFrame.selectedIndex}function ui(t){ae.lFrame.selectedIndex=t}function Cl(){let t=ae.lFrame;return MD(t.tView,t.selectedIndex)}function Tx(){return ae.lFrame.currentNamespace}var GD=!0;function Al(){return GD}function Sl(t){GD=t}function bx(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=AD(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Rl(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function ju(t,e,n){WD(t,e,3,n)}function Bu(t,e,n,r){(t[J]&3)===n&&WD(t,e,n,r)}function Hf(t,e){let n=t[J];(n&3)===e&&(n&=16383,n+=1,t[J]=n)}function WD(t,e,n,r){let i=r!==void 0?t[fs]&65535:0,s=r??-1,o=e.length-1,a=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[fs]+=65536),(a<s||s==-1)&&(Cx(t,n,e,u),t[fs]=(t[fs]&4294901760)+u+2),u++}function bE(t,e){Zt(4,t,e);let n=pe(null);try{e.call(t)}finally{pe(n),Zt(5,t,e)}}function Cx(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[J]>>14<t[fs]>>16&&(t[J]&3)===e&&(t[J]+=16384,bE(a,s)):bE(a,s)}var ys=-1,li=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function Ax(t){return t instanceof li}function Sx(t){return(t.flags&8)!==0}function Rx(t){return(t.flags&16)!==0}var zf={},dp=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=yl(r);let i=this.injector.get(e,zf,r);return i!==zf||n===zf?i:this.parentInjector.get(e,n,r)}};function KD(t){return t!==ys}function Xu(t){return t&32767}function Nx(t){return t>>16}function el(t,e){let n=Nx(t),r=e;for(;n>0;)r=r[Ns],n--;return r}var hp=!0;function CE(t){let e=hp;return hp=t,e}var Mx=256,QD=Mx-1,YD=5,xx=0,Xt={};function Px(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(ra)&&(r=n[ra]),r==null&&(r=n[ra]=xx++);let i=r&QD,s=1<<i;e.data[t+(i>>YD)]|=s}function tl(t,e){let n=JD(t,e);if(n!==-1)return n;let r=e[ie];r.firstCreatePass&&(t.injectorIndex=e.length,qf(r.data,t),qf(e,null),qf(r.blueprint,null));let i=ug(t,e),s=t.injectorIndex;if(KD(i)){let o=Xu(i),a=el(i,e),u=a[ie].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|u[o+l]}return e[s+8]=i,s}function qf(t,e){t.push(0,0,0,0,0,0,0,0,e)}function JD(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function ug(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=nT(i),r===null)return ys;if(n++,i=i[Ns],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return ys}function fp(t,e,n){Px(t,e,n)}function ZD(t,e,n){if(n&oe.Optional||t!==void 0)return t;Zp(e,"NodeInjector")}function XD(t,e,n,r){if(n&oe.Optional&&r===void 0&&(r=null),!(n&(oe.Self|oe.Host))){let i=t[Es],s=Rt(void 0);try{return i?i.get(e,r,n&oe.Optional):sD(e,r,n&oe.Optional)}finally{Rt(s)}}return ZD(r,e,n)}function eT(t,e,n,r=oe.Default,i){if(t!==null){if(e[J]&2048&&!(r&oe.Self)){let o=Lx(t,e,n,r,Xt);if(o!==Xt)return o}let s=tT(t,e,n,r,Xt);if(s!==Xt)return s}return XD(e,n,r,i)}function tT(t,e,n,r,i){let s=kx(n);if(typeof s=="function"){if(!BD(e,t,r))return r&oe.Host?ZD(i,n,r):XD(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&oe.Optional))Zp(n);else return o}finally{qD()}}else if(typeof s=="number"){let o=null,a=JD(t,e),u=ys,l=r&oe.Host?e[nn][Ht]:null;for((a===-1||r&oe.SkipSelf)&&(u=a===-1?ug(t,e):e[a+8],u===ys||!SE(r,!1)?a=-1:(o=e[ie],a=Xu(u),e=el(u,e)));a!==-1;){let h=e[ie];if(AE(s,a,h.data)){let p=Ox(a,e,n,o,r,l);if(p!==Xt)return p}u=e[a+8],u!==ys&&SE(r,e[ie].data[a+8]===l)&&AE(s,a,e)?(o=h,a=Xu(u),e=el(u,e)):a=-1}}return i}function Ox(t,e,n,r,i,s){let o=e[ie],a=o.data[t+8],u=r==null?wl(a)&&hp:r!=o&&(a.type&3)!==0,l=i&oe.Host&&s===a,h=$u(a,o,n,u,l);return h!==null?di(e,o,h,a):Xt}function $u(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,u=t.directiveStart,l=t.directiveEnd,h=s>>20,p=r?a:a+h,m=i?a+h:l;for(let y=p;y<m;y++){let C=o[y];if(y<u&&n===C||y>=u&&C.type===n)return y}if(i){let y=o[u];if(y&&mr(y)&&y.type===n)return u}return null}function di(t,e,n,r){let i=t[n],s=e.data;if(Ax(i)){let o=i;o.resolving&&uM(cM(s[n]));let a=CE(o.canSeeViewProviders);o.resolving=!0;let u,l=o.injectImpl?Rt(o.injectImpl):null,h=BD(t,r,oe.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&bx(n,s[n],e)}finally{l!==null&&Rt(l),CE(a),o.resolving=!1,qD()}}return i}function kx(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(ra)?t[ra]:void 0;return typeof e=="number"?e>=0?e&QD:Fx:e}function AE(t,e,n){let r=1<<t;return!!(n[e+(t>>YD)]&r)}function SE(t,e){return!(t&oe.Self)&&!(t&oe.Host&&e)}var si=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return eT(this._tNode,this._lView,e,yl(r),n)}};function Fx(){return new si(pt(),ve())}function Pn(t){return la(()=>{let e=t.prototype.constructor,n=e[qu]||pp(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[qu]||pp(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function pp(t){return XE(t)?()=>{let e=pp(dt(t));return e&&e()}:vs(t)}function Lx(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[J]&2048&&!(o[J]&512);){let a=tT(s,o,n,r|oe.Self,Xt);if(a!==Xt)return a;let u=s.parent;if(!u){let l=o[TD];if(l){let h=l.get(n,Xt,r);if(h!==Xt)return h}u=nT(o),o=o[Ns]}s=u}return i}function nT(t){let e=t[ie],n=e.type;return n===2?e.declTNode:n===1?t[Ht]:null}function RE(t,e=null,n=null,r){let i=rT(t,e,n,r);return i.resolveInjectorInitializers(),i}function rT(t,e=null,n=null,r,i=new Set){let s=[n||Nt,jM(t)];return r=r||(typeof t=="object"?void 0:ht(t)),new oa(s,e||ng(),r||null,i)}var ri=class ri{static create(e,n){if(Array.isArray(e))return RE({name:""},n,e,"");{let r=e.name??"";return RE({name:r},e.parent,e.providers,r)}}};ri.THROW_IF_NOT_FOUND=ia,ri.NULL=new Ku,ri.\u0275prov=L({token:ri,providedIn:"any",factory:()=>H(cD)}),ri.__NG_ELEMENT_ID__=-1;var He=ri;var Vx=new U("");Vx.__NG_ELEMENT_ID__=t=>{let e=pt();if(e===null)throw new $(204,!1);if(e.type&2)return e.value;if(t&oe.Optional)return null;throw new $(204,!1)};var Ux="ngOriginalError";function Gf(t){return t[Ux]}var iT=!0,lg=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=jx,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),gp=class extends lg{constructor(e){super(),this._lView=e}onDestroy(e){return OD(this._lView,e),()=>ax(this._lView,e)}};function jx(){return new gp(ve())}var Ir=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Be(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=L({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var mp=class extends Qe{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,DD()&&(this.destroyRef=P(lg,{optional:!0})??void 0,this.pendingTasks=P(Ir,{optional:!0})??void 0)}emit(e){let n=pe(null);try{super.next(e)}finally{pe(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Me&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Se=mp;function nl(...t){}function sT(t){let e,n;function r(){t=nl;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function NE(t){return queueMicrotask(()=>t()),()=>{t=nl}}var dg="isAngularZone",rl=dg+"_ID",Bx=0,me=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Se(!1),this.onMicrotaskEmpty=new Se(!1),this.onStable=new Se(!1),this.onError=new Se(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=iT}=e;if(typeof Zone>"u")throw new $(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,zx(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(dg)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new $(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new $(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,$x,nl,nl);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},$x={};function hg(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Hx(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){sT(()=>{t.callbackScheduled=!1,yp(t),t.isCheckStableRunning=!0,hg(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),yp(t)}function zx(t){let e=()=>{Hx(t)},n=Bx++;t._inner=t._inner.fork({name:"angular",properties:{[dg]:!0,[rl]:n,[rl+n]:!0},onInvokeTask:(r,i,s,o,a,u)=>{if(qx(u))return r.invokeTask(s,o,a,u);try{return ME(t),r.invokeTask(s,o,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),xE(t)}},onInvoke:(r,i,s,o,a,u,l)=>{try{return ME(t),r.invoke(s,o,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!Gx(u)&&e(),xE(t)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,yp(t),hg(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function yp(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function ME(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function xE(t){t._nesting--,hg(t)}var vp=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Se,this.onMicrotaskEmpty=new Se,this.onStable=new Se,this.onError=new Se}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function qx(t){return oT(t,"__ignore_ng_zone__")}function Gx(t){return oT(t,"__scheduler_tick__")}function oT(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Sn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Gf(e);for(;n&&Gf(n);)n=Gf(n);return n||null}},Wx=new U("",{providedIn:"root",factory:()=>{let t=P(me),e=P(Sn);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function Kx(){return xs(pt(),ve())}function xs(t,e){return new Dt(Ot(t,e))}var Dt=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=Kx;let t=e;return t})();function Qx(t){return t instanceof Dt?t.nativeElement:t}function Yx(){return this._results[Symbol.iterator]()}var _p=class t{get changes(){return this._changes??=new Se}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=Yx)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=IM(e);(this._changesDetected=!_M(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function aT(t){return(t.flags&128)===128}var cT=new Map,Jx=0;function Zx(){return Jx++}function Xx(t){cT.set(t[Il],t)}function Ip(t){cT.delete(t[Il])}var PE="__ngContext__";function yr(t,e){fr(e)?(t[PE]=e[Il],Xx(e)):t[PE]=e}function uT(t){return dT(t[aa])}function lT(t){return dT(t[Bt])}function dT(t){for(;t!==null&&!Mn(t);)t=t[Bt];return t}var wp;function hT(t){wp=t}function eP(){if(wp!==void 0)return wp;if(typeof document<"u")return document;throw new $(210,!1)}var fg=new U("",{providedIn:"root",factory:()=>tP}),tP="ng",pg=new U(""),kt=new U("",{providedIn:"platform",factory:()=>"unknown"});var gg=new U("",{providedIn:"root",factory:()=>eP().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var nP="h",rP="b";var iP=()=>null;function mg(t,e,n=!1){return iP(t,e,n)}var fT=!1,sP=new U("",{providedIn:"root",factory:()=>fT});var ku;function oP(){if(ku===void 0&&(ku=null,Xf.trustedTypes))try{ku=Xf.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ku}function aP(t){return oP()?.createScriptURL(t)||t}var il=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${JE})`}};function Nl(t){return t instanceof il?t.changingThisBreaksApplicationSecurity:t}function pT(t,e){let n=cP(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${JE})`)}return n===e}function cP(t){return t instanceof il&&t.getTypeName()||null}var uP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function gT(t){return t=String(t),t.match(uP)?t:"unsafe:"+t}var yg=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(yg||{});function j9(t){let e=lP();return e?e.sanitize(yg.URL,t)||"":pT(t,"URL")?Nl(t):gT(ml(t))}function B9(t){return aP(t[0])}function lP(){let t=ve();return t&&t[tn].sanitizer}var dP=/^>|^->|<!--|-->|--!>|<!-$/g,hP=/(<|>)/g,fP="\u200B$1\u200B";function pP(t){return t.replace(dP,e=>e.replace(hP,fP))}function mT(t){return t instanceof Function?t():t}function gP(t){return(t??P(He)).get(kt)==="browser"}var sn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(sn||{}),mP;function vg(t,e){return mP(t,e)}function ps(t,e,n,r,i){if(r!=null){let s,o=!1;Mn(r)?s=r:fr(r)&&(o=!0,r=r[Nn]);let a=rn(r);t===0&&n!==null?i==null?wT(e,n,a):sl(e,n,a,i||null,!0):t===1&&n!==null?sl(e,n,a,i||null,!0):t===2?xP(e,a,o):t===3&&e.destroyNode(a),s!=null&&OP(e,t,s,n,i)}}function yP(t,e){return t.createText(e)}function vP(t,e,n){t.setValue(e,n)}function _P(t,e){return t.createComment(pP(e))}function yT(t,e,n){return t.createElement(e,n)}function IP(t,e){vT(t,e),e[Nn]=null,e[Ht]=null}function wP(t,e,n,r,i,s){r[Nn]=i,r[Ht]=e,xl(t,r,n,1,i,s)}function vT(t,e){e[tn].changeDetectionScheduler?.notify(9),xl(t,e,e[Pe],2,null,null)}function EP(t){let e=t[aa];if(!e)return Wf(t[ie],t);for(;e;){let n=null;if(fr(e))n=e[aa];else{let r=e[wt];r&&(n=r)}if(!n){for(;e&&!e[Bt]&&e!==t;)fr(e)&&Wf(e[ie],e),e=e[rt];e===null&&(e=t),fr(e)&&Wf(e[ie],e),n=e&&e[Bt]}e=n}}function DP(t,e,n,r){let i=wt+r,s=n.length;r>0&&(n[i-1][Bt]=e),r<s-wt?(e[Bt]=n[i],aD(n,wt+r,e)):(n.push(e),e[Bt]=null),e[rt]=n;let o=e[oi];o!==null&&n!==o&&_T(o,e);let a=e[Cn];a!==null&&a.insertView(t),up(e),e[J]|=128}function _T(t,e){let n=t[Ds],r=e[rt];if(fr(r))t[J]|=Zu.HasTransplantedViews;else{let i=r[rt][nn];e[nn]!==i&&(t[J]|=Zu.HasTransplantedViews)}n===null?t[Ds]=[e]:n.push(e)}function _g(t,e){let n=t[Ds],r=n.indexOf(e);n.splice(r,1)}function Ep(t,e){if(t.length<=wt)return;let n=wt+e,r=t[n];if(r){let i=r[oi];i!==null&&i!==t&&_g(i,r),e>0&&(t[n-1][Bt]=r[Bt]);let s=Wu(t,wt+e);IP(r[ie],r);let o=s[Cn];o!==null&&o.detachView(s[ie]),r[rt]=null,r[Bt]=null,r[J]&=-129}return r}function IT(t,e){if(!(e[J]&256)){let n=e[Pe];n.destroyNode&&xl(t,e,n,3,null,null),EP(e)}}function Wf(t,e){if(e[J]&256)return;let n=pe(null);try{e[J]&=-129,e[J]|=256,e[Mt]&&wf(e[Mt]),bP(t,e),TP(t,e),e[ie].type===1&&e[Pe].destroy();let r=e[oi];if(r!==null&&Mn(e[rt])){r!==e[rt]&&_g(r,e);let i=e[Cn];i!==null&&i.detachView(t)}Ip(e)}finally{pe(n)}}function TP(t,e){let n=t.cleanup,r=e[Yu];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[Yu]=null);let i=e[hr];if(i!==null){e[hr]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function bP(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof li)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],u=s[o+1];Zt(4,a,u);try{u.call(a)}finally{Zt(5,a,u)}}else{Zt(4,i,s);try{s.call(i)}finally{Zt(5,i,s)}}}}}function CP(t,e,n){return AP(t,e.parent,n)}function AP(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Nn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===en.None||s===en.Emulated)return null}return Ot(r,n)}}function sl(t,e,n,r,i){t.insertBefore(e,n,r,i)}function wT(t,e,n){t.appendChild(e,n)}function OE(t,e,n,r,i){r!==null?sl(t,e,n,r,i):wT(t,e,n)}function ET(t,e){return t.parentNode(e)}function SP(t,e){return t.nextSibling(e)}function RP(t,e,n){return MP(t,e,n)}function NP(t,e,n){return t.type&40?Ot(t,n):null}var MP=NP,kE;function Ml(t,e,n,r){let i=CP(t,r,e),s=e[Pe],o=r.parent||e[Ht],a=RP(o,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)OE(s,i,n[u],a,!1);else OE(s,i,n,a,!1);kE!==void 0&&kE(s,r,e,n,i)}function na(t,e){if(e!==null){let n=e.type;if(n&3)return Ot(e,t);if(n&4)return Dp(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return na(t,r);{let i=t[e.index];return Mn(i)?Dp(-1,i):rn(i)}}else{if(n&128)return na(t,e.next);if(n&32)return vg(e,t)()||rn(t[e.index]);{let r=DT(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=ci(t[nn]);return na(i,r)}else return na(t,e.next)}}}return null}function DT(t,e){if(e!==null){let r=t[nn][Ht],i=e.projection;return r.projection[i]}return null}function Dp(t,e){let n=wt+t+1;if(n<e.length){let r=e[n],i=r[ie].firstChild;if(i!==null)return na(r,i)}return e[ai]}function xP(t,e,n){t.removeChild(null,e,n)}function Ig(t,e,n,r,i,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(o&&e===0&&(a&&yr(rn(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Ig(t,e,n.child,r,i,s,!1),ps(e,t,i,a,s);else if(u&32){let l=vg(n,r),h;for(;h=l();)ps(e,t,i,h,s);ps(e,t,i,a,s)}else u&16?PP(t,e,r,n,i,s):ps(e,t,i,a,s);n=o?n.projectionNext:n.next}}function xl(t,e,n,r,i,s){Ig(n,r,t.firstChild,e,i,s,!1)}function PP(t,e,n,r,i,s){let o=n[nn],u=o[Ht].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];ps(e,t,i,h,s)}else{let l=u,h=o[rt];aT(r)&&(l.flags|=128),Ig(t,e,l,h,i,s,!0)}}function OP(t,e,n,r,i){let s=n[ai],o=rn(n);s!==o&&ps(e,t,r,s,i);for(let a=wt;a<n.length;a++){let u=n[a];xl(u[ie],u,t,e,r,s)}}function kP(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:sn.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=sn.Important),t.setStyle(n,r,i,s))}}function FP(t,e,n){t.setAttribute(e,"style",n)}function TT(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function bT(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&rp(t,e,r),i!==null&&TT(t,e,i),s!==null&&FP(t,e,s)}var wr={};function $9(t=1){CT(ze(),ve(),Ms()+t,!1)}function CT(t,e,n,r){if(!r)if((e[J]&3)===3){let s=t.preOrderCheckHooks;s!==null&&ju(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Bu(e,s,0,n)}ui(n)}function X(t,e=oe.Default){let n=ve();if(n===null)return H(t,e);let r=pt();return eT(r,n,dt(t),e)}function AT(){let t="invalid";throw new Error(t)}function ST(t,e,n,r,i,s){let o=pe(null);try{let a=null;i&pr.SignalBased&&(a=e[r][En]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&pr.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):CD(e,a,r,s)}finally{pe(o)}}function LP(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)ui(~i);else{let s=i,o=n[++r],a=n[++r];_x(o,s);let u=e[s];a(2,u)}}}finally{ui(-1)}}function Pl(t,e,n,r,i,s,o,a,u,l,h){let p=e.blueprint.slice();return p[Nn]=i,p[J]=r|4|128|8|64,(l!==null||t&&t[J]&2048)&&(p[J]|=2048),xD(p),p[rt]=p[Ns]=t,p[$t]=n,p[tn]=o||t&&t[tn],p[Pe]=a||t&&t[Pe],p[Es]=u||t&&t[Es]||null,p[Ht]=s,p[Il]=Zx(),p[Qu]=h,p[TD]=l,p[nn]=e.type==2?t[nn]:p,p}function ha(t,e,n,r,i){let s=t.data[e];if(s===null)s=VP(t,e,n,r,i),vx()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=px();s.injectorIndex=o===null?-1:o.injectorIndex}return mi(s,!0),s}function VP(t,e,n,r,i){let s=LD(),o=sg(),a=o?s:s&&s.parent,u=t.data[e]=zP(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function RT(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function NT(t,e,n,r,i){let s=Ms(),o=r&2;try{ui(-1),o&&e.length>An&&CT(t,e,An,!1),Zt(o?2:0,i),n(r,i)}finally{ui(s),Zt(o?3:1,i)}}function wg(t,e,n){if(rg(e)){let r=pe(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let u=n[o];a.contentQueries(1,u,o)}}}finally{pe(r)}}}function Eg(t,e,n){FD()&&(YP(t,e,n,Ot(n,e)),(n.flags&64)===64&&PT(t,e,n))}function Dg(t,e,n=Ot){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function MT(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Tg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Tg(t,e,n,r,i,s,o,a,u,l,h){let p=An+r,m=p+i,y=UP(p,m),C=typeof l=="function"?l():l;return y[ie]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:C,incompleteFirstPass:!1,ssrId:h}}function UP(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:wr);return n}function jP(t,e,n,r){let s=r.get(sP,fT)||n===en.ShadowDom,o=t.selectRootElement(e,s);return BP(o),o}function BP(t){$P(t)}var $P=()=>null;function HP(t,e,n,r){let i=FT(e);i.push(n),t.firstCreatePass&&LT(t).push(r,i.length-1)}function zP(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return dx()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function FE(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,u=pr.None;Array.isArray(o)?(a=o[0],u=o[1]):a=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}t===0?LE(r,n,l,a,u):LE(r,n,l,a)}return r}function LE(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function qP(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=s[h],m=n?n.get(p):null,y=m?m.inputs:null,C=m?m.outputs:null;u=FE(0,p.inputs,h,u,y),l=FE(1,p.outputs,h,l,C);let M=u!==null&&o!==null&&!eg(e)?aO(u,h,o):null;a.push(M)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function GP(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function bg(t,e,n,r,i,s,o,a){let u=Ot(e,n),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(Ag(t,n,h,r,i),wl(e)&&WP(n,e.index)):e.type&3?(r=GP(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function WP(t,e){let n=_r(e,t);n[J]&16||(n[J]|=64)}function Cg(t,e,n,r){if(FD()){let i=r===null?null:{"":-1},s=ZP(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&xT(t,e,n,o,i,a),i&&XP(n,r,i)}n.mergedAttrs=sa(n.mergedAttrs,n.attrs)}function xT(t,e,n,r,i,s){for(let l=0;l<r.length;l++)fp(tl(n,e),t,r[l].type);tO(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let o=!1,a=!1,u=RT(t,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=sa(n.mergedAttrs,h.hostAttrs),nO(t,n,e,u,h),eO(u,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!o&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}qP(t,n,s)}function KP(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;QP(o)!=a&&o.push(a),o.push(n,r,s)}}function QP(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function YP(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;wl(n)&&rO(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||tl(n,e),yr(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let u=t.data[a],l=di(e,t,a,n);if(yr(l,e),o!==null&&oO(e,a-i,l,u,n,o),mr(u)){let h=_r(n.index,e);h[$t]=di(e,t,a,n)}}}function PT(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=Ix();try{ui(s);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];lp(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&JP(u,l)}}finally{ui(-1),lp(o)}}function JP(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function ZP(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(MM(e,o.selectors,!1))if(r||(r=[]),mr(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let u=a.length;Tp(t,e,u)}else r.unshift(o),Tp(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Tp(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function XP(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new $(-301,!1);r.push(e[i],s)}}}function eO(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;mr(e)&&(n[""]=t)}}function tO(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function nO(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=vs(i.type,!0)),o=new li(s,mr(i),X);t.blueprint[r]=o,n[r]=o,KP(t,e,r,RT(t,n,i.hostVars,wr),i)}function rO(t,e,n){let r=Ot(e,t),i=MT(n),s=t[tn].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=Ol(t,Pl(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function iO(t,e,n,r,i,s){let o=Ot(t,e);sO(e[Pe],o,s,t.value,n,r,i)}function sO(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?ml(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function oO(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let u=o[a++],l=o[a++],h=o[a++],p=o[a++];ST(r,n,u,l,h,p)}}function aO(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function OT(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function kT(t,e){let n=t.contentQueries;if(n!==null){let r=pe(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];og(s),a.contentQueries(2,e[o],o)}}}finally{pe(r)}}}function Ol(t,e){return t[aa]?t[EE][Bt]=e:t[aa]=e,t[EE]=e,e}function bp(t,e,n){og(0);let r=pe(null);try{e(t,n)}finally{pe(r)}}function FT(t){return t[Yu]??=[]}function LT(t){return t.cleanup??=[]}function VT(t,e){let n=t[Es],r=n?n.get(Sn,null):null;r&&r.handleError(e)}function Ag(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],u=n[s++],l=e[o],h=t.data[o];ST(h,l,r,a,u,i)}}function cO(t,e,n){let r=ND(e,t);vP(t[Pe],r,n)}function uO(t,e){let n=_r(e,t),r=n[ie];lO(r,n);let i=n[Nn];i!==null&&n[Qu]===null&&(n[Qu]=mg(i,n[Es])),Sg(r,n,n[$t])}function lO(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Sg(t,e,n){ag(e);try{let r=t.viewQuery;r!==null&&bp(1,r,n);let i=t.template;i!==null&&NT(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Cn]?.finishViewCreation(t),t.staticContentQueries&&kT(t,e),t.staticViewQueries&&bp(2,t.viewQuery,n);let s=t.components;s!==null&&dO(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[J]&=-5,cg()}}function dO(t,e){for(let n=0;n<e.length;n++)uO(t,e[n])}function hO(t,e,n,r){let i=pe(null);try{let s=e.tView,a=t[J]&4096?4096:16,u=Pl(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[oi]=l;let h=t[Cn];return h!==null&&(u[Cn]=h.createEmbeddedView(s)),Sg(s,u,n),u}finally{pe(i)}}function VE(t,e){return!e||e.firstChild===null||aT(t)}function fO(t,e,n,r=!0){let i=e[ie];if(DP(i,e,t,n),r){let o=Dp(n,t),a=e[Pe],u=ET(a,t[ai]);u!==null&&wP(i,t[Ht],a,e,u,o)}let s=e[Qu];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function ol(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&r.push(rn(s)),Mn(s)&&pO(s,r);let o=n.type;if(o&8)ol(t,e,n.child,r);else if(o&32){let a=vg(n,e),u;for(;u=a();)r.push(u)}else if(o&16){let a=DT(e,n);if(Array.isArray(a))r.push(...a);else{let u=ci(e[nn]);ol(u[ie],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function pO(t,e){for(let n=wt;n<t.length;n++){let r=t[n],i=r[ie].firstChild;i!==null&&ol(r[ie],r,i,e)}t[ai]!==t[Nn]&&e.push(t[ai])}var UT=[];function gO(t){return t[Mt]??mO(t)}function mO(t){let e=UT.pop()??Object.create(vO);return e.lView=t,e}function yO(t){t.lView[Mt]!==t&&(t.lView=null,UT.push(t))}var vO=ce(F({},Zo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Tl(t.lView)},consumerOnSignalRead(){this.lView[Mt]=this}});function _O(t){let e=t[Mt]??Object.create(IO);return e.lView=t,e}var IO=ce(F({},Zo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=ci(t.lView);for(;e&&!jT(e[ie]);)e=ci(e);e&&PD(e)},consumerOnSignalRead(){this.lView[Mt]=this}});function jT(t){return t.type!==2}var wO=100;function BT(t,e=!0,n=0){let r=t[tn],i=r.rendererFactory,s=!1;s||i.begin?.();try{EO(t,n)}catch(o){throw e&&VT(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function EO(t,e){let n=UD();try{TE(!0),Cp(t,e);let r=0;for(;Dl(t);){if(r===wO)throw new $(103,!1);r++,Cp(t,1)}}finally{TE(n)}}function DO(t,e,n,r){let i=e[J];if((i&256)===256)return;let s=!1,o=!1;!s&&e[tn].inlineEffectRunner?.flush(),ag(e);let a=!0,u=null,l=null;s||(jT(t)?(l=gO(e),u=iu(l)):Sw()===null?(a=!1,l=_O(e),u=iu(l)):e[Mt]&&(wf(e[Mt]),e[Mt]=null));try{xD(e),mx(t.bindingStartIndex),n!==null&&NT(t,e,n,2,r);let h=(i&3)===3;if(!s)if(h){let y=t.preOrderCheckHooks;y!==null&&ju(e,y,null)}else{let y=t.preOrderHooks;y!==null&&Bu(e,y,0,null),Hf(e,0)}if(o||TO(e),$T(e,0),t.contentQueries!==null&&kT(t,e),!s)if(h){let y=t.contentCheckHooks;y!==null&&ju(e,y)}else{let y=t.contentHooks;y!==null&&Bu(e,y,1),Hf(e,1)}LP(t,e);let p=t.components;p!==null&&zT(e,p,0);let m=t.viewQuery;if(m!==null&&bp(2,m,r),!s)if(h){let y=t.viewCheckHooks;y!==null&&ju(e,y)}else{let y=t.viewHooks;y!==null&&Bu(e,y,2),Hf(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[$f]){for(let y of e[$f])y();e[$f]=null}s||(e[J]&=-73)}catch(h){throw s||Tl(e),h}finally{l!==null&&(_f(l,u),a&&yO(l)),cg()}}function $T(t,e){for(let n=uT(t);n!==null;n=lT(n))for(let r=wt;r<n.length;r++){let i=n[r];HT(i,e)}}function TO(t){for(let e=uT(t);e!==null;e=lT(e)){if(!(e[J]&Zu.HasTransplantedViews))continue;let n=e[Ds];for(let r=0;r<n.length;r++){let i=n[r];PD(i)}}}function bO(t,e,n){let r=_r(e,t);HT(r,n)}function HT(t,e){ig(t)&&Cp(t,e)}function Cp(t,e){let r=t[ie],i=t[J],s=t[Mt],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&If(s)),o||=!1,s&&(s.dirty=!1),t[J]&=-9217,o)DO(r,t,r.template,t[$t]);else if(i&8192){$T(t,1);let a=r.components;a!==null&&zT(t,a,1)}}function zT(t,e,n){for(let r=0;r<e.length;r++)bO(t,e[r],n)}function Rg(t,e){let n=UD()?64:1088;for(t[tn].changeDetectionScheduler?.notify(e);t;){t[J]|=n;let r=ci(t);if(ap(t)&&!r)return t;t=r}return null}var hi=class{get rootNodes(){let e=this._lView,n=e[ie];return ol(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[$t]}set context(e){this._lView[$t]=e}get destroyed(){return(this._lView[J]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[rt];if(Mn(e)){let n=e[Ju],r=n?n.indexOf(this):-1;r>-1&&(Ep(e,r),Wu(n,r))}this._attachedToViewContainer=!1}IT(this._lView[ie],this._lView)}onDestroy(e){OD(this._lView,e)}markForCheck(){Rg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[J]&=-129}reattach(){up(this._lView),this._lView[J]|=128}detectChanges(){this._lView[J]|=1024,BT(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new $(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=ap(this._lView),n=this._lView[oi];n!==null&&!e&&_g(n,this._lView),vT(this._lView[ie],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new $(902,!1);this._appRef=e;let n=ap(this._lView),r=this._lView[oi];r!==null&&!n&&_T(r,this._lView),up(this._lView)}},fi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=SO;let t=e;return t})(),CO=fi,AO=class extends CO{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=hO(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new hi(i)}};function SO(){return Ng(pt(),ve())}function Ng(t,e){return t.type&4?new AO(e,t,xs(t,e)):null}var z9=new RegExp(`^(\\d+)*(${rP}|${nP})*(.*)`);var RO=()=>null;function UE(t,e){return RO(t,e)}var bs=class{},Mg=new U("",{providedIn:"root",factory:()=>!1});var qT=new U(""),GT=new U(""),Ap=class{},al=class{};function NO(t){let e=Error(`No component factory found for ${ht(t)}.`);return e[MO]=t,e}var MO="ngComponent";var Sp=class{resolveComponentFactory(e){throw NO(e)}},Ug=class Ug{};Ug.NULL=new Sp;var Cs=Ug,As=class{},On=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>xO();let t=e;return t})();function xO(){let t=ve(),e=pt(),n=_r(e.index,t);return(fr(n)?n:t)[Pe]}var PO=(()=>{let e=class e{};e.\u0275prov=L({token:e,providedIn:"root",factory:()=>null});let t=e;return t})();function cl(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=hE(i,a);else if(s==2){let u=a,l=e[++o];r=hE(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var ul=class extends Cs{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=gr(e);return new Ss(n,this.ngModule)}};function jE(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,a=s?i[1]:pr.None;e?n.push({propName:o,templateName:r,isSignal:(a&pr.SignalBased)!==0}):n.push({propName:o,templateName:r})}return n}function OO(t){let e=t.toLowerCase();return e==="svg"?nx:e==="math"?rx:null}var Ss=class extends al{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=jE(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return jE(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=kM(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=pe(null);try{i=i||this.ngModule;let o=i instanceof ft?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new dp(e,o):e,u=a.get(As,null);if(u===null)throw new $(407,!1);let l=a.get(PO,null),h=a.get(bs,null),p={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:h},m=u.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",C=r?jP(m,r,this.componentDef.encapsulation,a):yT(m,y,OO(y)),M=512;this.componentDef.signals?M|=4096:this.componentDef.onPush||(M|=16);let R=null;C!==null&&(R=mg(C,a,!0));let x=Tg(0,null,null,1,0,null,null,null,null,null,null),B=Pl(null,x,null,M,null,null,p,m,a,null,R);ag(B);let z,q,Ie=null;try{let W=this.componentDef,E,v=null;W.findHostDirectiveDefs?(E=[],v=new Map,W.findHostDirectiveDefs(W,E,v),E.push(W)):E=[W];let _=kO(B,C);Ie=FO(_,C,W,E,B,p,m),q=MD(x,An),C&&UO(m,W,C,r),n!==void 0&&jO(q,this.ngContentSelectors,n),z=VO(Ie,W,E,v,B,[BO]),Sg(x,B,null)}catch(W){throw Ie!==null&&Ip(Ie),Ip(B),W}finally{cg()}return new Rp(this.componentType,z,xs(q,B),B,q)}finally{pe(s)}}},Rp=class extends Ap{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new hi(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;Ag(s[ie],s,i,e,n),this.previousInputValues.set(e,n);let o=_r(this._tNode.index,s);Rg(o,1)}}get injector(){return new si(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function kO(t,e){let n=t[ie],r=An;return t[r]=e,ha(n,r,2,"#host",null)}function FO(t,e,n,r,i,s,o){let a=i[ie];LO(r,t,e,o);let u=null;e!==null&&(u=mg(e,i[Es]));let l=s.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let p=Pl(i,MT(n),null,h,i[t.index],t,s,l,null,null,u);return a.firstCreatePass&&Tp(a,t,r.length-1),Ol(i,p),i[t.index]=p}function LO(t,e,n,r){for(let i of t)e.mergedAttrs=sa(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(cl(e,e.mergedAttrs,!0),n!==null&&bT(r,n,e))}function VO(t,e,n,r,i,s){let o=pt(),a=i[ie],u=Ot(o,i);xT(a,i,o,n,null,r);for(let h=0;h<n.length;h++){let p=o.directiveStart+h,m=di(i,a,p,o);yr(m,i)}PT(a,i,o),u&&yr(u,i);let l=di(i,a,o.directiveStart+o.componentOffset,o);if(t[$t]=i[$t]=l,s!==null)for(let h of s)h(l,e);return wg(a,o,i),l}function UO(t,e,n,r){if(r)rp(t,n,["ng-version","18.2.3"]);else{let{attrs:i,classes:s}=FM(e.selectors[0]);i&&rp(t,n,i),s&&s.length>0&&TT(t,n,s.join(" "))}}function jO(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function BO(){let t=pt();Rl(ve()[ie],t)}var Er=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=$O;let t=e;return t})();function $O(){let t=pt();return KT(t,ve())}var HO=Er,WT=class extends HO{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return xs(this._hostTNode,this._hostLView)}get injector(){return new si(this._hostTNode,this._hostLView)}get parentInjector(){let e=ug(this._hostTNode,this._hostLView);if(KD(e)){let n=el(e,this._hostLView),r=Xu(e),i=n[ie].data[r+8];return new si(i,n)}else return new si(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=BE(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-wt}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=UE(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,VE(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!ZM(e),a;if(o)a=n;else{let C=n||{};a=C.index,r=C.injector,i=C.projectableNodes,s=C.environmentInjector||C.ngModuleRef}let u=o?e:new Ss(gr(e)),l=r||this.parentInjector;if(!s&&u.ngModule==null){let M=(o?l:this.parentInjector).get(ft,null);M&&(s=M)}let h=gr(u.componentType??{}),p=UE(this._lContainer,h?.id??null),m=p?.firstChild??null,y=u.create(l,i,m,s);return this.insertImpl(y.hostView,a,VE(this._hostTNode,p)),y}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(sx(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[rt],l=new WT(u,u[Ht],u[rt]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return fO(o,i,s,r),e.attachToViewContainerRef(),aD(Kf(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=BE(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Ep(this._lContainer,n);r&&(Wu(Kf(this._lContainer),n),IT(r[ie],r))}detach(e){let n=this._adjustIndex(e,-1),r=Ep(this._lContainer,n);return r&&Wu(Kf(this._lContainer),n)!=null?new hi(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function BE(t){return t[Ju]}function Kf(t){return t[Ju]||(t[Ju]=[])}function KT(t,e){let n,r=e[t.index];return Mn(r)?n=r:(n=OT(r,e,null,t),e[t.index]=n,Ol(e,n)),qO(n,e,t,r),new WT(n,t,e)}function zO(t,e){let n=t[Pe],r=n.createComment(""),i=Ot(e,t),s=ET(n,i);return sl(n,s,r,SP(n,i),!1),r}var qO=KO,GO=()=>!1;function WO(t,e,n){return GO(t,e,n)}function KO(t,e,n,r){if(t[ai])return;let i;n.type&8?i=rn(r):i=zO(e,n),t[ai]=i}var Np=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Mp=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)xg(e,n).matches!==null&&this.queries[n].setDirty()}},xp=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=nk(e):this.predicate=e}},Pp=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Op=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,n,QO(n,s)),this.matchTNodeWithReadOption(e,n,$u(n,e,s,!1,!1))}else r===fi?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,$u(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Dt||i===Er||i===fi&&n.type&4)this.addMatch(n.index,-2);else{let s=$u(n,e,i,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function QO(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function YO(t,e){return t.type&11?xs(t,e):t.type&4?Ng(t,e):null}function JO(t,e,n,r){return n===-1?YO(e,t):n===-2?ZO(t,e,r):di(t,t[ie],n,e)}function ZO(t,e,n){if(n===Dt)return xs(e,t);if(n===fi)return Ng(e,t);if(n===Er)return KT(e,t)}function QT(t,e,n,r){let i=e[Cn].queries[r];if(i.matches===null){let s=t.data,o=n.matches,a=[];for(let u=0;o!==null&&u<o.length;u+=2){let l=o[u];if(l<0)a.push(null);else{let h=s[l];a.push(JO(e,h,o[u+1],n.metadata.read))}}i.matches=a}return i.matches}function kp(t,e,n,r){let i=t.queries.getByIndex(n),s=i.matches;if(s!==null){let o=QT(t,e,i,n);for(let a=0;a<s.length;a+=2){let u=s[a];if(u>0)r.push(o[a/2]);else{let l=s[a+1],h=e[-u];for(let p=wt;p<h.length;p++){let m=h[p];m[oi]===m[rt]&&kp(m[ie],m,l,r)}if(h[Ds]!==null){let p=h[Ds];for(let m=0;m<p.length;m++){let y=p[m];kp(y[ie],y,l,r)}}}}}return r}function XO(t,e){return t[Cn].queries[e].queryList}function ek(t,e,n){let r=new _p((n&4)===4);return HP(t,e,r,r.destroy),(e[Cn]??=new Mp).queries.push(new Np(r))-1}function tk(t,e,n){let r=ze();return r.firstCreatePass&&(rk(r,new xp(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),ek(r,ve(),e)}function nk(t){return t.split(",").map(e=>e.trim())}function rk(t,e,n){t.queries===null&&(t.queries=new Pp),t.queries.track(new Op(e,n))}function xg(t,e){return t.queries.getByIndex(e)}function ik(t,e){let n=t[ie],r=xg(n,e);return r.crossesNgTemplate?kp(n,t,e,[]):QT(n,t,r,e)}var $E=new Set;function yi(t){$E.has(t)||($E.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function sk(t){return typeof t=="function"&&t[En]!==void 0}function Ps(t,e){yi("NgSignals");let n=Uw(t),r=n[En];return e?.equal&&(r.equal=e.equal),n.set=i=>Ef(r,i),n.update=i=>jw(r,i),n.asReadonly=ok.bind(n),n}function ok(){let t=this[En];if(t.readonlyFn===void 0){let e=()=>this();e[En]=t,t.readonlyFn=e}return t.readonlyFn}function YT(t){return sk(t)&&typeof t.set=="function"}function ak(t){return Object.getPrototypeOf(t.prototype).constructor}function gt(t){let e=ak(t.type),n=!0,r=[t];for(;e;){let i;if(mr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new $(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=Fu(t.inputs),o.inputTransforms=Fu(t.inputTransforms),o.declaredInputs=Fu(t.declaredInputs),o.outputs=Fu(t.outputs);let a=i.hostBindings;a&&hk(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&lk(t,u),l&&dk(t,l),ck(t,i),eM(t.outputs,i.outputs),mr(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===gt&&(n=!1)}}e=Object.getPrototypeOf(e)}uk(r)}function ck(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function uk(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=sa(i.hostAttrs,n=sa(n,i.hostAttrs))}}function Fu(t){return t===_s?{}:t===Nt?[]:t}function lk(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function dk(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function hk(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}var vr=class{},ca=class{};var Fp=class extends vr{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ul(this);let s=mD(e);this._bootstrapComponents=mT(s.bootstrap),this._r3Injector=rT(e,n,[{provide:vr,useValue:this},{provide:Cs,useValue:this.componentFactoryResolver},...r],ht(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Lp=class extends ca{constructor(e){super(),this.moduleType=e}create(e){return new Fp(this.moduleType,e,[])}};var ll=class extends vr{constructor(e){super(),this.componentFactoryResolver=new ul(this),this.instance=null;let n=new oa([...e.providers,{provide:vr,useValue:this},{provide:Cs,useValue:this.componentFactoryResolver}],e.parent||ng(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function kl(t,e,n=null){return new ll({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function JT(t){return Pg(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function fk(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function Pg(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function pk(t,e,n){return t[e]=n}function pi(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function gk(t,e,n,r){let i=pi(t,e,n);return pi(t,e+1,r)||i}function mk(t){return(t.flags&32)===32}function yk(t,e,n,r,i,s,o,a,u){let l=e.consts,h=ha(e,t,4,o||null,a||null);Cg(e,n,h,Ts(l,u)),Rl(e,h);let p=h.tView=Tg(2,h,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function vk(t,e,n,r,i,s,o,a,u,l){let h=n+An,p=e.firstCreatePass?yk(h,e,t,r,i,s,o,a,u):e.data[h];mi(p,!1);let m=Ik(e,t,p,n);Al()&&Ml(e,t,m,p),yr(m,t);let y=OT(m,t,m,p);return t[h]=y,Ol(t,y),WO(y,p,t),El(p)&&Eg(e,t,p),u!=null&&Dg(t,p,l),p}function _k(t,e,n,r,i,s,o,a){let u=ve(),l=ze(),h=Ts(l.consts,s);return vk(u,l,t,e,n,r,i,h,o,a),_k}var Ik=wk;function wk(t,e,n,r){return Sl(!0),e[Pe].createComment("")}var gs=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(gs||{}),ZT=(()=>{let e=class e{constructor(){this.impl=null}execute(){this.impl?.execute()}};e.\u0275prov=L({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})(),ii=class ii{constructor(){this.ngZone=P(me),this.scheduler=P(bs),this.errorHandler=P(Sn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(let e of ii.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}};ii.PHASES=[gs.EarlyRead,gs.Write,gs.MixedReadWrite,gs.Read],ii.\u0275prov=L({token:ii,providedIn:"root",factory:()=>new ii});var Vp=ii,Up=class{constructor(e,n,r,i){this.impl=e,this.hooks=n,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy()}};function Og(t,e){!e?.injector&&JM(Og);let n=e?.injector??P(He);return gP(n)?(yi("NgAfterNextRender"),Dk(t,n,e,!0)):Tk}function Ek(t,e){if(t instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[e]=t,n}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function Dk(t,e,n,r){let i=e.get(ZT);i.impl??=e.get(Vp);let s=n?.phase??gs.MixedReadWrite,o=new Up(i.impl,Ek(t,s),r,e.get(lg));return i.impl.register(o),o}var Tk={destroy(){}};function fa(t,e,n,r){let i=ve(),s=bl();if(pi(i,s,e)){let o=ze(),a=Cl();iO(a,i,t,e,n,r)}return fa}function XT(t,e,n,r){return pi(t,bl(),n)?e+ml(n)+r:wr}function Lu(t,e){return t<<17|e<<2}function gi(t){return t>>17&32767}function bk(t){return(t&2)==2}function Ck(t,e){return t&131071|e<<17}function jp(t){return t|2}function Rs(t){return(t&131068)>>2}function Qf(t,e){return t&-131069|e<<2}function Ak(t){return(t&1)===1}function Bp(t){return t|1}function Sk(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=gi(o),u=Rs(o);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||da(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let m=gi(t[a+1]);t[r+1]=Lu(m,a),m!==0&&(t[m+1]=Qf(t[m+1],r)),t[a+1]=Ck(t[a+1],r)}else t[r+1]=Lu(a,0),a!==0&&(t[a+1]=Qf(t[a+1],r)),a=r;else t[r+1]=Lu(u,0),a===0?a=r:t[u+1]=Qf(t[u+1],r),u=r;l&&(t[r+1]=jp(t[r+1])),HE(t,h,r,!0),HE(t,h,r,!1),Rk(e,h,t,r,s),o=Lu(a,u),s?e.classBindings=o:e.styleBindings=o}function Rk(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&da(s,e)>=0&&(n[r+1]=Bp(n[r+1]))}function HE(t,e,n,r){let i=t[n+1],s=e===null,o=r?gi(i):Rs(i),a=!1;for(;o!==0&&(a===!1||s);){let u=t[o],l=t[o+1];Nk(u,e)&&(a=!0,t[o+1]=r?Bp(l):jp(l)),o=r?gi(l):Rs(l)}a&&(t[n+1]=r?jp(i):Bp(i))}function Nk(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?da(t,e)>=0:!1}function Mk(t,e,n){let r=ve(),i=bl();if(pi(r,i,e)){let s=ze(),o=Cl();bg(s,o,r,t,e,r[Pe],n,!1)}return Mk}function zE(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";Ag(t,n,s[o],o,r)}function Fl(t,e){return xk(t,e,null,!0),Fl}function xk(t,e,n,r){let i=ve(),s=ze(),o=yx(2);if(s.firstUpdatePass&&Ok(s,t,o,r),e!==wr&&pi(i,o,e)){let a=s.data[Ms()];Uk(s,a,i,i[Pe],t,i[o+1]=jk(e,n),r,o)}}function Pk(t,e){return e>=t.expandoStartIndex}function Ok(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[Ms()],o=Pk(t,n);Bk(s,r)&&e===null&&!o&&(e=!1),e=kk(i,s,e,r),Sk(i,s,e,n,o,r)}}function kk(t,e,n,r){let i=wx(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Yf(null,t,e,n,r),n=ua(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=Yf(i,t,e,n,r),s===null){let u=Fk(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Yf(null,t,e,u[1],r),u=ua(u,e.attrs,r),Lk(t,e,r,u))}else s=Vk(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function Fk(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Rs(r)!==0)return t[gi(r)]}function Lk(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[gi(i)]=r}function Vk(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=ua(r,o,n)}return ua(r,e.attrs,n)}function Yf(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=ua(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function ua(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),EM(t,o,n?!0:e[++s]))}return t===void 0?null:t}function Uk(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=Ak(l)?qE(u,e,n,i,Rs(l),o):void 0;if(!dl(h)){dl(s)||bk(l)&&(s=qE(u,null,n,i,a,o));let p=ND(Ms(),n);kP(r,o,p,i,s)}}function qE(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=n[i+1];m===wr&&(m=p?Nt:void 0);let y=p?jf(m,r):h===r?m:void 0;if(l&&!dl(y)&&(y=jf(u,r)),dl(y)&&(a=y,o))return a;let C=t[i+1];i=o?gi(C):Rs(C)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(a=jf(u,r))}return a}function dl(t){return t!==void 0}function jk(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=ht(Nl(t)))),t}function Bk(t,e){return(t.flags&(e?8:16))!==0}function $k(t,e,n,r,i,s){let o=e.consts,a=Ts(o,i),u=ha(e,t,2,r,a);return Cg(e,n,u,Ts(o,s)),u.attrs!==null&&cl(u,u.attrs,!1),u.mergedAttrs!==null&&cl(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function eb(t,e,n,r){let i=ve(),s=ze(),o=An+t,a=i[Pe],u=s.firstCreatePass?$k(o,s,i,e,n,r):s.data[o],l=Hk(s,i,u,a,e,t);i[o]=l;let h=El(u);return mi(u,!0),bT(a,l,u),!mk(u)&&Al()&&Ml(s,i,l,u),cx()===0&&yr(l,i),ux(),h&&(Eg(s,i,u),wg(s,u,i)),r!==null&&Dg(i,u),eb}function tb(){let t=pt();sg()?VD():(t=t.parent,mi(t,!1));let e=t;hx(e)&&fx(),lx();let n=ze();return n.firstCreatePass&&(Rl(n,t),rg(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&Sx(e)&&zE(n,e,ve(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&Rx(e)&&zE(n,e,ve(),e.stylesWithoutHost,!1),tb}function kg(t,e,n,r){return eb(t,e,n,r),tb(),kg}var Hk=(t,e,n,r,i,s)=>(Sl(!0),yT(r,i,Tx()));function zk(t,e,n,r,i){let s=e.consts,o=Ts(s,r),a=ha(e,t,8,"ng-container",o);o!==null&&cl(a,o,!0);let u=Ts(s,i);return Cg(e,n,a,u),e.queries!==null&&e.queries.elementStart(e,a),a}function qk(t,e,n){let r=ve(),i=ze(),s=t+An,o=i.firstCreatePass?zk(s,i,r,e,n):i.data[s];mi(o,!0);let a=Wk(i,r,o,t);return r[s]=a,Al()&&Ml(i,r,a,o),yr(a,r),El(o)&&(Eg(i,r,o),wg(i,o,r)),n!=null&&Dg(r,o),qk}function Gk(){let t=pt(),e=ze();return sg()?VD():(t=t.parent,mi(t,!1)),e.firstCreatePass&&(Rl(e,t),rg(t)&&e.queries.elementEnd(t)),Gk}var Wk=(t,e,n,r)=>(Sl(!0),_P(e[Pe],""));function G9(){return ve()}var hl="en-US";var Kk=hl;function Qk(t){typeof t=="string"&&(Kk=t.toLowerCase().replace(/_/g,"-"))}var Yk=(t,e,n)=>{};function kn(t,e,n,r){let i=ve(),s=ze(),o=pt();return nb(s,i,i[Pe],o,t,e,r),kn}function Jk(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[Yu],u=i[s+2];return a.length>u?a[u]:null}typeof o=="string"&&(s+=2)}return null}function nb(t,e,n,r,i,s,o){let a=El(r),l=t.firstCreatePass&&LT(t),h=e[$t],p=FT(e),m=!0;if(r.type&3||o){let M=Ot(r,e),R=o?o(M):M,x=p.length,B=o?q=>o(rn(q[r.index])):r.index,z=null;if(!o&&a&&(z=Jk(t,e,i,r.index)),z!==null){let q=z.__ngLastListenerFn__||z;q.__ngNextListenerFn__=s,z.__ngLastListenerFn__=s,m=!1}else{s=WE(r,e,h,s),Yk(M,i,s);let q=n.listen(R,i,s);p.push(s,q),l&&l.push(i,B,x,x+1)}}else s=WE(r,e,h,s);let y=r.outputs,C;if(m&&y!==null&&(C=y[i])){let M=C.length;if(M)for(let R=0;R<M;R+=2){let x=C[R],B=C[R+1],Ie=e[x][B].subscribe(s),W=p.length;p.push(s,Ie),l&&l.push(i,r.index,W,-(W+1))}}}function GE(t,e,n,r){let i=pe(null);try{return Zt(6,e,n),n(r)!==!1}catch(s){return VT(t,s),!1}finally{Zt(7,e,n),pe(i)}}function WE(t,e,n,r){return function i(s){if(s===Function)return r;let o=t.componentOffset>-1?_r(t.index,e):e;Rg(o,5);let a=GE(e,n,r,s),u=i.__ngNextListenerFn__;for(;u;)a=GE(e,n,u,s)&&a,u=u.__ngNextListenerFn__;return a}}function W9(t=1){return Dx(t)}function Zk(t,e,n){return rb(t,"",e,"",n),Zk}function rb(t,e,n,r,i){let s=ve(),o=XT(s,e,n,r);if(o!==wr){let a=ze(),u=Cl();bg(a,u,s,t,o,s[Pe],i,!1)}return rb}function K9(t,e,n){tk(t,e,n)}function Xk(t){let e=ve(),n=ze(),r=jD();og(r+1);let i=xg(n,r);if(t.dirty&&ix(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=ik(e,r);t.reset(s,Qx),t.notifyOnChanges()}return!0}return!1}function e1(){return XO(ve(),jD())}function Q9(t,e=""){let n=ve(),r=ze(),i=t+An,s=r.firstCreatePass?ha(r,i,1,e,null):r.data[i],o=t1(r,n,s,e,t);n[i]=o,Al()&&Ml(r,n,o,s),mi(s,!1)}var t1=(t,e,n,r,i)=>(Sl(!0),yP(e[Pe],r));function n1(t){return ib("",t,""),n1}function ib(t,e,n){let r=ve(),i=XT(r,t,e,n);return i!==wr&&cO(r,Ms(),i),ib}function r1(t,e,n){YT(e)&&(e=e());let r=ve(),i=bl();if(pi(r,i,e)){let s=ze(),o=Cl();bg(s,o,r,t,e,r[Pe],n,!1)}return r1}function Y9(t,e){let n=YT(t);return n&&t.set(e),n}function i1(t,e){let n=ve(),r=ze(),i=pt();return nb(r,n,n[Pe],i,t,e),i1}function s1(t,e,n){let r=ze();if(r.firstCreatePass){let i=mr(t);$p(n,r.data,r.blueprint,i,!0),$p(e,r.data,r.blueprint,i,!1)}}function $p(t,e,n,r,i){if(t=dt(t),Array.isArray(t))for(let s=0;s<t.length;s++)$p(t[s],e,n,r,i);else{let s=ze(),o=ve(),a=pt(),u=ws(t)?t:dt(t.provide),l=ED(t),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(ws(t)||!t.multi){let y=new li(l,i,X),C=Zf(u,e,i?h:h+m,p);C===-1?(fp(tl(a,o),s,u),Jf(s,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),o.push(y)):(n[C]=y,o[C]=y)}else{let y=Zf(u,e,h+m,p),C=Zf(u,e,h,h+m),M=y>=0&&n[y],R=C>=0&&n[C];if(i&&!R||!i&&!M){fp(tl(a,o),s,u);let x=c1(i?a1:o1,n.length,i,r,l);!i&&R&&(n[C].providerFactory=x),Jf(s,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(x),o.push(x)}else{let x=sb(n[i?C:y],l,!i&&r);Jf(s,t,y>-1?y:C,x)}!i&&r&&R&&n[C].componentProviders++}}}function Jf(t,e,n,r){let i=ws(e),s=zM(e);if(i||s){let u=(s?dt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function sb(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Zf(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function o1(t,e,n,r){return Hp(this.multi,[])}function a1(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=di(n,n[ie],this.providerFactory.index,r);s=a.slice(0,o),Hp(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],Hp(i,s);return s}function Hp(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function c1(t,e,n,r,i){let s=new li(t,n,X);return s.multi=[],s.index=e,s.componentProviders=0,sb(s,i,r&&!n),s}function zt(t,e=[]){return n=>{n.providersResolver=(r,i)=>s1(r,i?i(t):t,e)}}var u1=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=_D(!1,r.type),s=i.length>0?kl([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=L({token:e,providedIn:"environment",factory:()=>new e(H(ft))});let t=e;return t})();function ob(t){yi("NgStandalone"),t.getStandaloneInjector=e=>e.get(u1).getOrCreateStandaloneInjector(t)}function J9(t,e,n,r,i){return d1(ve(),gx(),t,e,n,r,i)}function l1(t,e){let n=t[e];return n===wr?void 0:n}function d1(t,e,n,r,i,s,o){let a=e+n;return gk(t,a,i,s)?pk(t,a+2,o?r.call(o,i,s):r(i,s)):l1(t,a+2)}var Rn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},ab=new Rn("18.2.3");var Ll=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var cb=new U("");function vi(t){return!!t&&typeof t.then=="function"}function ub(t){return!!t&&typeof t.subscribe=="function"}var Vl=new U(""),lb=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=P(Vl,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(vi(o))r.push(o);else if(ub(o)){let a=new Promise((u,l)=>{o.subscribe({complete:u,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),pa=new U("");function h1(){Vw(()=>{throw new $(600,!1)})}function f1(t){return t.isBoundToModule}var p1=10;function g1(t,e,n){try{let r=n();return vi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Dr=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=P(Wx),this.afterRenderManager=P(ZT),this.zonelessEnabled=P(Mg),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Qe,this.afterTick=new Qe,this.componentTypes=[],this.components=[],this.isStable=P(Ir).hasPendingTasks.pipe(Z(r=>!r)),this._injector=P(ft)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let r;return new Promise(i=>{r=this.isStable.subscribe({next:s=>{s&&i()}})}).finally(()=>{r.unsubscribe()})}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof al;if(!this._injector.get(lb).done){let y=!s&&gD(r),C=!1;throw new $(405,C)}let a;s?a=r:a=this._injector.get(Cs).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let u=f1(a)?void 0:this._injector.get(vr),l=i||a.selector,h=a.create(He.NULL,[],l,u),p=h.location.nativeElement,m=h.injector.get(cb,null);return m?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),Hu(this.components,h),m?.unregisterApplication(p)}),this._loadComponent(h),h}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new $(101,!1);let r=pe(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,pe(r),this.afterTick.next()}}synchronize(){let r=null;this._injector.destroyed||(r=this._injector.get(As,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<p1;)this.synchronizeOnce(r)}synchronizeOnce(r){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:s,notifyErrorHandler:o}of this._views)m1(s,o,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else r?.begin?.(),r?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:r})=>Dl(r))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Hu(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(pa,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Hu(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new $(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Hu(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function m1(t,e,n,r){if(!n&&!Dl(t))return;BT(t,e,n&&!r?0:1)}var zp=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Ul=(()=>{let e=class e{compileModuleSync(r){return new Lp(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=mD(r),o=mT(s.declarations).reduce((a,u)=>{let l=gr(u);return l&&a.push(new Ss(l)),a},[]);return new zp(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var y1=(()=>{let e=class e{constructor(){this.zone=P(me),this.changeDetectionScheduler=P(bs),this.applicationRef=P(Dr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),v1=new U("",{factory:()=>!1});function db({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new me(ce(F({},hb()),{scheduleInRootZone:n})),[{provide:me,useFactory:t},{provide:Is,multi:!0,useFactory:()=>{let r=P(y1,{optional:!0});return()=>r.initialize()}},{provide:Is,multi:!0,useFactory:()=>{let r=P(_1);return()=>{r.initialize()}}},e===!0?{provide:qT,useValue:!0}:[],{provide:GT,useValue:n??iT}]}function Z9(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=db({ngZoneFactory:()=>{let i=hb(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&yi("NgZone_CoalesceEvent"),new me(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return xt([{provide:v1,useValue:!0},{provide:Mg,useValue:!1},r])}function hb(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var _1=(()=>{let e=class e{constructor(){this.subscription=new Me,this.initialized=!1,this.zone=P(me),this.pendingTasks=P(Ir)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{me.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{me.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var I1=(()=>{let e=class e{constructor(){this.appRef=P(Dr),this.taskService=P(Ir),this.ngZone=P(me),this.zonelessEnabled=P(Mg),this.disableScheduling=P(qT,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Me,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(rl):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(P(GT,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof vp||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?NE:sT;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(rl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(r),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,NE(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function w1(){return typeof $localize<"u"&&$localize.locale||hl}var Fg=new U("",{providedIn:"root",factory:()=>P(Fg,oe.Optional|oe.SkipSelf)||w1()});var fb=new U("");function Vu(t){return!!t.platformInjector}function E1(t){let e=Vu(t)?t.r3Injector:t.moduleRef.injector,n=e.get(me);return n.run(()=>{Vu(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Sn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:s=>{r.handleError(s)}})}),Vu(t)){let s=()=>e.destroy(),o=t.platformInjector.get(fb);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else t.moduleRef.onDestroy(()=>{Hu(t.allPlatformModules,t.moduleRef),i.unsubscribe()});return g1(r,n,()=>{let s=e.get(lb);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(Fg,hl);if(Qk(o||hl),Vu(t)){let a=e.get(Dr);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return D1(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function D1(t,e){let n=t.injector.get(Dr);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new $(-403,!1);e.push(t)}var zu=null;function T1(t=[],e){return He.create({name:e,providers:[{provide:_l,useValue:"platform"},{provide:fb,useValue:new Set([()=>zu=null])},...t]})}function b1(t=[]){if(zu)return zu;let e=T1(t);return zu=e,h1(),C1(e),e}function C1(t){t.get(pg,null)?.forEach(n=>n())}var _i=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=A1;let t=e;return t})();function A1(t){return S1(pt(),ve(),(t&16)===16)}function S1(t,e,n){if(wl(t)&&!n){let r=_r(t.index,e);return new hi(r,r)}else if(t.type&175){let r=e[nn];return new hi(r,e)}return null}var qp=class{constructor(){}supports(e){return JT(e)}create(e){return new Gp(e)}},R1=(t,e)=>e,Gp=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||R1}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<KE(r,i,s)?n:r,a=KE(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let y=m<s.length?s[m]:s[m]=0,C=y+m;h<=C&&C<l&&(s[m]=y+1)}let p=o.previousIndex;s[p]=h-l}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!JT(e))throw new $(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,fk(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new Wp(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new fl),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new fl),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Wp=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Kp=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},fl=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Kp,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function KE(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var Qp=class{constructor(){}supports(e){return e instanceof Map||Pg(e)}create(){return new Yp}},Yp=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let n;for(n=this._mapHead;n!==null;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||Pg(e)))throw new $(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{let s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){let r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,n);let s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}let r=new Jp(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}},Jp=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function QE(){return new Lg([new qp])}var Lg=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||QE()),deps:[[e,new vl,new Ye]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i!=null)return i;throw new $(901,!1)}};e.\u0275prov=L({token:e,providedIn:"root",factory:QE});let t=e;return t})();function YE(){return new Vg([new Qp])}var Vg=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||YE()),deps:[[e,new vl,new Ye]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i)return i;throw new $(901,!1)}};e.\u0275prov=L({token:e,providedIn:"root",factory:YE});let t=e;return t})();function pb(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=b1(r),s=[db({}),{provide:bs,useExisting:I1},...n||[]],o=new ll({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return E1({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var gb=new U("");function ga(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Os(t,e){yi("NgSignals");let n=kw(t);return e?.equal&&(n[En].equal=e.equal),n}function cn(t){let e=pe(null);try{return t()}finally{pe(e)}}function mb(t){let e=gr(t);if(!e)return null;let n=new Ss(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Eb=null;function Ln(){return Eb}function Db(t){Eb??=t}var jl=class{};var Je=new U(""),qg=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:()=>P(P1),providedIn:"platform"});let t=e;return t})(),Tb=new U(""),P1=(()=>{let e=class e extends qg{constructor(){super(),this._doc=P(Je),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ln().getBaseHref(this._doc)}onPopState(r){let i=Ln().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Ln().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function Gg(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function yb(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Fn(t){return t&&t[0]!=="?"?"?"+t:t}var Ii=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:()=>P(Wg),providedIn:"root"});let t=e;return t})(),bb=new U(""),Wg=(()=>{let e=class e extends Ii{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??P(Je).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Gg(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Fn(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Fn(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Fn(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(H(qg),H(bb,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Cb=(()=>{let e=class e extends Ii{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=Gg(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Fn(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Fn(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(H(qg),H(bb,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),Fs=(()=>{let e=class e{constructor(r){this._subject=new Se,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=F1(yb(vb(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Fn(i))}normalize(r){return e.stripTrailingSlash(k1(this._basePath,vb(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Fn(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Fn(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=Fn,e.joinWithSlash=Gg,e.stripTrailingSlash=yb,e.\u0275fac=function(i){return new(i||e)(H(Ii))},e.\u0275prov=L({token:e,factory:()=>O1(),providedIn:"root"});let t=e;return t})();function O1(){return new Fs(H(Ii))}function k1(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function vb(t){return t.replace(/\/index.html$/,"")}function F1(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function Bl(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var jg=/\s+/,_b=[],D6=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=_b,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(jg):_b}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(jg):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let s=this.stateMap.get(r);s!==void 0?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],s=r[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(jg).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}};e.\u0275fac=function(i){return new(i||e)(X(Dt),X(On))},e.\u0275dir=Ce({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var Bg=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},T6=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(s.previousIndex==null)i.createEmbeddedView(this._template,new Bg(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(o===null?void 0:o);else if(o!==null){let u=i.get(o);i.move(u,a),Ib(u,s)}});for(let s=0,o=i.length;s<o;s++){let u=i.get(s).context;u.index=s,u.count=o,u.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{let o=i.get(s.currentIndex);Ib(o,s)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(X(Er),X(fi),X(Lg))},e.\u0275dir=Ce({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function Ib(t,e){t.context.$implicit=e.item}var b6=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new $g,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){wb("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){wb("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(X(Er),X(fi))},e.\u0275dir=Ce({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),$g=class{constructor(){this.$implicit=null,this.ngIf=null}};function wb(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${ht(e)}'.`)}var C6=(()=>{let e=class e{constructor(r,i,s){this._ngEl=r,this._differs=i,this._renderer=s,this._ngStyle=null,this._differ=null}set ngStyle(r){this._ngStyle=r,!this._differ&&r&&(this._differ=this._differs.find(r).create())}ngDoCheck(){if(this._differ){let r=this._differ.diff(this._ngStyle);r&&this._applyChanges(r)}}_setStyle(r,i){let[s,o]=r.split("."),a=s.indexOf("-")===-1?void 0:sn.DashCase;i!=null?this._renderer.setStyle(this._ngEl.nativeElement,s,o?`${i}${o}`:i,a):this._renderer.removeStyle(this._ngEl.nativeElement,s,a)}_applyChanges(r){r.forEachRemovedItem(i=>this._setStyle(i.key,null)),r.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),r.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}};e.\u0275fac=function(i){return new(i||e)(X(Dt),X(Vg),X(On))},e.\u0275dir=Ce({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0});let t=e;return t})();var L1=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=an({type:e}),e.\u0275inj=on({});let t=e;return t})(),Kg="browser",V1="server";function U1(t){return t===Kg}function $l(t){return t===V1}var Ab=(()=>{let e=class e{};e.\u0275prov=L({token:e,providedIn:"root",factory:()=>U1(P(kt))?new Hg(P(Je),window):new zg});let t=e;return t})(),Hg=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=j1(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function j1(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var zg=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},ks=class{};var ya=class{},zl=class{},Vn=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Yg=class{encodeKey(e){return Sb(e)}encodeValue(e){return Sb(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function $1(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,a]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=n.get(o)||[];u.push(a),n.set(o,u)}),n}var H1=/%(\d[a-f0-9])/gi,z1={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Sb(t){return encodeURIComponent(t).replace(H1,(e,n)=>z1[n]??e)}function Hl(t){return`${t}`}var Cr=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Yg,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=$1(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(Hl):[Hl(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(Hl(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Hl(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Jg=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function q1(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Rb(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function Nb(t){return typeof Blob<"u"&&t instanceof Blob}function Mb(t){return typeof FormData<"u"&&t instanceof FormData}function G1(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var ma=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(q1(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new Vn,this.context??=new Jg,!this.params)this.params=new Cr,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),u=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+u+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Rb(this.body)||Nb(this.body)||Mb(this.body)||G1(this.body)?this.body:this.body instanceof Cr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Mb(this.body)?null:Nb(this.body)?this.body.type||null:Rb(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Cr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,l=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((m,y)=>m.set(y,e.setHeaders[y]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((m,y)=>m.set(y,e.setParams[y]),h)),new t(n,r,o,{params:h,headers:l,context:p,reportProgress:u,responseType:i,withCredentials:a,transferCache:s})}},Ar=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Ar||{}),va=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new Vn,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},ql=class t extends va{constructor(e={}){super(e),this.type=Ar.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},_a=class t extends va{constructor(e={}){super(e),this.type=Ar.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},br=class extends va{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},kb=200,W1=204;function Qg(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var K1=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,s={}){let o;if(r instanceof ma)o=r;else{let l;s.headers instanceof Vn?l=s.headers:l=new Vn(s.headers);let h;s.params&&(s.params instanceof Cr?h=s.params:h=new Cr({fromObject:s.params})),o=new ma(r,i,s.body!==void 0?s.body:null,{headers:l,context:s.context,params:h,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let a=K(o).pipe(Tn(l=>this.handler.handle(l)));if(r instanceof ma||s.observe==="events")return a;let u=a.pipe(lt(l=>l instanceof _a));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return u.pipe(Z(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return u.pipe(Z(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return u.pipe(Z(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return u.pipe(Z(l=>l.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new Cr().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,s={}){return this.request("PATCH",r,Qg(s,i))}post(r,i,s={}){return this.request("POST",r,Qg(s,i))}put(r,i,s={}){return this.request("PUT",r,Qg(s,i))}};e.\u0275fac=function(i){return new(i||e)(H(ya))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),Q1=/^\)\]\}',?\n/,Y1="X-Request-URL";function xb(t){if(t.url)return t.url;let e=Y1.toLocaleLowerCase();return t.headers.get(e)}var J1=(()=>{let e=class e{constructor(){this.fetchImpl=P(Zg,{optional:!0})?.fetch??((...r)=>globalThis.fetch(...r)),this.ngZone=P(me)}handle(r){return new se(i=>{let s=new AbortController;return this.doRequest(r,s.signal,i).then(Xg,o=>i.error(new br({error:o}))),()=>s.abort()})}doRequest(r,i,s){return w(this,null,function*(){let o=this.createRequestInit(r),a;try{let C=this.ngZone.runOutsideAngular(()=>this.fetchImpl(r.urlWithParams,F({signal:i},o)));Z1(C),s.next({type:Ar.Sent}),a=yield C}catch(C){s.error(new br({error:C,status:C.status??0,statusText:C.statusText,url:r.urlWithParams,headers:C.headers}));return}let u=new Vn(a.headers),l=a.statusText,h=xb(a)??r.urlWithParams,p=a.status,m=null;if(r.reportProgress&&s.next(new ql({headers:u,status:p,statusText:l,url:h})),a.body){let C=a.headers.get("content-length"),M=[],R=a.body.getReader(),x=0,B,z,q=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>w(this,null,function*(){for(;;){let{done:W,value:E}=yield R.read();if(W)break;if(M.push(E),x+=E.length,r.reportProgress){z=r.responseType==="text"?(z??"")+(B??=new TextDecoder).decode(E,{stream:!0}):void 0;let v=()=>s.next({type:Ar.DownloadProgress,total:C?+C:void 0,loaded:x,partialText:z});q?q.run(v):v()}}}));let Ie=this.concatChunks(M,x);try{let W=a.headers.get("Content-Type")??"";m=this.parseBody(r,Ie,W)}catch(W){s.error(new br({error:W,headers:new Vn(a.headers),status:a.status,statusText:a.statusText,url:xb(a)??r.urlWithParams}));return}}p===0&&(p=m?kb:0),p>=200&&p<300?(s.next(new _a({body:m,headers:u,status:p,statusText:l,url:h})),s.complete()):s.error(new br({error:m,headers:u,status:p,statusText:l,url:h}))})}parseBody(r,i,s){switch(r.responseType){case"json":let o=new TextDecoder().decode(i).replace(Q1,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:s});case"arraybuffer":return i.buffer}}createRequestInit(r){let i={},s=r.withCredentials?"include":void 0;if(r.headers.forEach((o,a)=>i[o]=a.join(",")),r.headers.has("Accept")||(i.Accept="application/json, text/plain, */*"),!r.headers.has("Content-Type")){let o=r.detectContentTypeHeader();o!==null&&(i["Content-Type"]=o)}return{body:r.serializeBody(),method:r.method,headers:i,credentials:s}}concatChunks(r,i){let s=new Uint8Array(i),o=0;for(let a of r)s.set(a,o),o+=a.length;return s}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),Zg=class{};function Xg(){}function Z1(t){t.then(Xg,Xg)}function X1(t,e){return e(t)}function eF(t,e,n){return(r,i)=>Pt(n,()=>e(r,s=>t(s,i)))}var Fb=new U(""),tF=new U(""),nF=new U("",{providedIn:"root",factory:()=>!0});var Pb=(()=>{let e=class e extends ya{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=P(Ir),this.contributeToStability=P(nF)}handle(r){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(Fb),...this.injector.get(tF,[])]));this.chain=i.reduceRight((s,o)=>eF(s,o,this.injector),X1)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(r,s=>this.backend.handle(s)).pipe(ni(()=>this.pendingTasks.remove(i)))}else return this.chain(r,i=>this.backend.handle(i))}};e.\u0275fac=function(i){return new(i||e)(H(zl),H(ft))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})();var rF=/^\)\]\}',?\n/;function iF(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var Ob=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new $(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?Te(i.\u0275loadImpl()):K(null)).pipe(yt(()=>new se(o=>{let a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((R,x)=>a.setRequestHeader(R,x.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let R=r.detectContentTypeHeader();R!==null&&a.setRequestHeader("Content-Type",R)}if(r.responseType){let R=r.responseType.toLowerCase();a.responseType=R!=="json"?R:"text"}let u=r.serializeBody(),l=null,h=()=>{if(l!==null)return l;let R=a.statusText||"OK",x=new Vn(a.getAllResponseHeaders()),B=iF(a)||r.url;return l=new ql({headers:x,status:a.status,statusText:R,url:B}),l},p=()=>{let{headers:R,status:x,statusText:B,url:z}=h(),q=null;x!==W1&&(q=typeof a.response>"u"?a.responseText:a.response),x===0&&(x=q?kb:0);let Ie=x>=200&&x<300;if(r.responseType==="json"&&typeof q=="string"){let W=q;q=q.replace(rF,"");try{q=q!==""?JSON.parse(q):null}catch(E){q=W,Ie&&(Ie=!1,q={error:E,text:q})}}Ie?(o.next(new _a({body:q,headers:R,status:x,statusText:B,url:z||void 0})),o.complete()):o.error(new br({error:q,headers:R,status:x,statusText:B,url:z||void 0}))},m=R=>{let{url:x}=h(),B=new br({error:R,status:a.status||0,statusText:a.statusText||"Unknown Error",url:x||void 0});o.error(B)},y=!1,C=R=>{y||(o.next(h()),y=!0);let x={type:Ar.DownloadProgress,loaded:R.loaded};R.lengthComputable&&(x.total=R.total),r.responseType==="text"&&a.responseText&&(x.partialText=a.responseText),o.next(x)},M=R=>{let x={type:Ar.UploadProgress,loaded:R.loaded};R.lengthComputable&&(x.total=R.total),o.next(x)};return a.addEventListener("load",p),a.addEventListener("error",m),a.addEventListener("timeout",m),a.addEventListener("abort",m),r.reportProgress&&(a.addEventListener("progress",C),u!==null&&a.upload&&a.upload.addEventListener("progress",M)),a.send(u),o.next({type:Ar.Sent}),()=>{a.removeEventListener("error",m),a.removeEventListener("abort",m),a.removeEventListener("load",p),a.removeEventListener("timeout",m),r.reportProgress&&(a.removeEventListener("progress",C),u!==null&&a.upload&&a.upload.removeEventListener("progress",M)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(H(ks))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),Lb=new U(""),sF="XSRF-TOKEN",oF=new U("",{providedIn:"root",factory:()=>sF}),aF="X-XSRF-TOKEN",cF=new U("",{providedIn:"root",factory:()=>aF}),Gl=class{},uF=(()=>{let e=class e{constructor(r,i,s){this.doc=r,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=Bl(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(H(Je),H(kt),H(oF))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})();function lF(t,e){let n=t.url.toLowerCase();if(!P(Lb)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=P(Gl).getToken(),i=P(cF);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}function j6(...t){let e=[K1,Ob,Pb,{provide:ya,useExisting:Pb},{provide:zl,useFactory:()=>P(J1,{optional:!0})??P(Ob)},{provide:Fb,useValue:lF,multi:!0},{provide:Lb,useValue:!0},{provide:Gl,useClass:uF}];for(let n of t)e.push(...n.\u0275providers);return xt(e)}var nm=class extends jl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},rm=class t extends nm{static makeCurrent(){Db(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=dF();return n==null?null:hF(n)}resetBaseElement(){Ia=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Bl(document.cookie,e)}},Ia=null;function dF(){return Ia=Ia||document.querySelector("base"),Ia?Ia.getAttribute("href"):null}function hF(t){return new URL(t,document.baseURI).pathname}var fF=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),Wl=new U(""),Bb=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new $(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(H(Wl),H(me))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),wa=class{constructor(e){this._doc=e}},em="ng-app-id",$b=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=$l(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${em}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(em),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(em,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(H(Je),H(fg),H(gg,8),H(kt))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),tm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},sm=/%COMP%/g,Hb="%COMP%",pF=`_nghost-${Hb}`,gF=`_ngcontent-${Hb}`,mF=!0,yF=new U("",{providedIn:"root",factory:()=>mF});function vF(t){return gF.replace(sm,t)}function _F(t){return pF.replace(sm,t)}function zb(t,e){return e.map(n=>n.replace(sm,t))}var Vb=(()=>{let e=class e{constructor(r,i,s,o,a,u,l,h=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=u,this.ngZone=l,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=$l(u),this.defaultRenderer=new Ea(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===en.ShadowDom&&(i=ce(F({},i),{encapsulation:en.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof Kl?s.applyToHost(r):s instanceof Da&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,u=this.ngZone,l=this.eventManager,h=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(i.encapsulation){case en.Emulated:o=new Kl(l,h,i,this.appId,p,a,u,m);break;case en.ShadowDom:return new im(l,h,r,i,a,u,this.nonce,m);default:o=new Da(l,h,i,p,a,u,m);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(H(Bb),H($b),H(fg),H(yF),H(Je),H(kt),H(me),H(gg))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),Ea=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(tm[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Ub(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Ub(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new $(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=tm[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=tm[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(sn.DashCase|sn.Important)?e.style.setProperty(n,r,i&sn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&sn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Ln().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function Ub(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var im=class extends Ea{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=zb(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Da=class extends Ea{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?zb(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Kl=class extends Da{constructor(e,n,r,i,s,o,a,u){let l=i+"-"+r.id;super(e,n,r,s,o,a,u,l),this.contentAttr=vF(l),this.hostAttr=_F(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},IF=(()=>{let e=class e extends wa{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(H(Je))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),wF=(()=>{let e=class e extends wa{constructor(r){super(r),this.delegate=P(gb,{optional:!0})}supports(r){return this.delegate?this.delegate.supports(r):!1}addEventListener(r,i,s){return this.delegate.addEventListener(r,i,s)}removeEventListener(r,i,s){return this.delegate.removeEventListener(r,i,s)}};e.\u0275fac=function(i){return new(i||e)(H(Je))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),jb=["alt","control","meta","shift"],EF={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},DF={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},TF=(()=>{let e=class e extends wa{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ln().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),jb.forEach(h=>{let p=i.indexOf(h);p>-1&&(i.splice(p,1),a+=h+".")}),a+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=s,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let s=EF[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),jb.forEach(a=>{if(a!==s){let u=DF[a];u(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(H(Je))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})();function h8(t,e){return pb(F({rootComponent:t},bF(e)))}function bF(t){return{appProviders:[...NF,...t?.providers??[]],platformProviders:RF}}function CF(){rm.makeCurrent()}function AF(){return new Sn}function SF(){return hT(document),document}var RF=[{provide:kt,useValue:Kg},{provide:pg,useValue:CF,multi:!0},{provide:Je,useFactory:SF,deps:[]}];var NF=[{provide:_l,useValue:"root"},{provide:Sn,useFactory:AF,deps:[]},{provide:Wl,useClass:IF,multi:!0,deps:[Je,me,kt]},{provide:Wl,useClass:TF,multi:!0,deps:[Je]},{provide:Wl,useClass:wF,multi:!0},Vb,$b,Bb,{provide:As,useExisting:Vb},{provide:ks,useClass:fF,deps:[]},[]];var qb=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(H(Je))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var re="primary",Ua=Symbol("RouteTitle"),lm=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function $s(t){return new lm(t)}function xF(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function PF(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!un(t[n],e[n]))return!1;return!0}function un(t,e){let n=t?dm(t):void 0,r=e?dm(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!nC(t[i],e[i]))return!1;return!0}function dm(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function nC(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function rC(t){return t.length>0?t[t.length-1]:null}function Nr(t){return kf(t)?t:vi(t)?Te(Promise.resolve(t)):K(t)}var OF={exact:sC,subset:oC},iC={exact:kF,subset:FF,ignored:()=>!0};function Gb(t,e,n){return OF[n.paths](t.root,e.root,n.matrixParams)&&iC[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function kF(t,e){return un(t,e)}function sC(t,e,n){if(!Ei(t.segments,e.segments)||!Jl(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!sC(t.children[r],e.children[r],n))return!1;return!0}function FF(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>nC(t[n],e[n]))}function oC(t,e,n){return aC(t,e,e.segments,n)}function aC(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Ei(i,n)||e.hasChildren()||!Jl(i,n,r))}else if(t.segments.length===n.length){if(!Ei(t.segments,n)||!Jl(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!oC(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Ei(t.segments,i)||!Jl(t.segments,i,r)||!t.children[re]?!1:aC(t.children[re],e,s,r)}}function Jl(t,e,n){return e.every((r,i)=>iC[n](t[i].parameters,r.parameters))}var jn=class{constructor(e=new _e([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=$s(this.queryParams),this._queryParamMap}toString(){return UF.serialize(this)}},_e=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Zl(this)}},wi=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=$s(this.parameters),this._parameterMap}toString(){return uC(this)}};function LF(t,e){return Ei(t,e)&&t.every((n,r)=>un(n.parameters,e[r].parameters))}function Ei(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function VF(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===re&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==re&&(n=n.concat(e(i,r)))}),n}var ja=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:()=>new Hs,providedIn:"root"});let t=e;return t})(),Hs=class{parse(e){let n=new fm(e);return new jn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Ta(e.root,!0)}`,r=$F(e.queryParams),i=typeof e.fragment=="string"?`#${jF(e.fragment)}`:"";return`${n}${r}${i}`}},UF=new Hs;function Zl(t){return t.segments.map(e=>uC(e)).join("/")}function Ta(t,e){if(!t.hasChildren())return Zl(t);if(e){let n=t.children[re]?Ta(t.children[re],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==re&&r.push(`${i}:${Ta(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=VF(t,(r,i)=>i===re?[Ta(t.children[re],!1)]:[`${i}:${Ta(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[re]!=null?`${Zl(t)}/${n[0]}`:`${Zl(t)}/(${n.join("//")})`}}function cC(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ql(t){return cC(t).replace(/%3B/gi,";")}function jF(t){return encodeURI(t)}function hm(t){return cC(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Xl(t){return decodeURIComponent(t)}function Wb(t){return Xl(t.replace(/\+/g,"%20"))}function uC(t){return`${hm(t.path)}${BF(t.parameters)}`}function BF(t){return Object.entries(t).map(([e,n])=>`;${hm(e)}=${hm(n)}`).join("")}function $F(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Ql(n)}=${Ql(i)}`).join("&"):`${Ql(n)}=${Ql(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var HF=/^[^\/()?;#]+/;function om(t){let e=t.match(HF);return e?e[0]:""}var zF=/^[^\/()?;=#]+/;function qF(t){let e=t.match(zF);return e?e[0]:""}var GF=/^[^=?&#]+/;function WF(t){let e=t.match(GF);return e?e[0]:""}var KF=/^[^&#]+/;function QF(t){let e=t.match(KF);return e?e[0]:""}var fm=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new _e([],{}):new _e([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[re]=new _e(e,n)),r}parseSegment(){let e=om(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new $(4009,!1);return this.capture(e),new wi(Xl(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=qF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=om(this.remaining);i&&(r=i,this.capture(r))}e[Xl(n)]=Xl(r)}parseQueryParam(e){let n=WF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=QF(this.remaining);o&&(r=o,this.capture(r))}let i=Wb(n),s=Wb(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=om(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new $(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=re);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[re]:new _e([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new $(4011,!1)}};function lC(t){return t.segments.length>0?new _e([],{[re]:t}):t}function dC(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=dC(i);if(r===re&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new _e(t.segments,e);return YF(n)}function YF(t){if(t.numberOfChildren===1&&t.children[re]){let e=t.children[re];return new _e(t.segments.concat(e.segments),e.children)}return t}function Na(t){return t instanceof jn}function JF(t,e,n=null,r=null){let i=hC(t);return fC(i,e,n,r)}function hC(t){let e;function n(s){let o={};for(let u of s.children){let l=n(u);o[u.outlet]=l}let a=new _e(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=lC(r);return e??i}function fC(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return am(i,i,i,n,r);let s=ZF(e);if(s.toRoot())return am(i,i,new _e([],{}),n,r);let o=XF(s,i,t),a=o.processChildren?Aa(o.segmentGroup,o.index,s.commands):gC(o.segmentGroup,o.index,s.commands);return am(i,o.segmentGroup,a,n,r)}function ed(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Ma(t){return typeof t=="object"&&t!=null&&t.outlets}function am(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let o;t===e?o=n:o=pC(t,e,n);let a=lC(dC(o));return new jn(a,s,i)}function pC(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=pC(s,e,n)}),new _e(t.segments,r)}var td=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&ed(r[0]))throw new $(4003,!1);let i=r.find(Ma);if(i&&i!==rC(r))throw new $(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function ZF(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new td(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new td(n,e,r)}var Us=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function XF(t,e,n){if(t.isAbsolute)return new Us(e,!0,0);if(!n)return new Us(e,!1,NaN);if(n.parent===null)return new Us(n,!0,0);let r=ed(t.commands[0])?0:1,i=n.segments.length-1+r;return eL(n,i,t.numberOfDoubleDots)}function eL(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new $(4005,!1);i=r.segments.length}return new Us(r,!1,i-s)}function tL(t){return Ma(t[0])?t[0].outlets:{[re]:t}}function gC(t,e,n){if(t??=new _e([],{}),t.segments.length===0&&t.hasChildren())return Aa(t,e,n);let r=nL(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new _e(t.segments.slice(0,r.pathIndex),{});return s.children[re]=new _e(t.segments.slice(r.pathIndex),t.children),Aa(s,0,i)}else return r.match&&i.length===0?new _e(t.segments,{}):r.match&&!t.hasChildren()?pm(t,e,n):r.match?Aa(t,0,i):pm(t,e,n)}function Aa(t,e,n){if(n.length===0)return new _e(t.segments,{});{let r=tL(n),i={};if(Object.keys(r).some(s=>s!==re)&&t.children[re]&&t.numberOfChildren===1&&t.children[re].segments.length===0){let s=Aa(t.children[re],e,n);return new _e(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=gC(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new _e(t.segments,i)}}function nL(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(Ma(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!Qb(u,l,o))return s;r+=2}else{if(!Qb(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function pm(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(Ma(s)){let u=rL(s.outlets);return new _e(r,u)}if(i===0&&ed(n[0])){let u=t.segments[e];r.push(new wi(u.path,Kb(n[0]))),i++;continue}let o=Ma(s)?s.outlets[re]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&ed(a)?(r.push(new wi(o,Kb(a))),i+=2):(r.push(new wi(o,{})),i++)}return new _e(r,{})}function rL(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=pm(new _e([],{}),0,r))}),e}function Kb(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function Qb(t,e,n){return t==n.path&&un(e,n.parameters)}var Sa="imperative",qe=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(qe||{}),Ft=class{constructor(e,n){this.id=e,this.url=n}},zs=class extends Ft{constructor(e,n,r="imperative",i=null){super(e,n),this.type=qe.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Bn=class extends Ft{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=qe.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},bt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(bt||{}),nd=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(nd||{}),Un=class extends Ft{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=qe.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Sr=class extends Ft{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=qe.NavigationSkipped}},xa=class extends Ft{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=qe.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},rd=class extends Ft{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=qe.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gm=class extends Ft{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=qe.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},mm=class extends Ft{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=qe.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ym=class extends Ft{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=qe.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vm=class extends Ft{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=qe.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_m=class{constructor(e){this.route=e,this.type=qe.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Im=class{constructor(e){this.route=e,this.type=qe.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},wm=class{constructor(e){this.snapshot=e,this.type=qe.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Em=class{constructor(e){this.snapshot=e,this.type=qe.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Dm=class{constructor(e){this.snapshot=e,this.type=qe.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Tm=class{constructor(e){this.snapshot=e,this.type=qe.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},id=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=qe.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Pa=class{},qs=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function iL(t,e){return t.providers&&!t._injector&&(t._injector=kl(t.providers,e,`Route: ${t.path}`)),t._injector??e}function qt(t){return t.outlet||re}function sL(t,e){let n=t.filter(r=>qt(r)===e);return n.push(...t.filter(r=>qt(r)!==e)),n}function Ba(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var bm=class{get injector(){return Ba(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new $a(this.rootInjector),this.attachRef=null}},$a=(()=>{let e=class e{constructor(r){this.rootInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new bm(this.rootInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(H(ft))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),sd=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Cm(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Cm(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Am(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Am(e,this._root).map(n=>n.value)}};function Cm(t,e){if(t===e.value)return e;for(let n of e.children){let r=Cm(t,n);if(r)return r}return null}function Am(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Am(t,n);if(r.length)return r.unshift(e),r}return[]}var Tt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Vs(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var od=class extends sd{constructor(e,n){super(e),this.snapshot=n,Fm(this,e)}toString(){return this.snapshot.toString()}};function mC(t){let e=oL(t),n=new Be([new wi("",{})]),r=new Be({}),i=new Be({}),s=new Be({}),o=new Be(""),a=new Di(n,r,s,o,i,re,t,e.root);return a.snapshot=e.root,new od(new Tt(a,[]),e)}function oL(t){let e={},n={},r={},i="",s=new js([],e,r,i,n,re,t,null,{});return new cd("",new Tt(s,[]))}var Di=class{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Z(l=>l[Ua]))??K(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Z(e=>$s(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Z(e=>$s(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ad(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:F(F({},e.params),t.params),data:F(F({},e.data),t.data),resolve:F(F(F(F({},t.data),e.data),i?.data),t._resolvedData)}:r={params:F({},t.params),data:F({},t.data),resolve:F(F({},t.data),t._resolvedData??{})},i&&vC(i)&&(r.resolve[Ua]=i.title),r}var js=class{get title(){return this.data?.[Ua]}constructor(e,n,r,i,s,o,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=$s(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=$s(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},cd=class extends sd{constructor(e,n){super(n),this.url=e,Fm(this,n)}toString(){return yC(this._root)}};function Fm(t,e){e.value._routerState=t,e.children.forEach(n=>Fm(t,n))}function yC(t){let e=t.children.length>0?` { ${t.children.map(yC).join(", ")} } `:"";return`${t.value}${e}`}function cm(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,un(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),un(e.params,n.params)||t.paramsSubject.next(n.params),PF(e.url,n.url)||t.urlSubject.next(n.url),un(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Sm(t,e){let n=un(t.params,e.params)&&LF(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Sm(t.parent,e.parent))}function vC(t){return typeof t.title=="string"||t.title===null}var aL=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=re,this.activateEvents=new Se,this.deactivateEvents=new Se,this.attachEvents=new Se,this.detachEvents=new Se,this.parentContexts=P($a),this.location=P(Er),this.changeDetector=P(_i),this.inputBinder=P(hd,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new $(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new $(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new $(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new $(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new Rm(r,u,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ce({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[xn]});let t=e;return t})(),Rm=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Di?this.route:e===$a?this.childContexts:this.parent.get(e,n)}},hd=new U(""),Yb=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,s=ta([i.queryParams,i.params,i.data]).pipe(yt(([o,a,u],l)=>(u=F(F(F({},o),a),u),l===0?K(u):Promise.resolve(u)))).subscribe(o=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=mb(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:u}of a.inputs)r.activatedComponentRef.setInput(u,o[u])});this.outletDataSubscriptions.set(r,s)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})();function cL(t,e,n){let r=Oa(t,e._root,n?n._root:void 0);return new od(r,e)}function Oa(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=uL(t,e,n);return new Tt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Oa(t,a)),o}}let r=lL(e.value),i=e.children.map(s=>Oa(t,s));return new Tt(r,i)}}function uL(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Oa(t,r,i);return Oa(t,r)})}function lL(t){return new Di(new Be(t.url),new Be(t.params),new Be(t.queryParams),new Be(t.fragment),new Be(t.data),t.outlet,t.component,t)}var ka=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},_C="ngNavigationCancelingError";function ud(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Na(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=IC(!1,bt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function IC(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[_C]=!0,n.cancellationCode=e,n}function dL(t){return wC(t)&&Na(t.url)}function wC(t){return!!t&&t[_C]}var hL=(t,e,n,r)=>Z(i=>(new Nm(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Nm=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),cm(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Vs(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Vs(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Vs(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Vs(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Tm(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Em(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(cm(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),cm(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},ld=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Bs=class{constructor(e,n){this.component=e,this.route=n}};function fL(t,e,n){let r=t._root,i=e?e._root:null;return ba(r,i,n,[r.value])}function pL(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Ws(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!eD(t)?t:e.get(t):r}function ba(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Vs(e);return t.children.forEach(o=>{gL(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Ra(a,n.getContext(o),i)),i}function gL(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=mL(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new ld(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?ba(t,e,a?a.children:null,r,i):ba(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Bs(a.outlet.component,o))}else o&&Ra(e,a,i),i.canActivateChecks.push(new ld(r)),s.component?ba(t,null,a?a.children:null,r,i):ba(t,null,n,r,i);return i}function mL(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Ei(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ei(t.url,e.url)||!un(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Sm(t,e)||!un(t.queryParams,e.queryParams);case"paramsChange":default:return!Sm(t,e)}}function Ra(t,e,n){let r=Vs(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Ra(o,e.children.getContext(s),n):Ra(o,null,n):Ra(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Bs(e.outlet.component,i)):n.canDeactivateChecks.push(new Bs(null,i)):n.canDeactivateChecks.push(new Bs(null,i))}function Ha(t){return typeof t=="function"}function yL(t){return typeof t=="boolean"}function vL(t){return t&&Ha(t.canLoad)}function _L(t){return t&&Ha(t.canActivate)}function IL(t){return t&&Ha(t.canActivateChild)}function wL(t){return t&&Ha(t.canDeactivate)}function EL(t){return t&&Ha(t.canMatch)}function EC(t){return t instanceof Dn||t?.name==="EmptyError"}var Yl=Symbol("INITIAL_VALUE");function Gs(){return yt(t=>ta(t.map(e=>e.pipe(bn(1),Pu(Yl)))).pipe(Z(e=>{for(let n of e)if(n!==!0){if(n===Yl)return Yl;if(n===!1||DL(n))return n}return!0}),lt(e=>e!==Yl),bn(1)))}function DL(t){return Na(t)||t instanceof ka}function TL(t,e){return ke(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?K(ce(F({},n),{guardsResult:!0})):bL(o,r,i,t).pipe(ke(a=>a&&yL(a)?CL(r,s,t,e):K(a)),Z(a=>ce(F({},n),{guardsResult:a})))})}function bL(t,e,n,r){return Te(t).pipe(ke(i=>ML(i.component,i.route,n,e,r)),Jt(i=>i!==!0,!0))}function CL(t,e,n,r){return Te(e).pipe(Tn(i=>ls(SL(i.route.parent,r),AL(i.route,r),NL(t,i.path,n),RL(t,i.route,n))),Jt(i=>i!==!0,!0))}function AL(t,e){return t!==null&&e&&e(new Dm(t)),K(!0)}function SL(t,e){return t!==null&&e&&e(new wm(t)),K(!0)}function RL(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return K(!0);let i=r.map(s=>Nu(()=>{let o=Ba(e)??n,a=Ws(s,o),u=_L(a)?a.canActivate(e,t):Pt(o,()=>a(e,t));return Nr(u).pipe(Jt())}));return K(i).pipe(Gs())}function NL(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>pL(o)).filter(o=>o!==null).map(o=>Nu(()=>{let a=o.guards.map(u=>{let l=Ba(o.node)??n,h=Ws(u,l),p=IL(h)?h.canActivateChild(r,t):Pt(l,()=>h(r,t));return Nr(p).pipe(Jt())});return K(a).pipe(Gs())}));return K(s).pipe(Gs())}function ML(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return K(!0);let o=s.map(a=>{let u=Ba(e)??i,l=Ws(a,u),h=wL(l)?l.canDeactivate(t,e,n,r):Pt(u,()=>l(t,e,n,r));return Nr(h).pipe(Jt())});return K(o).pipe(Gs())}function xL(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return K(!0);let s=i.map(o=>{let a=Ws(o,t),u=vL(a)?a.canLoad(e,n):Pt(t,()=>a(e,n));return Nr(u)});return K(s).pipe(Gs(),DC(r))}function DC(t){return du(Fe(e=>{if(typeof e!="boolean")throw ud(t,e)}),Z(e=>e===!0))}function PL(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return K(!0);let s=i.map(o=>{let a=Ws(o,t),u=EL(a)?a.canMatch(e,n):Pt(t,()=>a(e,n));return Nr(u)});return K(s).pipe(Gs(),DC(r))}var Fa=class{constructor(e){this.segmentGroup=e||null}},La=class extends Error{constructor(e){super(),this.urlTree=e}};function Ls(t){return cs(new Fa(t))}function OL(t){return cs(new $(4e3,!1))}function kL(t){return cs(IC(!1,bt.GuardRejected))}var Mm=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return K(r);if(i.numberOfChildren>1||!i.children[re])return OL(`${e.redirectTo}`);i=i.children[re]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let a=n,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,params:y,data:C,title:M}=i,R=Pt(s,()=>a({params:y,data:C,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,title:M}));if(R instanceof jn)throw new La(R);n=R}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new La(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new jn(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new _e(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new $(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},xm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function FL(t,e,n,r,i){let s=TC(t,e,n);return s.matched?(r=iL(e,r),PL(r,e,n,i).pipe(Z(o=>o===!0?s:F({},xm)))):K(s)}function TC(t,e,n){if(e.path==="**")return LL(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?F({},xm):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||xF)(n,t,e);if(!i)return F({},xm);let s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});let o=i.consumed.length>0?F(F({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function LL(t){return{matched:!0,parameters:t.length>0?rC(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Jb(t,e,n,r){return n.length>0&&jL(t,n,r)?{segmentGroup:new _e(e,UL(r,new _e(n,t.children))),slicedSegments:[]}:n.length===0&&BL(t,n,r)?{segmentGroup:new _e(t.segments,VL(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new _e(t.segments,t.children),slicedSegments:n}}function VL(t,e,n,r){let i={};for(let s of n)if(fd(t,e,s)&&!r[qt(s)]){let o=new _e([],{});i[qt(s)]=o}return F(F({},r),i)}function UL(t,e){let n={};n[re]=e;for(let r of t)if(r.path===""&&qt(r)!==re){let i=new _e([],{});n[qt(r)]=i}return n}function jL(t,e,n){return n.some(r=>fd(t,e,r)&&qt(r)!==re)}function BL(t,e,n){return n.some(r=>fd(t,e,r))}function fd(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function $L(t,e,n){return e.length===0&&!t.children[n]}var Pm=class{};function HL(t,e,n,r,i,s,o="emptyOnly"){return new Om(t,e,n,r,i,o,s).recognize()}var zL=31,Om=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Mm(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new $(4002,`'${e.segmentGroup}'`)}recognize(){let e=Jb(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Z(({children:n,rootSnapshot:r})=>{let i=new Tt(r,n),s=new cd("",i),o=JF(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new js([],Object.freeze({}),Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),re,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,re,n).pipe(Z(r=>({children:r,rootSnapshot:n})),ur(r=>{if(r instanceof La)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Fa?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(Z(o=>o instanceof Tt?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Te(s).pipe(Tn(o=>{let a=r.children[o],u=sL(n,o);return this.processSegmentGroup(e,u,a,o,i)}),xu((o,a)=>(o.push(...a),o)),lr(null),Vf(),ke(o=>{if(o===null)return Ls(r);let a=bC(o);return qL(a),K(a)}))}processSegment(e,n,r,i,s,o,a){return Te(n).pipe(Tn(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,s,o,a).pipe(ur(l=>{if(l instanceof Fa)return K(null);throw l}))),Jt(u=>!!u),ur(u=>{if(EC(u))return $L(r,i,s)?K(new Pm):Ls(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,s,o,a,u){return qt(r)!==o&&(o===re||!fd(i,s,r))?Ls(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,u):Ls(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=TC(n,i,s);if(!u)return Ls(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>zL&&(this.allowRedirects=!1));let y=new js(s,l,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,Zb(i),qt(i),i.component??i._loadedComponent??null,i,Xb(i)),C=ad(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(C.params),y.data=Object.freeze(C.data);let M=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e);return this.applyRedirects.lineralizeSegments(i,M).pipe(ke(R=>this.processSegment(e,r,n,R.concat(m),o,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a=FL(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(yt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(yt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=u,C=new js(m,p,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,Zb(r),qt(r),r.component??r._loadedComponent??null,r,Xb(r)),M=ad(C,o,this.paramsInheritanceStrategy);C.params=Object.freeze(M.params),C.data=Object.freeze(M.data);let{segmentGroup:R,slicedSegments:x}=Jb(n,m,y,l);if(x.length===0&&R.hasChildren())return this.processChildren(h,l,R,C).pipe(Z(z=>new Tt(C,z)));if(l.length===0&&x.length===0)return K(new Tt(C,[]));let B=qt(r)===s;return this.processSegment(h,l,R,x,B?re:s,!0,C).pipe(Z(z=>new Tt(C,z instanceof Tt?[z]:[])))}))):Ls(n)))}getChildConfig(e,n,r){return n.children?K({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?K({routes:n._loadedRoutes,injector:n._loadedInjector}):xL(e,n,r,this.urlSerializer).pipe(ke(i=>i?this.configLoader.loadChildren(e,n).pipe(Fe(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):kL(n))):K({routes:[],injector:e})}};function qL(t){t.sort((e,n)=>e.value.outlet===re?-1:n.value.outlet===re?1:e.value.outlet.localeCompare(n.value.outlet))}function GL(t){let e=t.value.routeConfig;return e&&e.path===""}function bC(t){let e=[],n=new Set;for(let r of t){if(!GL(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=bC(r.children);e.push(new Tt(r.value,i))}return e.filter(r=>!n.has(r))}function Zb(t){return t.data||{}}function Xb(t){return t.resolve||{}}function WL(t,e,n,r,i,s){return ke(o=>HL(t,e,n,r,o.extractedUrl,i,s).pipe(Z(({state:a,tree:u})=>ce(F({},o),{targetSnapshot:a,urlAfterRedirects:u}))))}function KL(t,e){return ke(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return K(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let l of CC(u))o.add(l);let a=0;return Te(o).pipe(Tn(u=>s.has(u)?QL(u,r,t,e):(u.data=ad(u,u.parent,t).resolve,K(void 0))),Fe(()=>a++),ds(1),ke(u=>a===o.size?K(n):It))})}function CC(t){let e=t.children.map(n=>CC(n)).flat();return[t,...e]}function QL(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!vC(i)&&(s[Ua]=i.title),YL(s,t,e,r).pipe(Z(o=>(t._resolvedData=o,t.data=ad(t,t.parent,n).resolve,null)))}function YL(t,e,n,r){let i=dm(t);if(i.length===0)return K({});let s={};return Te(i).pipe(ke(o=>JL(t[o],e,n,r).pipe(Jt(),Fe(a=>{if(a instanceof ka)throw ud(new Hs,a);s[o]=a}))),ds(1),Lf(s),ur(o=>EC(o)?It:cs(o)))}function JL(t,e,n,r){let i=Ba(e)??r,s=Ws(t,i),o=s.resolve?s.resolve(e,n):Pt(i,()=>s(e,n));return Nr(o)}function um(t){return yt(e=>{let n=t(e);return n?Te(n).pipe(Z(()=>e)):K(e)})}var AC=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===re);return i}getResolvedTitleForRoute(r){return r.data[Ua]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:()=>P(ZL),providedIn:"root"});let t=e;return t})(),ZL=(()=>{let e=class e extends AC{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(H(qb))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),za=new U("",{providedIn:"root",factory:()=>({})}),XL=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=hD({type:e,selectors:[["ng-component"]],standalone:!0,features:[ob],decls:1,vars:0,template:function(i,s){i&1&&kg(0,"router-outlet")},dependencies:[aL],encapsulation:2});let t=e;return t})();function Lm(t){let e=t.children&&t.children.map(Lm),n=e?ce(F({},t),{children:e}):F({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==re&&(n.component=XL),n}var Va=new U(""),Vm=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=P(Ul)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return K(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Nr(r.loadComponent()).pipe(Z(SC),Fe(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),ni(()=>{this.componentLoaders.delete(r)})),s=new is(i,()=>new Qe).pipe(rs());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return K({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=eV(i,this.compiler,r,this.onLoadEndListener).pipe(ni(()=>{this.childrenLoaders.delete(i)})),a=new is(o,()=>new Qe).pipe(rs());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function eV(t,e,n,r){return Nr(t.loadChildren()).pipe(Z(SC),ke(i=>i instanceof ca||Array.isArray(i)?K(i):Te(e.compileModuleAsync(i))),Z(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(Va,[],{optional:!0,self:!0}).flat()),{routes:o.map(Lm),injector:s}}))}function tV(t){return t&&typeof t=="object"&&"default"in t}function SC(t){return tV(t)?t.default:t}var Um=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:()=>P(nV),providedIn:"root"});let t=e;return t})(),nV=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),RC=new U(""),NC=new U("");function rV(t,e,n){let r=t.get(NC),i=t.get(Je);return t.get(me).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let s,o=new Promise(l=>{s=l}),a=i.startViewTransition(()=>(s(),iV(t))),{onViewTransitionCreated:u}=r;return u&&Pt(t,()=>u({transition:a,from:e,to:n})),o})}function iV(t){return new Promise(e=>{Og({read:()=>setTimeout(e)},{injector:t})})}var sV=new U(""),jm=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Qe,this.transitionAbortSubject=new Qe,this.configLoader=P(Vm),this.environmentInjector=P(ft),this.urlSerializer=P(ja),this.rootContexts=P($a),this.location=P(Fs),this.inputBindingEnabled=P(hd,{optional:!0})!==null,this.titleStrategy=P(AC),this.options=P(za,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=P(Um),this.createViewTransition=P(RC,{optional:!0}),this.navigationErrorHandler=P(sV,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>K(void 0),this.rootComponentType=null;let r=s=>this.events.next(new _m(s)),i=s=>this.events.next(new Im(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(ce(F(F({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new Be({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Sa,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(lt(o=>o.id!==0),Z(o=>ce(F({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),yt(o=>{let a=!1,u=!1;return K(o).pipe(yt(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",bt.SupersededByNewNavigation),It;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?ce(F({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let h=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!h&&p!=="reload"){let m="";return this.events.next(new Sr(l.id,this.urlSerializer.serialize(l.rawUrl),m,nd.IgnoredSameUrlNavigation)),l.resolve(!1),It}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return K(l).pipe(yt(m=>{let y=this.transitions?.getValue();return this.events.next(new zs(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),y!==this.transitions?.getValue()?It:Promise.resolve(m)}),WL(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Fe(m=>{o.targetSnapshot=m.targetSnapshot,o.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=ce(F({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let y=new rd(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(y)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:m,extractedUrl:y,source:C,restoredState:M,extras:R}=l,x=new zs(m,this.urlSerializer.serialize(y),C,M);this.events.next(x);let B=mC(this.rootComponentType).snapshot;return this.currentTransition=o=ce(F({},l),{targetSnapshot:B,urlAfterRedirects:y,extras:ce(F({},R),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=y,K(o)}else{let m="";return this.events.next(new Sr(l.id,this.urlSerializer.serialize(l.extractedUrl),m,nd.IgnoredByUrlHandlingStrategy)),l.resolve(!1),It}}),Fe(l=>{let h=new gm(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),Z(l=>(this.currentTransition=o=ce(F({},l),{guards:fL(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),TL(this.environmentInjector,l=>this.events.next(l)),Fe(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw ud(this.urlSerializer,l.guardsResult);let h=new mm(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(h)}),lt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",bt.GuardRejected),!1)),um(l=>{if(l.guards.canActivateChecks.length)return K(l).pipe(Fe(h=>{let p=new ym(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}),yt(h=>{let p=!1;return K(h).pipe(KL(this.paramsInheritanceStrategy,this.environmentInjector),Fe({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(h,"",bt.NoDataFromResolver)}}))}),Fe(h=>{let p=new vm(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}))}),um(l=>{let h=p=>{let m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe(Fe(y=>{p.component=y}),Z(()=>{})));for(let y of p.children)m.push(...h(y));return m};return ta(h(l.targetSnapshot.root)).pipe(lr(null),bn(1))}),um(()=>this.afterPreactivation()),yt(()=>{let{currentSnapshot:l,targetSnapshot:h}=o,p=this.createViewTransition?.(this.environmentInjector,l.root,h.root);return p?Te(p).pipe(Z(()=>o)):K(o)}),Z(l=>{let h=cL(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=ce(F({},l),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,o}),Fe(()=>{this.events.next(new Pa)}),hL(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),bn(1),Fe({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Bn(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),Uf(this.transitionAbortSubject.pipe(Fe(l=>{throw l}))),ni(()=>{!a&&!u&&this.cancelNavigationTransition(o,"",bt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),ur(l=>{if(u=!0,wC(l))this.events.next(new Un(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),dL(l)?this.events.next(new qs(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let h=new xa(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let p=Pt(this.environmentInjector,()=>this.navigationErrorHandler?.(h));if(p instanceof ka){let{message:m,cancellationCode:y}=ud(this.urlSerializer,p);this.events.next(new Un(o.id,this.urlSerializer.serialize(o.extractedUrl),m,y)),this.events.next(new qs(p.redirectTo,p.navigationBehaviorOptions))}else{this.events.next(h);let m=r.errorHandler(l);o.resolve(!!m)}}catch(p){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(p)}}return It}))}))}cancelNavigationTransition(r,i,s){let o=new Un(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let r=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return r.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function oV(t){return t!==Sa}var aV=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:()=>P(cV),providedIn:"root"});let t=e;return t})(),km=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},cV=(()=>{let e=class e extends km{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Pn(e)))(s||e)}})(),e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),MC=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:()=>P(uV),providedIn:"root"});let t=e;return t})(),uV=(()=>{let e=class e extends MC{constructor(){super(...arguments),this.location=P(Fs),this.urlSerializer=P(ja),this.options=P(za,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=P(Um),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new jn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=mC(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof zs)this.stateMemento=this.createStateMemento();else if(r instanceof Sr)this.rawUrlTree=i.initialUrl;else if(r instanceof rd){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??s,i)}}else r instanceof Pa?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):r instanceof Un&&(r.code===bt.GuardRejected||r.code===bt.NoDataFromResolver)?this.restoreHistory(i):r instanceof xa?this.restoreHistory(i,!0):r instanceof Bn&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=r instanceof jn?this.urlSerializer.serialize(r):r;if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=F(F({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=F(F({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Pn(e)))(s||e)}})(),e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ca=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Ca||{});function xC(t,e){t.events.pipe(lt(n=>n instanceof Bn||n instanceof Un||n instanceof xa||n instanceof Sr),Z(n=>n instanceof Bn||n instanceof Sr?Ca.COMPLETE:(n instanceof Un?n.code===bt.Redirect||n.code===bt.SupersededByNewNavigation:!1)?Ca.REDIRECTING:Ca.FAILED),lt(n=>n!==Ca.REDIRECTING),bn(1)).subscribe(()=>{e()})}function lV(t){throw t}var dV={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},hV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Rr=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=P(Ll),this.stateManager=P(MC),this.options=P(za,{optional:!0})||{},this.pendingTasks=P(Ir),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=P(jm),this.urlSerializer=P(ja),this.location=P(Fs),this.urlHandlingStrategy=P(Um),this._events=new Qe,this.errorHandler=this.options.errorHandler||lV,this.navigated=!1,this.routeReuseStrategy=P(aV),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=P(Va,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!P(hd,{optional:!0}),this.eventsSubscription=new Me,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Un&&i.code!==bt.Redirect&&i.code!==bt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Bn)this.navigated=!0;else if(i instanceof qs){let a=i.navigationBehaviorOptions,u=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),l=F({browserUrl:s.extras.browserUrl,info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||oV(s.source)},a);this.scheduleNavigation(u,Sa,null,l,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}pV(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Sa,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let l=F({},s);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Lm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:u,preserveFragment:l}=i,h=l?this.currentUrlTree.fragment:a,p=null;switch(u??this.options.defaultQueryParamsHandling){case"merge":p=F(F({},this.currentUrlTree.queryParams),o);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=o||null}p!==null&&(p=this.removeEmptyProps(p));let m;try{let y=s?s.snapshot:this.routerState.snapshot.root;m=hC(y)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),m=this.currentUrlTree.root}return fC(m,r,p,h??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=Na(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Sa,null,i)}navigate(r,i={skipLocationChange:!1}){return fV(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=F({},dV):i===!1?s=F({},hV):s=i,Na(r))return Gb(this.currentUrlTree,r,s);let o=this.parseUrl(r);return Gb(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let u,l,h;a?(u=a.resolve,l=a.reject,h=a.promise):h=new Promise((m,y)=>{u=m,l=y});let p=this.pendingTasks.add();return xC(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:u,reject:l,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(m=>Promise.reject(m))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function fV(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new $(4008,!1)}function pV(t){return!(t instanceof Pa)&&!(t instanceof qs)}var dd=class{};var gV=(()=>{let e=class e{constructor(r,i,s,o,a){this.router=r,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(lt(r=>r instanceof Bn),Tn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let s=[];for(let o of i){o.providers&&!o._injector&&(o._injector=kl(o.providers,r,`Route: ${o.path}`));let a=o._injector??r,u=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(u,o.children??o._loadedRoutes))}return Te(s).pipe(us())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let s;i.loadChildren&&i.canLoad===void 0?s=this.loader.loadChildren(r,i):s=K(null);let o=s.pipe(ke(a=>a===null?K(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return Te([o,a]).pipe(us())}else return o})}};e.\u0275fac=function(i){return new(i||e)(H(Rr),H(Ul),H(ft),H(dd),H(Vm))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),PC=new U(""),mV=(()=>{let e=class e{constructor(r,i,s,o,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof zs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Bn?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof Sr&&r.code===nd.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof id&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new id(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){AT()},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})();function x8(t,...e){return xt([{provide:Va,multi:!0,useValue:t},[],{provide:Di,useFactory:OC,deps:[Rr]},{provide:pa,multi:!0,useFactory:kC},e.map(n=>n.\u0275providers)])}function OC(t){return t.routerState.root}function qa(t,e){return{\u0275kind:t,\u0275providers:e}}function kC(){let t=P(He);return e=>{let n=t.get(Dr);if(e!==n.components[0])return;let r=t.get(Rr),i=t.get(FC);t.get(Bm)===1&&r.initialNavigation(),t.get(LC,null,oe.Optional)?.setUpPreloading(),t.get(PC,null,oe.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var FC=new U("",{factory:()=>new Qe}),Bm=new U("",{providedIn:"root",factory:()=>1});function yV(){return qa(2,[{provide:Bm,useValue:0},{provide:Vl,multi:!0,deps:[He],useFactory:e=>{let n=e.get(Tb,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(Rr),s=e.get(FC);xC(i,()=>{r(!0)}),e.get(jm).afterPreactivation=()=>(r(!0),s.closed?K(void 0):s),i.initialNavigation()}))}}])}function vV(){return qa(3,[{provide:Vl,multi:!0,useFactory:()=>{let e=P(Rr);return()=>{e.setUpLocationChangeListener()}}},{provide:Bm,useValue:2}])}var LC=new U("");function _V(t){return qa(0,[{provide:LC,useExisting:gV},{provide:dd,useExisting:t}])}function IV(){return qa(8,[Yb,{provide:hd,useExisting:Yb}])}function wV(t){let e=[{provide:RC,useValue:rV},{provide:NC,useValue:F({skipNextTransition:!!t?.skipInitialTransition},t)}];return qa(9,e)}var eC=new U("ROUTER_FORROOT_GUARD"),EV=[Fs,{provide:ja,useClass:Hs},Rr,$a,{provide:Di,useFactory:OC,deps:[Rr]},Vm,[]],P8=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[EV,[],{provide:Va,multi:!0,useValue:r},{provide:eC,useFactory:CV,deps:[[Rr,new Ye,new vl]]},{provide:za,useValue:i||{}},i?.useHash?TV():bV(),DV(),i?.preloadingStrategy?_V(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?AV(i):[],i?.bindToComponentInputs?IV().\u0275providers:[],i?.enableViewTransitions?wV().\u0275providers:[],SV()]}}static forChild(r){return{ngModule:e,providers:[{provide:Va,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(H(eC,8))},e.\u0275mod=an({type:e}),e.\u0275inj=on({});let t=e;return t})();function DV(){return{provide:PC,useFactory:()=>{let t=P(Ab),e=P(me),n=P(za),r=P(jm),i=P(ja);return n.scrollOffset&&t.setOffset(n.scrollOffset),new mV(i,r,t,e,n)}}}function TV(){return{provide:Ii,useClass:Cb}}function bV(){return{provide:Ii,useClass:Wg}}function CV(t){return"guarded"}function AV(t){return[t.initialNavigation==="disabled"?vV().\u0275providers:[],t.initialNavigation==="enabledBlocking"?yV().\u0275providers:[]]}var tC=new U("");function SV(){return[{provide:tC,useFactory:kC},{provide:pa,multi:!0,useExisting:tC}]}var UC=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},RV=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},jC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=s>>2,p=(s&3)<<4|a>>4,m=(a&15)<<2|l>>6,y=l&63;u||(y=64,o||(m=64)),r.push(n[h],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(UC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):RV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||p==null)throw new Hm;let m=s<<2|a>>4;if(r.push(m),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let C=l<<6&192|p;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Hm=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},NV=function(t){let e=UC(t);return jC.encodeByteArray(e,!0)},Ga=function(t){return NV(t).replace(/\./g,"")},qm=function(t){try{return jC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function MV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var xV=()=>MV().__FIREBASE_DEFAULTS__,PV=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},OV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&qm(t[1]);return e&&JSON.parse(e)},gd=()=>{try{return xV()||PV()||OV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Gm=t=>{var e,n;return(n=(e=gd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},BC=t=>{let e=Gm(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Wm=()=>{var t;return(t=gd())===null||t===void 0?void 0:t.config},Km=t=>{var e;return(e=gd())===null||e===void 0?void 0:e[`_${t}`]};var pd=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function $C(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ga(JSON.stringify(n)),Ga(JSON.stringify(o)),""].join(".")}function Ge(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function HC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ge())}function kV(){var t;let e=(t=gd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zC(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function qC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function GC(){let t=Ge();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function WC(){return!kV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Qm(){try{return typeof indexedDB=="object"}catch{return!1}}function KC(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var FV="FirebaseError",Ct=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=FV,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$n.prototype.create)}},$n=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?LV(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ct(i,a,r)}};function LV(t,e){return t.replace(VV,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var VV=/\{\$([^}]+)}/g;function QC(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ti(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(VC(s)&&VC(o)){if(!Ti(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function VC(t){return t!==null&&typeof t=="object"}function Wa(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ks(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Qs(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function YC(t,e){let n=new zm(t,e);return n.subscribe.bind(n)}var zm=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");UV(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=$m),i.error===void 0&&(i.error=$m),i.complete===void 0&&(i.complete=$m);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function UV(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function $m(){}var F8=4*60*60*1e3;function it(t){return t&&t._delegate?t._delegate:t}var Lt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var bi="[DEFAULT]";var Ym=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new pd;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(BV(e))try{this.getOrInitializeService({instanceIdentifier:bi})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=bi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return w(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=bi){return this.instances.has(e)}getOptions(e=bi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:jV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=bi){return this.component?this.component.multipleInstances?e:bi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function jV(t){return t===bi?void 0:t}function BV(t){return t.instantiationMode==="EAGER"}var md=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Ym(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var $V=[],le=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(le||{}),HV={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},zV=le.INFO,qV={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},GV=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=qV[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Mr=class{constructor(e){this.name=e,this._logLevel=zV,this._logHandler=GV,this._userLogHandler=null,$V.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?HV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...e),this._logHandler(this,le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...e),this._logHandler(this,le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,le.INFO,...e),this._logHandler(this,le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,le.WARN,...e),this._logHandler(this,le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...e),this._logHandler(this,le.ERROR,...e)}};var WV=(t,e)=>e.some(n=>t instanceof n),JC,ZC;function KV(){return JC||(JC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QV(){return ZC||(ZC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var XC=new WeakMap,Zm=new WeakMap,e0=new WeakMap,Jm=new WeakMap,ey=new WeakMap;function YV(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ln(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&XC.set(n,t)}).catch(()=>{}),ey.set(e,t),e}function JV(t){if(Zm.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Zm.set(t,e)}var Xm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Zm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||e0.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ln(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function t0(t){Xm=t(Xm)}function ZV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(yd(this),e,...n);return e0.set(r,e.sort?e.sort():[e]),ln(r)}:QV().includes(t)?function(...e){return t.apply(yd(this),e),ln(XC.get(this))}:function(...e){return ln(t.apply(yd(this),e))}}function XV(t){return typeof t=="function"?ZV(t):(t instanceof IDBTransaction&&JV(t),WV(t,KV())?new Proxy(t,Xm):t)}function ln(t){if(t instanceof IDBRequest)return YV(t);if(Jm.has(t))return Jm.get(t);let e=XV(t);return e!==t&&(Jm.set(t,e),ey.set(e,t)),e}var yd=t=>ey.get(t);function r0(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=ln(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ln(o.result),u.oldVersion,u.newVersion,ln(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var eU=["get","getKey","getAll","getAllKeys","count"],tU=["put","add","delete","clear"],ty=new Map;function n0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ty.get(e))return ty.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=tU.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||eU.includes(n)))return;let s=function(o,...a){return w(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return ty.set(e,s),s}t0(t=>ce(F({},t),{get:(e,n,r)=>n0(e,n)||t.get(e,n,r),has:(e,n)=>!!n0(e,n)||t.has(e,n)}));var ry=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(nU(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function nU(t){let e=t.getComponent();return e?.type==="VERSION"}var iy="@firebase/app",i0="0.10.10";var Hn=new Mr("@firebase/app"),rU="@firebase/app-compat",iU="@firebase/analytics-compat",sU="@firebase/analytics",oU="@firebase/app-check-compat",aU="@firebase/app-check",cU="@firebase/auth",uU="@firebase/auth-compat",lU="@firebase/database",dU="@firebase/database-compat",hU="@firebase/functions",fU="@firebase/functions-compat",pU="@firebase/installations",gU="@firebase/installations-compat",mU="@firebase/messaging",yU="@firebase/messaging-compat",vU="@firebase/performance",_U="@firebase/performance-compat",IU="@firebase/remote-config",wU="@firebase/remote-config-compat",EU="@firebase/storage",DU="@firebase/storage-compat",TU="@firebase/firestore",bU="@firebase/vertexai-preview",CU="@firebase/firestore-compat",AU="firebase",SU="10.13.1";var sy="[DEFAULT]",RU={[iy]:"fire-core",[rU]:"fire-core-compat",[sU]:"fire-analytics",[iU]:"fire-analytics-compat",[aU]:"fire-app-check",[oU]:"fire-app-check-compat",[cU]:"fire-auth",[uU]:"fire-auth-compat",[lU]:"fire-rtdb",[dU]:"fire-rtdb-compat",[hU]:"fire-fn",[fU]:"fire-fn-compat",[pU]:"fire-iid",[gU]:"fire-iid-compat",[mU]:"fire-fcm",[yU]:"fire-fcm-compat",[vU]:"fire-perf",[_U]:"fire-perf-compat",[IU]:"fire-rc",[wU]:"fire-rc-compat",[EU]:"fire-gcs",[DU]:"fire-gcs-compat",[TU]:"fire-fst",[CU]:"fire-fst-compat",[bU]:"fire-vertex","fire-js":"fire-js",[AU]:"fire-js-all"};var Ka=new Map,NU=new Map,oy=new Map;function s0(t,e){try{t.container.addComponent(e)}catch(n){Hn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Pr(t){let e=t.name;if(oy.has(e))return Hn.debug(`There were multiple attempts to register component ${e}.`),!1;oy.set(e,t);for(let n of Ka.values())s0(n,t);for(let n of NU.values())s0(n,t);return!0}function Ya(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Gt(t){return t.settings!==void 0}var MU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xr=new $n("app","Firebase",MU);var ay=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Lt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xr.create("app-deleted",{appName:this._name})}};var Or=SU;function ly(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:sy,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw xr.create("bad-app-name",{appName:String(i)});if(n||(n=Wm()),!n)throw xr.create("no-options");let s=Ka.get(i);if(s){if(Ti(n,s.options)&&Ti(r,s.config))return s;throw xr.create("duplicate-app",{appName:i})}let o=new md(i);for(let u of oy.values())o.addComponent(u);let a=new ay(n,r,o);return Ka.set(i,a),a}function Ys(t=sy){let e=Ka.get(t);if(!e&&t===sy&&Wm())return ly();if(!e)throw xr.create("no-app",{appName:t});return e}function vd(){return Array.from(Ka.values())}function $e(t,e,n){var r;let i=(r=RU[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Hn.warn(a.join(" "));return}Pr(new Lt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var xU="firebase-heartbeat-database",PU=1,Qa="firebase-heartbeat-store",ny=null;function u0(){return ny||(ny=r0(xU,PU,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Qa)}catch(n){console.warn(n)}}}}).catch(t=>{throw xr.create("idb-open",{originalErrorMessage:t.message})})),ny}function OU(t){return w(this,null,function*(){try{let n=(yield u0()).transaction(Qa),r=yield n.objectStore(Qa).get(l0(t));return yield n.done,r}catch(e){if(e instanceof Ct)Hn.warn(e.message);else{let n=xr.create("idb-get",{originalErrorMessage:e?.message});Hn.warn(n.message)}}})}function o0(t,e){return w(this,null,function*(){try{let r=(yield u0()).transaction(Qa,"readwrite");yield r.objectStore(Qa).put(e,l0(t)),yield r.done}catch(n){if(n instanceof Ct)Hn.warn(n.message);else{let r=xr.create("idb-set",{originalErrorMessage:n?.message});Hn.warn(r.message)}}})}function l0(t){return`${t.name}!${t.options.appId}`}var kU=1024,FU=30*24*60*60*1e3,cy=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new uy(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return w(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=a0();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=FU}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Hn.warn(r)}})}getHeartbeatsHeader(){return w(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=a0(),{heartbeatsToSend:r,unsentEntries:i}=LU(this._heartbeatsCache.heartbeats),s=Ga(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Hn.warn(n),""}})}};function a0(){return new Date().toISOString().substring(0,10)}function LU(t,e=kU){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),c0(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),c0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var uy=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return w(this,null,function*(){return Qm()?KC().then(()=>!0).catch(()=>!1):!1})}read(){return w(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield OU(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return o0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return o0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function c0(t){return Ga(JSON.stringify({version:2,heartbeats:t})).length}function VU(t){Pr(new Lt("platform-logger",e=>new ry(e),"PRIVATE")),Pr(new Lt("heartbeat",e=>new cy(e),"PRIVATE")),$e(iy,i0,t),$e(iy,i0,"esm2017"),$e("fire-js","")}VU("");var UU="firebase",jU="10.13.1";$e(UU,jU,"app");var Ai=new Rn("ANGULARFIRE2_VERSION");function Id(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Ja=(t,e)=>{let n=e?[e]:vd(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Zs=class{constructor(){return Ja(BU)}},BU="app-check";function Js(){}var _d=class{zone;delegate;constructor(e,n=Pf){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},dy=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Js,{},Js,Js)),n.pipe(Fe({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Xs=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new _d(Zone.current)),this.insideAngular=n.run(()=>new _d(Zone.current,xf)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(H(me))};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function wd(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function $U(t){return wd().ngZone.runOutsideAngular(()=>t())}function Ci(t){return wd().ngZone.run(()=>t())}function HU(t){return zU(wd())(t)}function zU(t){return function(n){return n=n.lift(new dy(t.ngZone)),n.pipe(cr(t.outsideAngular),ar(t.insideAngular))}}var qU=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Ci(()=>t.apply(void 0,r))},Wt=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=Ci(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Js,{},Js,Js))),r[s]=qU(r[s],n));let i=$U(()=>t.apply(this,r));if(!e)if(i instanceof se){let s=wd();return i.pipe(cr(s.outsideAngular),ar(s.insideAngular))}else return Ci(()=>i);return i instanceof se?i.pipe(HU):i instanceof Promise?Ci(()=>new Promise((s,o)=>i.then(a=>Ci(()=>s(a)),a=>Ci(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Ci(()=>i)};var zn=class{constructor(e){return e}},Si=class{constructor(){return vd()}};function GU(t){return t&&t.length===1?t[0]:new zn(Ys())}var hy=new U("angularfire2._apps"),WU={provide:zn,useFactory:GU,deps:[[new Ye,hy]]},KU={provide:Si,deps:[[new Ye,hy]]};function QU(t){return(e,n)=>{let r=n.get(kt);$e("angularfire",Ai.full,"core"),$e("angularfire",Ai.full,"app"),$e("angular",ab.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new zn(i)}}function E5(t,...e){return xt([WU,KU,{provide:hy,useFactory:QU(t),multi:!0,deps:[me,He,Xs,...e]}])}var D5=Wt(ly,!0);function A0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var S0=A0,R0=new $n("auth","Firebase",A0());var Ad=new Mr("@firebase/auth");function YU(t,...e){Ad.logLevel<=le.WARN&&Ad.warn(`Auth (${Or}): ${t}`,...e)}function Dd(t,...e){Ad.logLevel<=le.ERROR&&Ad.error(`Auth (${Or}): ${t}`,...e)}function hn(t,...e){throw ky(t,...e)}function Ri(t,...e){return ky(t,...e)}function N0(t,e,n){let r=Object.assign(Object.assign({},S0()),{[e]:n});return new $n("auth","Firebase",r).create(e,{appName:t.name})}function Wn(t){return N0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ky(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return R0.create(t,...e)}function Q(t,e,...n){if(!t)throw ky(e,...n)}function qn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Dd(e),new Error(e)}function Fr(t,e){t||qn(e)}function my(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function JU(){return d0()==="http:"||d0()==="https:"}function d0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function ZU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(JU()||zC()||"connection"in navigator)?navigator.onLine:!0}function XU(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Ni=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Fr(n>e,"Short delay should be less than long delay!"),this.isMobile=HC()||qC()}get(){return ZU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Fy(t,e){Fr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Sd=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var ej={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var tj=new Ni(3e4,6e4);function Lr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Vr(s,o,a,u){return w(this,arguments,function*(t,e,n,r,i={}){return M0(t,i,()=>w(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=Wa(Object.assign({key:t.config.apiKey},h)).slice(1),m=yield t._getAdditionalHeaders();return m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode),Sd.fetch()(x0(t,t.config.apiHost,n,p),Object.assign({method:e,headers:m,referrerPolicy:"no-referrer"},l))}))})}function M0(t,e,n){return w(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},ej),e);try{let i=new yy(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Ed(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ed(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Ed(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Ed(t,"user-disabled",o);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw N0(t,h,l);hn(t,h)}}catch(i){if(i instanceof Ct)throw i;hn(t,"network-request-failed",{message:String(i)})}})}function sc(s,o,a,u){return w(this,arguments,function*(t,e,n,r,i={}){let l=yield Vr(t,e,n,r,i);return"mfaPendingCredential"in l&&hn(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function x0(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Fy(t.config,i):`${t.config.apiScheme}://${i}`}function nj(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var yy=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ri(this.auth,"network-request-failed")),tj.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Ed(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Ri(t,e,r);return i.customData._tokenResponse=n,i}function h0(t){return t!==void 0&&t.enterprise!==void 0}var vy=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return nj(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function rj(t,e){return w(this,null,function*(){return Vr(t,"GET","/v2/recaptchaConfig",Lr(t,e))})}function ij(t,e){return w(this,null,function*(){return Vr(t,"POST","/v1/accounts:delete",e)})}function P0(t,e){return w(this,null,function*(){return Vr(t,"POST","/v1/accounts:lookup",e)})}function Za(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Ly(t,e=!1){return w(this,null,function*(){let n=it(t),r=yield n.getIdToken(e),i=Vy(r);Q(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Za(fy(i.auth_time)),issuedAtTime:Za(fy(i.iat)),expirationTime:Za(fy(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function fy(t){return Number(t)*1e3}function Vy(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Dd("JWT malformed, contained fewer than 3 sections"),null;try{let i=qm(n);return i?JSON.parse(i):(Dd("Failed to decode base64 JWT payload"),null)}catch(i){return Dd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function f0(t){let e=Vy(t);return Q(e,"internal-error"),Q(typeof e.exp<"u","internal-error"),Q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function ec(t,e,n=!1){return w(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Ct&&sj(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function sj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var _y=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>w(this,null,function*(){yield this.iteration()}),n)}iteration(){return w(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var tc=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Za(this.lastLoginAt),this.creationTime=Za(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Rd(t){return w(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield ec(t,P0(n,{idToken:r}));Q(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?O0(s.providerUserInfo):[],a=oj(t.providerData,o),u=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!a?.length,h=u?l:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new tc(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function Uy(t){return w(this,null,function*(){let e=it(t);yield Rd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function oj(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function O0(t){return t.map(e=>{var{providerId:n}=e,r=Of(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function aj(t,e){return w(this,null,function*(){let n=yield M0(t,{},()=>w(this,null,function*(){let r=Wa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=x0(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Sd.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function cj(t,e){return w(this,null,function*(){return Vr(t,"POST","/v2/accounts:revokeToken",Lr(t,e))})}var Xa=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Q(e.idToken,"internal-error"),Q(typeof e.idToken<"u","internal-error"),Q(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):f0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Q(e.length!==0,"internal-error");let n=f0(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return w(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Q(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return w(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield aj(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(Q(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Q(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Q(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return qn("not implemented")}};function kr(t,e){Q(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var eo=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Of(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _y(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new tc(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return w(this,null,function*(){let n=yield ec(this,this.stsTokenManager.getToken(this.auth,e));return Q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Ly(this,e)}reload(){return Uy(this)}_assign(e){this!==e&&(Q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return w(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Rd(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return w(this,null,function*(){if(Gt(this.auth.app))return Promise.reject(Wn(this.auth));let e=yield this.getIdToken();return yield ec(this,ij(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,y=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,C=(o=n.photoURL)!==null&&o!==void 0?o:void 0,M=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,x=(l=n.createdAt)!==null&&l!==void 0?l:void 0,B=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:z,emailVerified:q,isAnonymous:Ie,providerData:W,stsTokenManager:E}=n;Q(z&&E,e,"internal-error");let v=Xa.fromJSON(this.name,E);Q(typeof z=="string",e,"internal-error"),kr(p,e.name),kr(m,e.name),Q(typeof q=="boolean",e,"internal-error"),Q(typeof Ie=="boolean",e,"internal-error"),kr(y,e.name),kr(C,e.name),kr(M,e.name),kr(R,e.name),kr(x,e.name),kr(B,e.name);let _=new t({uid:z,auth:e,email:m,emailVerified:q,displayName:p,isAnonymous:Ie,photoURL:C,phoneNumber:y,tenantId:M,stsTokenManager:v,createdAt:x,lastLoginAt:B});return W&&Array.isArray(W)&&(_.providerData=W.map(D=>Object.assign({},D))),R&&(_._redirectEventId=R),_}static _fromIdTokenResponse(e,n,r=!1){return w(this,null,function*(){let i=new Xa;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Rd(s),s})}static _fromGetAccountInfoResponse(e,n,r){return w(this,null,function*(){let i=n.users[0];Q(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?O0(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new Xa;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new tc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,l),u})}};var p0=new Map;function Gn(t){Fr(t instanceof Function,"Expected a class definition");let e=p0.get(t);return e?(Fr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,p0.set(t,e),e)}var uj=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return w(this,null,function*(){return!0})}_set(n,r){return w(this,null,function*(){this.storage[n]=r})}_get(n){return w(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return w(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Iy=uj;function Td(t,e,n){return`firebase:${t}:${e}:${n}`}var Nd=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Td(this.userKey,i.apiKey,s),this.fullPersistenceKey=Td("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return w(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?eo._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return w(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return w(this,null,function*(){if(!n.length)return new t(Gn(Iy),e,r);let i=(yield Promise.all(n.map(l=>w(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||Gn(Iy),o=Td(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(o);if(h){let p=eo._fromJSON(e,h);l!==s&&(a=p),s=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(l=>w(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,r))})}};function g0(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(V0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(k0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(j0(e))return"Blackberry";if(B0(e))return"Webos";if(F0(e))return"Safari";if((e.includes("chrome/")||L0(e))&&!e.includes("edge/"))return"Chrome";if(U0(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function k0(t=Ge()){return/firefox\//i.test(t)}function F0(t=Ge()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function L0(t=Ge()){return/crios\//i.test(t)}function V0(t=Ge()){return/iemobile/i.test(t)}function U0(t=Ge()){return/android/i.test(t)}function j0(t=Ge()){return/blackberry/i.test(t)}function B0(t=Ge()){return/webos/i.test(t)}function jy(t=Ge()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function lj(t=Ge()){var e;return jy(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function dj(){return GC()&&document.documentMode===10}function $0(t=Ge()){return jy(t)||U0(t)||B0(t)||j0(t)||/windows phone/i.test(t)||V0(t)}function H0(t,e=[]){let n;switch(t){case"Browser":n=g0(Ge());break;case"Worker":n=`${g0(Ge())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Or}/${r}`}var wy=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return w(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function hj(n){return w(this,arguments,function*(t,e={}){return Vr(t,"GET","/v2/passwordPolicy",Lr(t,e))})}var fj=6,Ey=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:fj,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Dy=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Md(this),this.idTokenSubscription=new Md(this),this.beforeStateQueue=new wy(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=R0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Gn(n)),this._initializationPromise=this.queue(()=>w(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Nd.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return w(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return w(this,null,function*(){try{let n=yield P0(this,{idToken:e}),r=yield eo._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return w(this,null,function*(){var n;if(Gt(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===a)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Q(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return w(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return w(this,null,function*(){try{yield Rd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=XU()}_delete(){return w(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return w(this,null,function*(){if(Gt(this.app))return Promise.reject(Wn(this));let n=e?it(e):null;return n&&Q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return w(this,null,function*(){if(!this._deleted)return e&&Q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>w(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return w(this,null,function*(){return Gt(this.app)?Promise.reject(Wn(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Gt(this.app)?Promise.reject(Wn(this)):this.queue(()=>w(this,null,function*(){yield this.assertedPersistence.setPersistence(Gn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return w(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return w(this,null,function*(){let e=yield hj(this),n=new Ey(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new $n("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return w(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield cj(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return w(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return w(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Gn(e)||this._popupRedirectResolver;Q(n,this,"argument-error"),this.redirectPersistenceManager=yield Nd.create(this,[Gn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return w(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>w(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return w(this,null,function*(){if(e===this.currentUser)return this.queue(()=>w(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Q(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return w(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=H0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return w(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return w(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&YU(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function xi(t){return it(t)}var Md=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=YC(n=>this.observer=n)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Vd={loadJS(){return w(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function pj(t){Vd=t}function z0(t){return Vd.loadJS(t)}function gj(){return Vd.recaptchaEnterpriseScript}function mj(){return Vd.gapiScript}function q0(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var yj="recaptcha-enterprise",vj="NO_RECAPTCHA",Ty=class{constructor(e){this.type=yj,this.auth=xi(e)}verify(e="verify",n=!1){return w(this,null,function*(){function r(s){return w(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>w(this,null,function*(){rj(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new vy(u);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(s,o,a){let u=window.grecaptcha;h0(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(vj)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&h0(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=gj();u.length!==0&&(u+=a),z0(u).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})})}};function m0(t,e,n,r=!1){return w(this,null,function*(){let i=new Ty(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function by(t,e,n,r){return w(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield m0(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>w(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield m0(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function By(t,e){let n=Ya(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(Ti(s,e??{}))return i;hn(i,"already-initialized")}return n.initialize({options:e})}function _j(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Gn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function $y(t,e,n){let r=xi(t);Q(r._canInitEmulator,r,"emulator-config-failed"),Q(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=G0(e),{host:o,port:a}=Ij(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||wj()}function G0(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Ij(t){let e=G0(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:y0(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:y0(o)}}}function y0(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function wj(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var nc=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return qn("not implemented")}_getIdTokenResponse(e){return qn("not implemented")}_linkToIdToken(e,n){return qn("not implemented")}_getReauthenticationResolver(e){return qn("not implemented")}};function Ej(t,e){return w(this,null,function*(){return Vr(t,"POST","/v1/accounts:signUp",e)})}function Dj(t,e){return w(this,null,function*(){return sc(t,"POST","/v1/accounts:signInWithPassword",Lr(t,e))})}function Tj(t,e){return w(this,null,function*(){return sc(t,"POST","/v1/accounts:signInWithEmailLink",Lr(t,e))})}function bj(t,e){return w(this,null,function*(){return sc(t,"POST","/v1/accounts:signInWithEmailLink",Lr(t,e))})}var rc=class t extends nc{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return w(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return by(e,n,"signInWithPassword",Dj);case"emailLink":return Tj(e,{email:this._email,oobCode:this._password});default:hn(e,"internal-error")}})}_linkToIdToken(e,n){return w(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return by(e,r,"signUpPassword",Ej);case"emailLink":return bj(e,{idToken:n,email:this._email,oobCode:this._password});default:hn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function py(t,e){return w(this,null,function*(){return sc(t,"POST","/v1/accounts:signInWithIdp",Lr(t,e))})}function Cj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Aj(t){let e=Ks(Qs(t)).link,n=e?Ks(Qs(e)).deep_link_id:null,r=Ks(Qs(t)).deep_link_id;return(r?Ks(Qs(r)).link:null)||r||n||e||t}var xd=class t{constructor(e){var n,r,i,s,o,a;let u=Ks(Qs(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=Cj((i=u.mode)!==null&&i!==void 0?i:null);Q(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=Aj(e);try{return new t(n)}catch{return null}}};var W0=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return rc._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=xd.parseLink(r);return Q(i,"argument-error"),rc._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Pd=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Cy=class extends Pd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function Sj(t,e){return w(this,null,function*(){return sc(t,"POST","/v1/accounts:signUp",Lr(t,e))})}var to=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return w(this,null,function*(){let s=yield eo._fromIdTokenResponse(e,r,i),o=v0(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return w(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=v0(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function v0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Ay=class t extends Ct{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function K0(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Ay._fromErrorAndOperation(t,s,e,r):s})}function Rj(t,e,n=!1){return w(this,null,function*(){let r=yield ec(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return to._forOperation(t,"link",r)})}function Nj(t,e,n=!1){return w(this,null,function*(){let{auth:r}=t;if(Gt(r.app))return Promise.reject(Wn(r));let i="reauthenticate";try{let s=yield ec(t,K0(r,i,e,t),n);Q(s.idToken,r,"internal-error");let o=Vy(s.idToken);Q(o,r,"internal-error");let{sub:a}=o;return Q(t.uid===a,r,"user-mismatch"),to._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&hn(r,"user-mismatch"),s}})}function Q0(t,e,n=!1){return w(this,null,function*(){if(Gt(t.app))return Promise.reject(Wn(t));let r="signIn",i=yield K0(t,r,e),s=yield to._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function Hy(t,e){return w(this,null,function*(){return Q0(xi(t),e)})}function Y0(t){return w(this,null,function*(){let e=xi(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function zy(t,e,n){return w(this,null,function*(){if(Gt(t.app))return Promise.reject(Wn(t));let r=xi(t),o=yield by(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Sj).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&Y0(t),u}),a=yield to._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function qy(t,e,n){return Gt(t.app)?Promise.reject(Wn(t)):Hy(it(t),W0.credential(e,n)).catch(r=>w(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&Y0(t),r}))}function Gy(t,e,n,r){return it(t).onIdTokenChanged(e,n,r)}function Wy(t,e,n){return it(t).beforeAuthStateChanged(e,n)}var Od="__sak";var kd=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Od,"1"),this.storage.removeItem(Od),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var Mj=1e3,xj=10,Pj=(()=>{class t extends kd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$0(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);dj()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,xj):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},Mj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return w(this,null,function*(){yield sr(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return w(this,null,function*(){let r=yield sr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return w(this,null,function*(){yield sr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),J0=Pj;var Oj=(()=>{class t extends kd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Ky=Oj;function kj(t){return Promise.all(t.map(e=>w(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var Fj=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return w(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(a).map(h=>w(this,null,function*(){return h(r.origin,o)})),l=yield kj(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function Z0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Sy=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return w(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{let l=Z0("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(h),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function dn(){return window}function Lj(t){dn().location.href=t}function X0(){return typeof dn().WorkerGlobalScope<"u"&&typeof dn().importScripts=="function"}function Vj(){return w(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function Uj(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function jj(){return X0()?self:null}var eA="firebaseLocalStorageDb",Bj=1,Fd="firebaseLocalStorage",tA="fbase_key",Mi=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Ud(t,e){return t.transaction([Fd],e?"readwrite":"readonly").objectStore(Fd)}function $j(){let t=indexedDB.deleteDatabase(eA);return new Mi(t).toPromise()}function Ry(){let t=indexedDB.open(eA,Bj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Fd,{keyPath:tA})}catch(i){n(i)}}),t.addEventListener("success",()=>w(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Fd)?e(r):(r.close(),yield $j(),e(yield Ry()))}))})}function _0(t,e,n){return w(this,null,function*(){let r=Ud(t,!0).put({[tA]:e,value:n});return new Mi(r).toPromise()})}function Hj(t,e){return w(this,null,function*(){let n=Ud(t,!1).get(e),r=yield new Mi(n).toPromise();return r===void 0?null:r.value})}function I0(t,e){let n=Ud(t,!0).delete(e);return new Mi(n).toPromise()}var zj=800,qj=3,Gj=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return w(this,null,function*(){return this.db?this.db:(this.db=yield Ry(),this.db)})}_withRetries(n){return w(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>qj)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return w(this,null,function*(){return X0()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return w(this,null,function*(){this.receiver=Fj._getInstance(jj()),this.receiver._subscribe("keyChanged",(n,r)=>w(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>w(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return w(this,null,function*(){var n,r;if(this.activeServiceWorker=yield Vj(),!this.activeServiceWorker)return;this.sender=new Sy(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return w(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||Uj()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return w(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Ry();return yield _0(n,Od,"1"),yield I0(n,Od),!0}catch{}return!1})}_withPendingWrite(n){return w(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(i=>_0(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return w(this,null,function*(){let r=yield this._withRetries(i=>Hj(i,n));return this.localCache[n]=r,r})}_remove(n){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(r=>I0(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return w(this,null,function*(){let n=yield this._withRetries(s=>{let o=Ud(s,!1).getAll();return new Mi(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>w(this,null,function*(){return this._poll()}),zj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),nA=Gj;var M5=q0("rcb"),x5=new Ni(3e4,6e4);function Wj(t,e){return e?Gn(e):(Q(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var ic=class extends nc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return py(e,this._buildIdpRequest())}_linkToIdToken(e,n){return py(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return py(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function Kj(t){return Q0(t.auth,new ic(t),t.bypassAuthState)}function Qj(t){let{auth:e,user:n}=t;return Q(n,e,"internal-error"),Nj(n,new ic(t),t.bypassAuthState)}function Yj(t){return w(this,null,function*(){let{auth:e,user:n}=t;return Q(n,e,"internal-error"),Rj(n,new ic(t),t.bypassAuthState)})}var Ny=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>w(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return w(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Kj;case"linkViaPopup":case"linkViaRedirect":return Yj;case"reauthViaPopup":case"reauthViaRedirect":return Qj;default:hn(this.auth,"internal-error")}}resolve(e){Fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var P5=new Ni(2e3,1e4);var Jj="pendingRedirect",bd=new Map,My=class t extends Ny{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return w(this,null,function*(){let e=bd.get(this.auth._key());if(!e){try{let r=(yield Zj(this.resolver,this.auth))?yield sr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}bd.set(this.auth._key(),e)}return this.bypassAuthState||bd.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return w(this,null,function*(){if(e.type==="signInViaRedirect")return sr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,sr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return w(this,null,function*(){})}cleanUp(){}};function Zj(t,e){return w(this,null,function*(){let n=t2(e),r=e2(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function Xj(t,e){bd.set(t._key(),e)}function e2(t){return Gn(t._redirectPersistence)}function t2(t){return Td(Jj,t.config.apiKey,t.name)}function n2(t,e,n=!1){return w(this,null,function*(){if(Gt(t.app))return Promise.reject(Wn(t));let r=xi(t),i=Wj(r,e),o=yield new My(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var r2=10*60*1e3,xy=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!i2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!rA(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ri(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=r2&&this.cachedEventUids.clear(),this.cachedEventUids.has(w0(e))}saveEventToCache(e){this.cachedEventUids.add(w0(e)),this.lastProcessedEventTime=Date.now()}};function w0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function rA({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function i2(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rA(t);default:return!1}}function s2(n){return w(this,arguments,function*(t,e={}){return Vr(t,"GET","/v1/projects",e)})}var o2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,a2=/^https?/;function c2(t){return w(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield s2(t);for(let n of e)try{if(u2(n))return}catch{}hn(t,"unauthorized-domain")})}function u2(t){let e=my(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!a2.test(n))return!1;if(o2.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var l2=new Ni(3e4,6e4);function E0(){let t=dn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function d2(t){return new Promise((e,n)=>{var r,i,s;function o(){E0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{E0(),n(Ri(t,"network-request-failed"))},timeout:l2.get()})}if(!((i=(r=dn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=dn().gapi)===null||s===void 0)&&s.load)o();else{let a=q0("iframefcb");return dn()[a]=()=>{gapi.load?o():n(Ri(t,"network-request-failed"))},z0(`${mj()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Cd=null,e})}var Cd=null;function h2(t){return Cd=Cd||d2(t),Cd}var f2=new Ni(5e3,15e3),p2="__/auth/iframe",g2="emulator/auth/iframe",m2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},y2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function v2(t){let e=t.config;Q(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Fy(e,g2):`https://${t.config.authDomain}/${p2}`,r={apiKey:e.apiKey,appName:t.name,v:Or},i=y2.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Wa(r).slice(1)}`}function _2(t){return w(this,null,function*(){let e=yield h2(t),n=dn().gapi;return Q(n,t,"internal-error"),e.open({where:document.body,url:v2(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:m2,dontclear:!0},r=>new Promise((i,s)=>w(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=Ri(t,"network-request-failed"),a=dn().setTimeout(()=>{s(o)},f2.get());function u(){dn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var I2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},w2=500,E2=600,D2="_blank",T2="http://localhost",Ld=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function b2(t,e,n,r=w2,i=E2){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},I2),{width:r.toString(),height:i.toString(),top:s,left:o}),l=Ge().toLowerCase();n&&(a=L0(l)?D2:n),k0(l)&&(e=e||T2,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[y,C])=>`${m}${y}=${C},`,"");if(lj(l)&&a!=="_self")return C2(e||"",a),new Ld(null);let p=window.open(e||"",a,h);Q(p,t,"popup-blocked");try{p.focus()}catch{}return new Ld(p)}function C2(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var A2="__/auth/handler",S2="emulator/auth/handler",R2=encodeURIComponent("fac");function D0(t,e,n,r,i,s){return w(this,null,function*(){Q(t.config.authDomain,t,"auth-domain-config-required"),Q(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Or,eventId:i};if(e instanceof Pd){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",QC(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(s||{}))o[h]=p}if(e instanceof Cy){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield t._getAppCheckToken(),l=u?`#${R2}=${encodeURIComponent(u)}`:"";return`${N2(t)}?${Wa(a).slice(1)}${l}`})}function N2({config:t}){return t.emulator?Fy(t,S2):`https://${t.authDomain}/${A2}`}var gy="webStorageSupport",Py=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ky,this._completeRedirectFn=n2,this._overrideRedirectResult=Xj}_openPopup(e,n,r,i){return w(this,null,function*(){var s;Fr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield D0(e,n,r,my(),i);return b2(e,o,Z0())})}_openRedirect(e,n,r,i){return w(this,null,function*(){yield this._originValidation(e);let s=yield D0(e,n,r,my(),i);return Lj(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Fr(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return w(this,null,function*(){let n=yield _2(e),r=new xy(e);return n.register("authEvent",i=>(Q(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(gy,{type:gy},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[gy];o!==void 0&&n(!!o),hn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=c2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return $0()||F0()||jy()}},iA=Py;var T0="@firebase/auth",b0="1.7.8";var Oy=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return w(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function M2(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function x2(t){Pr(new Lt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Q(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:H0(t)},l=new Dy(r,i,s,u);return _j(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Pr(new Lt("auth-internal",e=>{let n=xi(e.getProvider("auth").getImmediate());return(r=>new Oy(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$e(T0,b0,M2(t)),$e(T0,b0,"esm2017")}var P2=5*60,O2=Km("authIdTokenMaxAge")||P2,C0=null,k2=t=>e=>w(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>O2)return;let i=n?.token;C0!==i&&(C0=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Qy(t=Ys()){let e=Ya(t,"auth");if(e.isInitialized())return e.getImmediate();let n=By(t,{popupRedirectResolver:iA,persistence:[nA,J0,Ky]}),r=Km("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=k2(s.toString());Wy(n,o,()=>o(n.currentUser)),Gy(n,a=>o(a))}}let i=Gm("auth");return i&&$y(n,`http://${i}`),n}function F2(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}pj({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=Ri("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",F2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});x2("Browser");var sA="auth",Pi=class{constructor(e){return e}},oc=class{constructor(){return Ja(sA)}};var Yy=new U("angularfire2.auth-instances");function AB(t,e){let n=Id(sA,t,e);return n&&new Pi(n)}function SB(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Pi(r)}}var RB={provide:oc,deps:[[new Ye,Yy]]},NB={provide:Pi,useFactory:AB,deps:[[new Ye,Yy],zn]};function mK(t,...e){return $e("angularfire",Ai.full,"auth"),xt([NB,RB,{provide:Yy,useFactory:SB(t),multi:!0,deps:[me,He,Xs,Si,[new Ye,Zs],...e]}])}var yK=Wt(zy,!0);var vK=Wt(Qy,!0);var _K=Wt(qy,!0);var gA=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(X(On),X(Dt))},e.\u0275dir=Ce({type:e});let t=e;return t})(),Qd=(()=>{let e=class e extends gA{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Pn(e)))(s||e)}})(),e.\u0275dir=Ce({type:e,features:[gt]});let t=e;return t})(),oo=new U(""),xB={provide:oo,useExisting:Et(()=>PB),multi:!0},PB=(()=>{let e=class e extends Qd{writeValue(r){this.setProperty("checked",r)}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Pn(e)))(s||e)}})(),e.\u0275dir=Ce({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,s){i&1&&kn("change",function(a){return s.onChange(a.target.checked)})("blur",function(){return s.onTouched()})},features:[zt([xB]),gt]});let t=e;return t})(),OB={provide:oo,useExisting:Et(()=>mA),multi:!0};function kB(){let t=Ln()?Ln().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var FB=new U(""),mA=(()=>{let e=class e extends gA{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!kB())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(X(On),X(Dt),X(FB,8))},e.\u0275dir=Ce({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&kn("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[zt([OB]),gt]});let t=e;return t})();function Ur(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function yA(t){return t!=null&&typeof t.length=="number"}var ao=new U(""),Yd=new U(""),LB=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,oA=class{static min(e){return VB(e)}static max(e){return UB(e)}static required(e){return vA(e)}static requiredTrue(e){return _A(e)}static email(e){return jB(e)}static minLength(e){return BB(e)}static maxLength(e){return $B(e)}static pattern(e){return HB(e)}static nullValidator(e){return Bd(e)}static compose(e){return bA(e)}static composeAsync(e){return CA(e)}};function VB(t){return e=>{if(Ur(e.value)||Ur(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function UB(t){return e=>{if(Ur(e.value)||Ur(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function vA(t){return Ur(t.value)?{required:!0}:null}function _A(t){return t.value===!0?null:{required:!0}}function jB(t){return Ur(t.value)||LB.test(t.value)?null:{email:!0}}function BB(t){return e=>Ur(e.value)||!yA(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function $B(t){return e=>yA(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function HB(t){if(!t)return Bd;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Ur(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function Bd(t){return null}function IA(t){return t!=null}function wA(t){return vi(t)?Te(t):t}function EA(t){let e={};return t.forEach(n=>{e=n!=null?F(F({},e),n):e}),Object.keys(e).length===0?null:e}function DA(t,e){return e.map(n=>n(t))}function zB(t){return!t.validate}function TA(t){return t.map(e=>zB(e)?e:n=>e.validate(n))}function bA(t){if(!t)return null;let e=t.filter(IA);return e.length==0?null:function(n){return EA(DA(n,e))}}function nv(t){return t!=null?bA(TA(t)):null}function CA(t){if(!t)return null;let e=t.filter(IA);return e.length==0?null:function(n){let r=DA(n,e).map(wA);return Ff(r).pipe(Z(EA))}}function rv(t){return t!=null?CA(TA(t)):null}function aA(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function AA(t){return t._rawValidators}function SA(t){return t._rawAsyncValidators}function Jy(t){return t?Array.isArray(t)?t:[t]:[]}function $d(t,e){return Array.isArray(t)?t.includes(e):t===e}function cA(t,e){let n=Jy(e);return Jy(t).forEach(i=>{$d(n,i)||n.push(i)}),n}function uA(t,e){return Jy(e).filter(n=>!$d(t,n))}var Hd=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=nv(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=rv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Kn=class extends Hd{get formDirective(){return null}get path(){return null}},jr=class extends Hd{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},zd=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},qB={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},FK=ce(F({},qB),{"[class.ng-submitted]":"isSubmitted"}),LK=(()=>{let e=class e extends zd{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(X(jr,2))},e.\u0275dir=Ce({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&Fl("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[gt]});let t=e;return t})(),VK=(()=>{let e=class e extends zd{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(X(Kn,10))},e.\u0275dir=Ce({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&Fl("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[gt]});let t=e;return t})();var ac="VALID",jd="INVALID",no="PENDING",cc="DISABLED",Br=class{},qd=class extends Br{constructor(e,n){super(),this.value=e,this.source=n}},lc=class extends Br{constructor(e,n){super(),this.pristine=e,this.source=n}},dc=class extends Br{constructor(e,n){super(),this.touched=e,this.source=n}},ro=class extends Br{constructor(e,n){super(),this.status=e,this.source=n}},Zy=class extends Br{constructor(e){super(),this.source=e}},Xy=class extends Br{constructor(e){super(),this.source=e}};function iv(t){return(Jd(t)?t.validators:t)||null}function GB(t){return Array.isArray(t)?nv(t):t||null}function sv(t,e){return(Jd(e)?e.asyncValidators:t)||null}function WB(t){return Array.isArray(t)?rv(t):t||null}function Jd(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function RA(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new $(1e3,"");if(!r[n])throw new $(1001,"")}function NA(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new $(1002,"")})}var io=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Os(()=>this.statusReactive()),this.statusReactive=Ps(void 0),this._pristine=Os(()=>this.pristineReactive()),this.pristineReactive=Ps(!0),this._touched=Os(()=>this.touchedReactive()),this.touchedReactive=Ps(!1),this._events=new Qe,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return cn(this.statusReactive)}set status(e){cn(()=>this.statusReactive.set(e))}get valid(){return this.status===ac}get invalid(){return this.status===jd}get pending(){return this.status==no}get disabled(){return this.status===cc}get enabled(){return this.status!==cc}get pristine(){return cn(this.pristineReactive)}set pristine(e){cn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return cn(this.touchedReactive)}set touched(e){cn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(cA(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(cA(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(uA(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(uA(e,this._rawAsyncValidators))}hasValidator(e){return $d(this._rawValidators,e)}hasAsyncValidator(e){return $d(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ce(F({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new dc(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new dc(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ce(F({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new lc(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new lc(!0,r))}markAsPending(e={}){this.status=no;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ro(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ce(F({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=cc,this.errors=null,this._forEachChild(i=>{i.disable(ce(F({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new qd(this.value,r)),this._events.next(new ro(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ce(F({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ac,this._forEachChild(r=>{r.enable(ce(F({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ce(F({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ac||this.status===no)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new qd(this.value,n)),this._events.next(new ro(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ce(F({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?cc:ac}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=no,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=wA(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new ro(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Se,this.statusChanges=new Se}_calculateStatus(){return this._allControlsDisabled()?cc:this.errors?jd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(no)?no:this._anyControlsHaveStatus(jd)?jd:ac}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new lc(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new dc(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Jd(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=GB(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=WB(this._rawAsyncValidators)}},so=class extends io{constructor(e,n,r){super(iv(n),sv(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){NA(this,!0,e),Object.keys(e).forEach(r=>{RA(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var ev=class extends so{};var co=new U("CallSetDisabledState",{providedIn:"root",factory:()=>fc}),fc="always";function MA(t,e){return[...e.path,t]}function Gd(t,e,n=fc){ov(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),QB(t,e),JB(t,e),YB(t,e),KB(t,e)}function lA(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Kd(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Wd(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function KB(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function ov(t,e){let n=AA(t);e.validator!==null?t.setValidators(aA(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=SA(t);e.asyncValidator!==null?t.setAsyncValidators(aA(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Wd(e._rawValidators,i),Wd(e._rawAsyncValidators,i)}function Kd(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=AA(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(e.asyncValidator!==null){let i=SA(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}let r=()=>{};return Wd(e._rawValidators,r),Wd(e._rawAsyncValidators,r),n}function QB(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&xA(t,e)})}function YB(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&xA(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function xA(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function JB(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function PA(t,e){t==null,ov(t,e)}function ZB(t,e){return Kd(t,e)}function OA(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function XB(t){return Object.getPrototypeOf(t.constructor)===Qd}function kA(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function FA(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===mA?n=s:XB(s)?r=s:i=s}),i||r||n||null}function e$(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var t$={provide:Kn,useExisting:Et(()=>n$)},uc=Promise.resolve(),n$=(()=>{let e=class e extends Kn{get submitted(){return cn(this.submittedReactive)}constructor(r,i,s){super(),this.callSetDisabledState=s,this._submitted=Os(()=>this.submittedReactive()),this.submittedReactive=Ps(!1),this._directives=new Set,this.ngSubmit=new Se,this.form=new so({},nv(r),rv(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){uc.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),Gd(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){uc.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){uc.then(()=>{let i=this._findContainer(r.path),s=new so({});PA(s,r),i.registerControl(r.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){uc.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){uc.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submittedReactive.set(!0),kA(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(X(ao,10),X(Yd,10),X(co,8))},e.\u0275dir=Ce({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,s){i&1&&kn("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[zt([t$]),gt]});let t=e;return t})();function dA(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function hA(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var hc=class extends io{constructor(e=null,n,r){super(iv(n),sv(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Jd(n)&&(n.nonNullable||n.initialValueIsDefault)&&(hA(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){dA(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){dA(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){hA(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var r$=t=>t instanceof hc;var i$={provide:jr,useExisting:Et(()=>s$)},fA=Promise.resolve(),s$=(()=>{let e=class e extends jr{constructor(r,i,s,o,a,u){super(),this._changeDetectorRef=a,this.callSetDisabledState=u,this.control=new hc,this._registered=!1,this.name="",this.update=new Se,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=FA(this,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),OA(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Gd(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){fA.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,s=i!==0&&ga(i);fA.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?MA(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(X(Kn,9),X(ao,10),X(Yd,10),X(oo,10),X(_i,8),X(co,8))},e.\u0275dir=Ce({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[zt([i$]),gt,xn]});let t=e;return t})(),jK=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ce({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})(),o$={provide:oo,useExisting:Et(()=>a$),multi:!0},a$=(()=>{let e=class e extends Qd{writeValue(r){let i=r??"";this.setProperty("value",i)}registerOnChange(r){this.onChange=i=>{r(i==""?null:parseFloat(i))}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Pn(e)))(s||e)}})(),e.\u0275dir=Ce({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,s){i&1&&kn("input",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},features:[zt([o$]),gt]});let t=e;return t})(),c$={provide:oo,useExisting:Et(()=>l$),multi:!0};var u$=(()=>{let e=class e{constructor(){this._accessors=[]}add(r,i){this._accessors.push([r,i])}remove(r){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===r){this._accessors.splice(i,1);return}}select(r){this._accessors.forEach(i=>{this._isSameGroup(i,r)&&i[1]!==r&&i[1].fireUncheck(r.value)})}_isSameGroup(r,i){return r[0].control?r[0]._parent===i._control._parent&&r[1].name===i.name:!1}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),l$=(()=>{let e=class e extends Qd{constructor(r,i,s,o){super(r,i),this._registry=s,this._injector=o,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=P(co,{optional:!0})??fc}ngOnInit(){this._control=this._injector.get(jr),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(r){this._state=r===this.value,this.setProperty("checked",this._state)}registerOnChange(r){this._fn=r,this.onChange=()=>{r(this.value),this._registry.select(this)}}setDisabledState(r){(this.setDisabledStateFired||r||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",r),this.setDisabledStateFired=!0}fireUncheck(r){this.writeValue(r)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}};e.\u0275fac=function(i){return new(i||e)(X(On),X(Dt),X(u$),X(He))},e.\u0275dir=Ce({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(i,s){i&1&&kn("change",function(){return s.onChange()})("blur",function(){return s.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[zt([c$]),gt]});let t=e;return t})();var LA=new U("");var d$={provide:Kn,useExisting:Et(()=>h$)},h$=(()=>{let e=class e extends Kn{get submitted(){return cn(this._submittedReactive)}set submitted(r){this._submittedReactive.set(r)}constructor(r,i,s){super(),this.callSetDisabledState=s,this._submitted=Os(()=>this._submittedReactive()),this._submittedReactive=Ps(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Se,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Kd(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return Gd(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){lA(r.control||null,r,!1),e$(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this._submittedReactive.set(!0),kA(this.form,this.directives),this.ngSubmit.emit(r),this.form._events.next(new Zy(this.control)),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this._submittedReactive.set(!1),this.form._events.next(new Xy(this.form))}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,s=this.form.get(r.path);i!==s&&(lA(i||null,r),r$(s)&&(Gd(s,r,this.callSetDisabledState),r.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);PA(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&ZB(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ov(this.form,this),this._oldForm&&Kd(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(X(ao,10),X(Yd,10),X(co,8))},e.\u0275dir=Ce({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,s){i&1&&kn("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[zt([d$]),gt,xn]});let t=e;return t})();var f$={provide:jr,useExisting:Et(()=>p$)},p$=(()=>{let e=class e extends jr{set isDisabled(r){}constructor(r,i,s,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new Se,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=FA(this,o)}ngOnChanges(r){this._added||this._setUpControl(),OA(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return MA(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(X(Kn,13),X(ao,10),X(Yd,10),X(oo,10),X(LA,8))},e.\u0275dir=Ce({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[zt([f$]),gt,xn]});let t=e;return t})();var g$=(()=>{let e=class e{constructor(){this._validator=Bd}ngOnChanges(r){if(this.inputName in r){let i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Bd,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ce({type:e,features:[xn]});let t=e;return t})();var m$={provide:ao,useExisting:Et(()=>VA),multi:!0},y$={provide:ao,useExisting:Et(()=>v$),multi:!0},VA=(()=>{let e=class e extends g${constructor(){super(...arguments),this.inputName="required",this.normalizeInput=ga,this.createValidator=r=>vA}enabled(r){return r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Pn(e)))(s||e)}})(),e.\u0275dir=Ce({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,s){i&2&&fa("required",s._enabled?"":null)},inputs:{required:"required"},features:[zt([m$]),gt]});let t=e;return t})(),v$=(()=>{let e=class e extends VA{constructor(){super(...arguments),this.createValidator=r=>_A}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Pn(e)))(s||e)}})(),e.\u0275dir=Ce({type:e,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(i,s){i&2&&fa("required",s._enabled?"":null)},features:[zt([y$]),gt]});let t=e;return t})();var UA=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=an({type:e}),e.\u0275inj=on({});let t=e;return t})(),tv=class extends io{constructor(e,n,r){super(iv(n),sv(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){NA(this,!1,e),e.forEach((r,i)=>{RA(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function pA(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var BK=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let r=new e;return r.useNonNullable=!0,r}group(r,i=null){let s=this._reduceControls(r),o={};return pA(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new so(s,o)}record(r,i=null){let s=this._reduceControls(r);return new ev(s,i)}control(r,i,s){let o={};return this.useNonNullable?(pA(i)?o=i:(o.validators=i,o.asyncValidators=s),new hc(r,ce(F({},o),{nonNullable:!0}))):new hc(r,i,s)}array(r,i,s){let o=r.map(a=>this._createControl(a));return new tv(o,i,s)}_reduceControls(r){let i={};return Object.keys(r).forEach(s=>{i[s]=this._createControl(r[s])}),i}_createControl(r){if(r instanceof hc)return r;if(r instanceof io)return r;if(Array.isArray(r)){let i=r[0],s=r.length>1?r[1]:null,o=r.length>2?r[2]:null;return this.control(i,s,o)}else return this.control(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var $K=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:co,useValue:r.callSetDisabledState??fc}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=an({type:e}),e.\u0275inj=on({imports:[UA]});let t=e;return t})(),HK=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:LA,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:co,useValue:r.callSetDisabledState??fc}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=an({type:e}),e.\u0275inj=on({imports:[UA]});let t=e;return t})();var jA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},BA={};var $r,av;(function(){var t;function e(E,v){function _(){}_.prototype=v.prototype,E.D=v.prototype,E.prototype=new _,E.prototype.constructor=E,E.C=function(D,T,A){for(var I=Array(arguments.length-2),_n=2;_n<arguments.length;_n++)I[_n-2]=arguments[_n];return v.prototype[T].apply(D,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,v,_){_||(_=0);var D=Array(16);if(typeof v=="string")for(var T=0;16>T;++T)D[T]=v.charCodeAt(_++)|v.charCodeAt(_++)<<8|v.charCodeAt(_++)<<16|v.charCodeAt(_++)<<24;else for(T=0;16>T;++T)D[T]=v[_++]|v[_++]<<8|v[_++]<<16|v[_++]<<24;v=E.g[0],_=E.g[1],T=E.g[2];var A=E.g[3],I=v+(A^_&(T^A))+D[0]+3614090360&4294967295;v=_+(I<<7&4294967295|I>>>25),I=A+(T^v&(_^T))+D[1]+3905402710&4294967295,A=v+(I<<12&4294967295|I>>>20),I=T+(_^A&(v^_))+D[2]+606105819&4294967295,T=A+(I<<17&4294967295|I>>>15),I=_+(v^T&(A^v))+D[3]+3250441966&4294967295,_=T+(I<<22&4294967295|I>>>10),I=v+(A^_&(T^A))+D[4]+4118548399&4294967295,v=_+(I<<7&4294967295|I>>>25),I=A+(T^v&(_^T))+D[5]+1200080426&4294967295,A=v+(I<<12&4294967295|I>>>20),I=T+(_^A&(v^_))+D[6]+2821735955&4294967295,T=A+(I<<17&4294967295|I>>>15),I=_+(v^T&(A^v))+D[7]+4249261313&4294967295,_=T+(I<<22&4294967295|I>>>10),I=v+(A^_&(T^A))+D[8]+1770035416&4294967295,v=_+(I<<7&4294967295|I>>>25),I=A+(T^v&(_^T))+D[9]+2336552879&4294967295,A=v+(I<<12&4294967295|I>>>20),I=T+(_^A&(v^_))+D[10]+4294925233&4294967295,T=A+(I<<17&4294967295|I>>>15),I=_+(v^T&(A^v))+D[11]+2304563134&4294967295,_=T+(I<<22&4294967295|I>>>10),I=v+(A^_&(T^A))+D[12]+1804603682&4294967295,v=_+(I<<7&4294967295|I>>>25),I=A+(T^v&(_^T))+D[13]+4254626195&4294967295,A=v+(I<<12&4294967295|I>>>20),I=T+(_^A&(v^_))+D[14]+2792965006&4294967295,T=A+(I<<17&4294967295|I>>>15),I=_+(v^T&(A^v))+D[15]+1236535329&4294967295,_=T+(I<<22&4294967295|I>>>10),I=v+(T^A&(_^T))+D[1]+4129170786&4294967295,v=_+(I<<5&4294967295|I>>>27),I=A+(_^T&(v^_))+D[6]+3225465664&4294967295,A=v+(I<<9&4294967295|I>>>23),I=T+(v^_&(A^v))+D[11]+643717713&4294967295,T=A+(I<<14&4294967295|I>>>18),I=_+(A^v&(T^A))+D[0]+3921069994&4294967295,_=T+(I<<20&4294967295|I>>>12),I=v+(T^A&(_^T))+D[5]+3593408605&4294967295,v=_+(I<<5&4294967295|I>>>27),I=A+(_^T&(v^_))+D[10]+38016083&4294967295,A=v+(I<<9&4294967295|I>>>23),I=T+(v^_&(A^v))+D[15]+3634488961&4294967295,T=A+(I<<14&4294967295|I>>>18),I=_+(A^v&(T^A))+D[4]+3889429448&4294967295,_=T+(I<<20&4294967295|I>>>12),I=v+(T^A&(_^T))+D[9]+568446438&4294967295,v=_+(I<<5&4294967295|I>>>27),I=A+(_^T&(v^_))+D[14]+3275163606&4294967295,A=v+(I<<9&4294967295|I>>>23),I=T+(v^_&(A^v))+D[3]+4107603335&4294967295,T=A+(I<<14&4294967295|I>>>18),I=_+(A^v&(T^A))+D[8]+1163531501&4294967295,_=T+(I<<20&4294967295|I>>>12),I=v+(T^A&(_^T))+D[13]+2850285829&4294967295,v=_+(I<<5&4294967295|I>>>27),I=A+(_^T&(v^_))+D[2]+4243563512&4294967295,A=v+(I<<9&4294967295|I>>>23),I=T+(v^_&(A^v))+D[7]+1735328473&4294967295,T=A+(I<<14&4294967295|I>>>18),I=_+(A^v&(T^A))+D[12]+2368359562&4294967295,_=T+(I<<20&4294967295|I>>>12),I=v+(_^T^A)+D[5]+4294588738&4294967295,v=_+(I<<4&4294967295|I>>>28),I=A+(v^_^T)+D[8]+2272392833&4294967295,A=v+(I<<11&4294967295|I>>>21),I=T+(A^v^_)+D[11]+1839030562&4294967295,T=A+(I<<16&4294967295|I>>>16),I=_+(T^A^v)+D[14]+4259657740&4294967295,_=T+(I<<23&4294967295|I>>>9),I=v+(_^T^A)+D[1]+2763975236&4294967295,v=_+(I<<4&4294967295|I>>>28),I=A+(v^_^T)+D[4]+1272893353&4294967295,A=v+(I<<11&4294967295|I>>>21),I=T+(A^v^_)+D[7]+4139469664&4294967295,T=A+(I<<16&4294967295|I>>>16),I=_+(T^A^v)+D[10]+3200236656&4294967295,_=T+(I<<23&4294967295|I>>>9),I=v+(_^T^A)+D[13]+681279174&4294967295,v=_+(I<<4&4294967295|I>>>28),I=A+(v^_^T)+D[0]+3936430074&4294967295,A=v+(I<<11&4294967295|I>>>21),I=T+(A^v^_)+D[3]+3572445317&4294967295,T=A+(I<<16&4294967295|I>>>16),I=_+(T^A^v)+D[6]+76029189&4294967295,_=T+(I<<23&4294967295|I>>>9),I=v+(_^T^A)+D[9]+3654602809&4294967295,v=_+(I<<4&4294967295|I>>>28),I=A+(v^_^T)+D[12]+3873151461&4294967295,A=v+(I<<11&4294967295|I>>>21),I=T+(A^v^_)+D[15]+530742520&4294967295,T=A+(I<<16&4294967295|I>>>16),I=_+(T^A^v)+D[2]+3299628645&4294967295,_=T+(I<<23&4294967295|I>>>9),I=v+(T^(_|~A))+D[0]+4096336452&4294967295,v=_+(I<<6&4294967295|I>>>26),I=A+(_^(v|~T))+D[7]+1126891415&4294967295,A=v+(I<<10&4294967295|I>>>22),I=T+(v^(A|~_))+D[14]+2878612391&4294967295,T=A+(I<<15&4294967295|I>>>17),I=_+(A^(T|~v))+D[5]+4237533241&4294967295,_=T+(I<<21&4294967295|I>>>11),I=v+(T^(_|~A))+D[12]+1700485571&4294967295,v=_+(I<<6&4294967295|I>>>26),I=A+(_^(v|~T))+D[3]+2399980690&4294967295,A=v+(I<<10&4294967295|I>>>22),I=T+(v^(A|~_))+D[10]+4293915773&4294967295,T=A+(I<<15&4294967295|I>>>17),I=_+(A^(T|~v))+D[1]+2240044497&4294967295,_=T+(I<<21&4294967295|I>>>11),I=v+(T^(_|~A))+D[8]+1873313359&4294967295,v=_+(I<<6&4294967295|I>>>26),I=A+(_^(v|~T))+D[15]+4264355552&4294967295,A=v+(I<<10&4294967295|I>>>22),I=T+(v^(A|~_))+D[6]+2734768916&4294967295,T=A+(I<<15&4294967295|I>>>17),I=_+(A^(T|~v))+D[13]+1309151649&4294967295,_=T+(I<<21&4294967295|I>>>11),I=v+(T^(_|~A))+D[4]+4149444226&4294967295,v=_+(I<<6&4294967295|I>>>26),I=A+(_^(v|~T))+D[11]+3174756917&4294967295,A=v+(I<<10&4294967295|I>>>22),I=T+(v^(A|~_))+D[2]+718787259&4294967295,T=A+(I<<15&4294967295|I>>>17),I=_+(A^(T|~v))+D[9]+3951481745&4294967295,E.g[0]=E.g[0]+v&4294967295,E.g[1]=E.g[1]+(T+(I<<21&4294967295|I>>>11))&4294967295,E.g[2]=E.g[2]+T&4294967295,E.g[3]=E.g[3]+A&4294967295}r.prototype.u=function(E,v){v===void 0&&(v=E.length);for(var _=v-this.blockSize,D=this.B,T=this.h,A=0;A<v;){if(T==0)for(;A<=_;)i(this,E,A),A+=this.blockSize;if(typeof E=="string"){for(;A<v;)if(D[T++]=E.charCodeAt(A++),T==this.blockSize){i(this,D),T=0;break}}else for(;A<v;)if(D[T++]=E[A++],T==this.blockSize){i(this,D),T=0;break}}this.h=T,this.o+=v},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var v=1;v<E.length-8;++v)E[v]=0;var _=8*this.o;for(v=E.length-8;v<E.length;++v)E[v]=_&255,_/=256;for(this.u(E),E=Array(16),v=_=0;4>v;++v)for(var D=0;32>D;D+=8)E[_++]=this.g[v]>>>D&255;return E};function s(E,v){var _=a;return Object.prototype.hasOwnProperty.call(_,E)?_[E]:_[E]=v(E)}function o(E,v){this.h=v;for(var _=[],D=!0,T=E.length-1;0<=T;T--){var A=E[T]|0;D&&A==v||(_[T]=A,D=!1)}this.g=_}var a={};function u(E){return-128<=E&&128>E?s(E,function(v){return new o([v|0],0>v?-1:0)}):new o([E|0],0>E?-1:0)}function l(E){if(isNaN(E)||!isFinite(E))return p;if(0>E)return R(l(-E));for(var v=[],_=1,D=0;E>=_;D++)v[D]=E/_|0,_*=4294967296;return new o(v,0)}function h(E,v){if(E.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(E.charAt(0)=="-")return R(h(E.substring(1),v));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=l(Math.pow(v,8)),D=p,T=0;T<E.length;T+=8){var A=Math.min(8,E.length-T),I=parseInt(E.substring(T,T+A),v);8>A?(A=l(Math.pow(v,A)),D=D.j(A).add(l(I))):(D=D.j(_),D=D.add(l(I)))}return D}var p=u(0),m=u(1),y=u(16777216);t=o.prototype,t.m=function(){if(M(this))return-R(this).m();for(var E=0,v=1,_=0;_<this.g.length;_++){var D=this.i(_);E+=(0<=D?D:4294967296+D)*v,v*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(C(this))return"0";if(M(this))return"-"+R(this).toString(E);for(var v=l(Math.pow(E,6)),_=this,D="";;){var T=q(_,v).g;_=x(_,T.j(v));var A=((0<_.g.length?_.g[0]:_.h)>>>0).toString(E);if(_=T,C(_))return A+D;for(;6>A.length;)A="0"+A;D=A+D}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function C(E){if(E.h!=0)return!1;for(var v=0;v<E.g.length;v++)if(E.g[v]!=0)return!1;return!0}function M(E){return E.h==-1}t.l=function(E){return E=x(this,E),M(E)?-1:C(E)?0:1};function R(E){for(var v=E.g.length,_=[],D=0;D<v;D++)_[D]=~E.g[D];return new o(_,~E.h).add(m)}t.abs=function(){return M(this)?R(this):this},t.add=function(E){for(var v=Math.max(this.g.length,E.g.length),_=[],D=0,T=0;T<=v;T++){var A=D+(this.i(T)&65535)+(E.i(T)&65535),I=(A>>>16)+(this.i(T)>>>16)+(E.i(T)>>>16);D=I>>>16,A&=65535,I&=65535,_[T]=I<<16|A}return new o(_,_[_.length-1]&-2147483648?-1:0)};function x(E,v){return E.add(R(v))}t.j=function(E){if(C(this)||C(E))return p;if(M(this))return M(E)?R(this).j(R(E)):R(R(this).j(E));if(M(E))return R(this.j(R(E)));if(0>this.l(y)&&0>E.l(y))return l(this.m()*E.m());for(var v=this.g.length+E.g.length,_=[],D=0;D<2*v;D++)_[D]=0;for(D=0;D<this.g.length;D++)for(var T=0;T<E.g.length;T++){var A=this.i(D)>>>16,I=this.i(D)&65535,_n=E.i(T)>>>16,xo=E.i(T)&65535;_[2*D+2*T]+=I*xo,B(_,2*D+2*T),_[2*D+2*T+1]+=A*xo,B(_,2*D+2*T+1),_[2*D+2*T+1]+=I*_n,B(_,2*D+2*T+1),_[2*D+2*T+2]+=A*_n,B(_,2*D+2*T+2)}for(D=0;D<v;D++)_[D]=_[2*D+1]<<16|_[2*D];for(D=v;D<2*v;D++)_[D]=0;return new o(_,0)};function B(E,v){for(;(E[v]&65535)!=E[v];)E[v+1]+=E[v]>>>16,E[v]&=65535,v++}function z(E,v){this.g=E,this.h=v}function q(E,v){if(C(v))throw Error("division by zero");if(C(E))return new z(p,p);if(M(E))return v=q(R(E),v),new z(R(v.g),R(v.h));if(M(v))return v=q(E,R(v)),new z(R(v.g),v.h);if(30<E.g.length){if(M(E)||M(v))throw Error("slowDivide_ only works with positive integers.");for(var _=m,D=v;0>=D.l(E);)_=Ie(_),D=Ie(D);var T=W(_,1),A=W(D,1);for(D=W(D,2),_=W(_,2);!C(D);){var I=A.add(D);0>=I.l(E)&&(T=T.add(_),A=I),D=W(D,1),_=W(_,1)}return v=x(E,T.j(v)),new z(T,v)}for(T=p;0<=E.l(v);){for(_=Math.max(1,Math.floor(E.m()/v.m())),D=Math.ceil(Math.log(_)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),A=l(_),I=A.j(v);M(I)||0<I.l(E);)_-=D,A=l(_),I=A.j(v);C(A)&&(A=m),T=T.add(A),E=x(E,I)}return new z(T,E)}t.A=function(E){return q(this,E).h},t.and=function(E){for(var v=Math.max(this.g.length,E.g.length),_=[],D=0;D<v;D++)_[D]=this.i(D)&E.i(D);return new o(_,this.h&E.h)},t.or=function(E){for(var v=Math.max(this.g.length,E.g.length),_=[],D=0;D<v;D++)_[D]=this.i(D)|E.i(D);return new o(_,this.h|E.h)},t.xor=function(E){for(var v=Math.max(this.g.length,E.g.length),_=[],D=0;D<v;D++)_[D]=this.i(D)^E.i(D);return new o(_,this.h^E.h)};function Ie(E){for(var v=E.g.length+1,_=[],D=0;D<v;D++)_[D]=E.i(D)<<1|E.i(D-1)>>>31;return new o(_,E.h)}function W(E,v){var _=v>>5;v%=32;for(var D=E.g.length-_,T=[],A=0;A<D;A++)T[A]=0<v?E.i(A+_)>>>v|E.i(A+_+1)<<32-v:E.i(A+_);return new o(T,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,av=BA.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=h,$r=BA.Integer=o}).apply(typeof jA<"u"?jA:typeof self<"u"?self:typeof window<"u"?window:{});var Zd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Qn={};var cv,uv,uo,lv,pc,Xd,dv,hv,fv;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zd=="object"&&Zd];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var b=c[g];if(!(b in f))break e;f=f[b]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function s(c,d){c instanceof String&&(c+="");var f=0,g=!1,b={next:function(){if(!g&&f<c.length){var S=f++;return{value:d(S,c[S]),done:!1}}return g=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(c){return c||function(){return s(this,function(d,f){return f})}});var o=o||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,g),c.apply(d,b)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function C(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,b,S){for(var k=Array(arguments.length-2),we=2;we<arguments.length;we++)k[we-2]=arguments[we];return d.prototype[b].apply(g,k)}}function M(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let b=c.length||0,S=g.length||0;c.length=b+S;for(let k=0;k<S;k++)c[b+k]=g[k]}else c.push(g)}}class x{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function B(c){return/^[\s\xa0]*$/.test(c)}function z(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function q(c){return q[" "](c),c}q[" "]=function(){};var Ie=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function W(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function E(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,d){let f,g;for(let b=1;b<arguments.length;b++){g=arguments[b];for(f in g)c[f]=g[f];for(let S=0;S<_.length;S++)f=_[S],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function T(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function A(c){a.setTimeout(()=>{throw c},0)}function I(){var c=zh;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class _n{constructor(){this.h=this.g=null}add(d,f){let g=xo.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var xo=new x(()=>new UR,c=>c.reset());class UR{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Po,Oo=!1,zh=new _n,TI=()=>{let c=a.Promise.resolve(void 0);Po=()=>{c.then(jR)}};var jR=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(f){A(f)}var d=xo;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Oo=!1};function tr(){this.s=this.s,this.C=this.C}tr.prototype.s=!1,tr.prototype.ma=function(){this.s||(this.s=!0,this.N())},tr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Xe(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}Xe.prototype.h=function(){this.defaultPrevented=!0};var BR=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function ko(c,d){if(Xe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Ie){e:{try{q(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:$R[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ko.aa.h.call(this)}}C(ko,Xe);var $R={2:"touch",3:"pen",4:"mouse"};ko.prototype.h=function(){ko.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Fo="closure_listenable_"+(1e6*Math.random()|0),HR=0;function zR(c,d,f,g,b){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=b,this.key=++HR,this.da=this.fa=!1}function Vc(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Uc(c){this.src=c,this.g={},this.h=0}Uc.prototype.add=function(c,d,f,g,b){var S=c.toString();c=this.g[S],c||(c=this.g[S]=[],this.h++);var k=Gh(c,d,g,b);return-1<k?(d=c[k],f||(d.fa=!1)):(d=new zR(d,this.src,S,!!g,b),d.fa=f,c.push(d)),d};function qh(c,d){var f=d.type;if(f in c.g){var g=c.g[f],b=Array.prototype.indexOf.call(g,d,void 0),S;(S=0<=b)&&Array.prototype.splice.call(g,b,1),S&&(Vc(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Gh(c,d,f,g){for(var b=0;b<c.length;++b){var S=c[b];if(!S.da&&S.listener==d&&S.capture==!!f&&S.ha==g)return b}return-1}var Wh="closure_lm_"+(1e6*Math.random()|0),Kh={};function bI(c,d,f,g,b){if(g&&g.once)return AI(c,d,f,g,b);if(Array.isArray(d)){for(var S=0;S<d.length;S++)bI(c,d[S],f,g,b);return null}return f=Zh(f),c&&c[Fo]?c.K(d,f,l(g)?!!g.capture:!!g,b):CI(c,d,f,!1,g,b)}function CI(c,d,f,g,b,S){if(!d)throw Error("Invalid event type");var k=l(b)?!!b.capture:!!b,we=Yh(c);if(we||(c[Wh]=we=new Uc(c)),f=we.add(d,f,g,k,S),f.proxy)return f;if(g=qR(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)BR||(b=k),b===void 0&&(b=!1),c.addEventListener(d.toString(),g,b);else if(c.attachEvent)c.attachEvent(RI(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function qR(){function c(f){return d.call(c.src,c.listener,f)}let d=GR;return c}function AI(c,d,f,g,b){if(Array.isArray(d)){for(var S=0;S<d.length;S++)AI(c,d[S],f,g,b);return null}return f=Zh(f),c&&c[Fo]?c.L(d,f,l(g)?!!g.capture:!!g,b):CI(c,d,f,!0,g,b)}function SI(c,d,f,g,b){if(Array.isArray(d))for(var S=0;S<d.length;S++)SI(c,d[S],f,g,b);else g=l(g)?!!g.capture:!!g,f=Zh(f),c&&c[Fo]?(c=c.i,d=String(d).toString(),d in c.g&&(S=c.g[d],f=Gh(S,f,g,b),-1<f&&(Vc(S[f]),Array.prototype.splice.call(S,f,1),S.length==0&&(delete c.g[d],c.h--)))):c&&(c=Yh(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Gh(d,f,g,b)),(f=-1<c?d[c]:null)&&Qh(f))}function Qh(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Fo])qh(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(RI(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=Yh(d))?(qh(f,c),f.h==0&&(f.src=null,d[Wh]=null)):Vc(c)}}}function RI(c){return c in Kh?Kh[c]:Kh[c]="on"+c}function GR(c,d){if(c.da)c=!0;else{d=new ko(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&Qh(c),c=f.call(g,d)}return c}function Yh(c){return c=c[Wh],c instanceof Uc?c:null}var Jh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zh(c){return typeof c=="function"?c:(c[Jh]||(c[Jh]=function(d){return c.handleEvent(d)}),c[Jh])}function et(){tr.call(this),this.i=new Uc(this),this.M=this,this.F=null}C(et,tr),et.prototype[Fo]=!0,et.prototype.removeEventListener=function(c,d,f,g){SI(this,c,d,f,g)};function ct(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new Xe(d,c);else if(d instanceof Xe)d.target=d.target||c;else{var b=d;d=new Xe(g,c),D(d,b)}if(b=!0,f)for(var S=f.length-1;0<=S;S--){var k=d.g=f[S];b=jc(k,g,!0,d)&&b}if(k=d.g=c,b=jc(k,g,!0,d)&&b,b=jc(k,g,!1,d)&&b,f)for(S=0;S<f.length;S++)k=d.g=f[S],b=jc(k,g,!1,d)&&b}et.prototype.N=function(){if(et.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)Vc(f[g]);delete c.g[d],c.h--}}this.F=null},et.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},et.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function jc(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,S=0;S<d.length;++S){var k=d[S];if(k&&!k.da&&k.capture==f){var we=k.listener,Ke=k.ha||k.src;k.fa&&qh(c.i,k),b=we.call(Ke,g)!==!1&&b}}return b&&!g.defaultPrevented}function NI(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function MI(c){c.g=NI(()=>{c.g=null,c.i&&(c.i=!1,MI(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class WR extends tr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:MI(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Lo(c){tr.call(this),this.h=c,this.g={}}C(Lo,tr);var xI=[];function PI(c){W(c.g,function(d,f){this.g.hasOwnProperty(f)&&Qh(d)},c),c.g={}}Lo.prototype.N=function(){Lo.aa.N.call(this),PI(this)},Lo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xh=a.JSON.stringify,KR=a.JSON.parse,QR=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function ef(){}ef.prototype.h=null;function OI(c){return c.h||(c.h=c.i())}function kI(){}var Vo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function tf(){Xe.call(this,"d")}C(tf,Xe);function nf(){Xe.call(this,"c")}C(nf,Xe);var Kr={},FI=null;function Bc(){return FI=FI||new et}Kr.La="serverreachability";function LI(c){Xe.call(this,Kr.La,c)}C(LI,Xe);function Uo(c){let d=Bc();ct(d,new LI(d))}Kr.STAT_EVENT="statevent";function VI(c,d){Xe.call(this,Kr.STAT_EVENT,c),this.stat=d}C(VI,Xe);function ut(c){let d=Bc();ct(d,new VI(d,c))}Kr.Ma="timingevent";function UI(c,d){Xe.call(this,Kr.Ma,c),this.size=d}C(UI,Xe);function jo(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Bo(){this.g=!0}Bo.prototype.xa=function(){this.g=!1};function YR(c,d,f,g,b,S){c.info(function(){if(c.g)if(S)for(var k="",we=S.split("&"),Ke=0;Ke<we.length;Ke++){var ge=we[Ke].split("=");if(1<ge.length){var tt=ge[0];ge=ge[1];var nt=tt.split("_");k=2<=nt.length&&nt[1]=="type"?k+(tt+"="+ge+"&"):k+(tt+"=redacted&")}}else k=null;else k=S;return"XMLHTTP REQ ("+g+") [attempt "+b+"]: "+d+`
`+f+`
`+k})}function JR(c,d,f,g,b,S,k){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+b+"]: "+d+`
`+f+`
`+S+" "+k})}function Ki(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+XR(c,f)+(g?" "+g:"")})}function ZR(c,d){c.info(function(){return"TIMEOUT: "+d})}Bo.prototype.info=function(){};function XR(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var b=g[1];if(Array.isArray(b)&&!(1>b.length)){var S=b[0];if(S!="noop"&&S!="stop"&&S!="close")for(var k=1;k<b.length;k++)b[k]=""}}}}return Xh(f)}catch{return d}}var $c={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},jI={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},rf;function Hc(){}C(Hc,ef),Hc.prototype.g=function(){return new XMLHttpRequest},Hc.prototype.i=function(){return{}},rf=new Hc;function nr(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new Lo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new BI}function BI(){this.i=null,this.g="",this.h=!1}var $I={},sf={};function of(c,d,f){c.L=1,c.v=Wc(In(d)),c.m=f,c.P=!0,HI(c,null)}function HI(c,d){c.F=Date.now(),zc(c),c.A=In(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),rw(f.i,"t",g),c.C=0,f=c.j.J,c.h=new BI,c.g=ww(c.j,f?d:null,!c.m),0<c.O&&(c.M=new WR(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var b="readystatechange";Array.isArray(b)||(b&&(xI[0]=b.toString()),b=xI);for(var S=0;S<b.length;S++){var k=bI(f,b[S],g||d.handleEvent,!1,d.h||d);if(!k)break;d.g[k.key]=k}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Uo(),YR(c.i,c.u,c.A,c.l,c.R,c.m)}nr.prototype.ca=function(c){c=c.target;let d=this.M;d&&wn(c)==3?d.j():this.Y(c)},nr.prototype.Y=function(c){try{if(c==this.g)e:{let nt=wn(this.g);var d=this.g.Ba();let Ji=this.g.Z();if(!(3>nt)&&(nt!=3||this.g&&(this.h.h||this.g.oa()||lw(this.g)))){this.J||nt!=4||d==7||(d==8||0>=Ji?Uo(3):Uo(2)),af(this);var f=this.g.Z();this.X=f;t:if(zI(this)){var g=lw(this.g);c="";var b=g.length,S=wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qr(this),$o(this);var k="";break t}this.h.i=new a.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(S&&d==b-1)});g.length=0,this.h.g+=c,this.C=0,k=this.h.g}else k=this.g.oa();if(this.o=f==200,JR(this.i,this.u,this.A,this.l,this.R,nt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var we,Ke=this.g;if((we=Ke.g?Ke.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(we)){var ge=we;break t}}ge=null}if(f=ge)Ki(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cf(this,f);else{this.o=!1,this.s=3,ut(12),Qr(this),$o(this);break e}}if(this.P){f=!0;let Vt;for(;!this.J&&this.C<k.length;)if(Vt=eN(this,k),Vt==sf){nt==4&&(this.s=4,ut(14),f=!1),Ki(this.i,this.l,null,"[Incomplete Response]");break}else if(Vt==$I){this.s=4,ut(15),Ki(this.i,this.l,k,"[Invalid Chunk]"),f=!1;break}else Ki(this.i,this.l,Vt,null),cf(this,Vt);if(zI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),nt!=4||k.length!=0||this.h.h||(this.s=1,ut(16),f=!1),this.o=this.o&&f,!f)Ki(this.i,this.l,k,"[Invalid Chunked Response]"),Qr(this),$o(this);else if(0<k.length&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.ba&&!tt.M&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),pf(tt),tt.M=!0,ut(11))}}else Ki(this.i,this.l,k,null),cf(this,k);nt==4&&Qr(this),this.o&&!this.J&&(nt==4?yw(this.j,this):(this.o=!1,zc(this)))}else yN(this.g),f==400&&0<k.indexOf("Unknown SID")?(this.s=3,ut(12)):(this.s=0,ut(13)),Qr(this),$o(this)}}}catch{}finally{}};function zI(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function eN(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?sf:(f=Number(d.substring(f,g)),isNaN(f)?$I:(g+=1,g+f>d.length?sf:(d=d.slice(g,g+f),c.C=g+f,d)))}nr.prototype.cancel=function(){this.J=!0,Qr(this)};function zc(c){c.S=Date.now()+c.I,qI(c,c.I)}function qI(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=jo(m(c.ba,c),d)}function af(c){c.B&&(a.clearTimeout(c.B),c.B=null)}nr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(ZR(this.i,this.A),this.L!=2&&(Uo(),ut(17)),Qr(this),this.s=2,$o(this)):qI(this,this.S-c)};function $o(c){c.j.G==0||c.J||yw(c.j,c)}function Qr(c){af(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,PI(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function cf(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||uf(f.h,c))){if(!c.K&&uf(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var b=g;if(b[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)Zc(f),Yc(f);else break e;ff(f),ut(18)}}else f.za=b[1],0<f.za-f.T&&37500>b[2]&&f.F&&f.v==0&&!f.C&&(f.C=jo(m(f.Za,f),6e3));if(1>=KI(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Jr(f,11)}else if((c.K||f.g==c)&&Zc(f),!B(d))for(b=f.Da.g.parse(d),d=0;d<b.length;d++){let ge=b[d];if(f.T=ge[0],ge=ge[1],f.G==2)if(ge[0]=="c"){f.K=ge[1],f.ia=ge[2];let tt=ge[3];tt!=null&&(f.la=tt,f.j.info("VER="+f.la));let nt=ge[4];nt!=null&&(f.Aa=nt,f.j.info("SVER="+f.Aa));let Ji=ge[5];Ji!=null&&typeof Ji=="number"&&0<Ji&&(g=1.5*Ji,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let Vt=c.g;if(Vt){let eu=Vt.g?Vt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(eu){var S=g.h;S.g||eu.indexOf("spdy")==-1&&eu.indexOf("quic")==-1&&eu.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(lf(S,S.h),S.h=null))}if(g.D){let gf=Vt.g?Vt.g.getResponseHeader("X-HTTP-Session-Id"):null;gf&&(g.ya=gf,be(g.I,g.D,gf))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var k=c;if(g.qa=Iw(g,g.J?g.ia:null,g.W),k.K){QI(g.h,k);var we=k,Ke=g.L;Ke&&(we.I=Ke),we.B&&(af(we),zc(we)),g.g=k}else gw(g);0<f.i.length&&Jc(f)}else ge[0]!="stop"&&ge[0]!="close"||Jr(f,7);else f.G==3&&(ge[0]=="stop"||ge[0]=="close"?ge[0]=="stop"?Jr(f,7):hf(f):ge[0]!="noop"&&f.l&&f.l.ta(ge),f.v=0)}}Uo(4)}catch{}}var tN=class{constructor(c,d){this.g=c,this.map=d}};function GI(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function WI(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function KI(c){return c.h?1:c.g?c.g.size:0}function uf(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function lf(c,d){c.g?c.g.add(d):c.h=d}function QI(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}GI.prototype.cancel=function(){if(this.i=YI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function YI(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return M(c.i)}function nN(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function rN(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function JI(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=rN(c),g=nN(c),b=g.length,S=0;S<b;S++)d.call(void 0,g[S],f&&f[S],c)}var ZI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function iN(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),b=null;if(0<=g){var S=c[f].substring(0,g);b=c[f].substring(g+1)}else S=c[f];d(S,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function Yr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Yr){this.h=c.h,qc(this,c.j),this.o=c.o,this.g=c.g,Gc(this,c.s),this.l=c.l;var d=c.i,f=new qo;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),XI(this,f),this.m=c.m}else c&&(d=String(c).match(ZI))?(this.h=!1,qc(this,d[1]||"",!0),this.o=Ho(d[2]||""),this.g=Ho(d[3]||"",!0),Gc(this,d[4]),this.l=Ho(d[5]||"",!0),XI(this,d[6]||"",!0),this.m=Ho(d[7]||"")):(this.h=!1,this.i=new qo(null,this.h))}Yr.prototype.toString=function(){var c=[],d=this.j;d&&c.push(zo(d,ew,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(zo(d,ew,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(zo(f,f.charAt(0)=="/"?aN:oN,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",zo(f,uN)),c.join("")};function In(c){return new Yr(c)}function qc(c,d,f){c.j=f?Ho(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Gc(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function XI(c,d,f){d instanceof qo?(c.i=d,lN(c.i,c.h)):(f||(d=zo(d,cN)),c.i=new qo(d,c.h))}function be(c,d,f){c.i.set(d,f)}function Wc(c){return be(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ho(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function zo(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,sN),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function sN(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ew=/[#\/\?@]/g,oN=/[#\?:]/g,aN=/[#\?]/g,cN=/[#\?@]/g,uN=/#/g;function qo(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function rr(c){c.g||(c.g=new Map,c.h=0,c.i&&iN(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=qo.prototype,t.add=function(c,d){rr(this),this.i=null,c=Qi(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function tw(c,d){rr(c),d=Qi(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function nw(c,d){return rr(c),d=Qi(c,d),c.g.has(d)}t.forEach=function(c,d){rr(this),this.g.forEach(function(f,g){f.forEach(function(b){c.call(d,b,g,this)},this)},this)},t.na=function(){rr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let b=c[g];for(let S=0;S<b.length;S++)f.push(d[g])}return f},t.V=function(c){rr(this);let d=[];if(typeof c=="string")nw(this,c)&&(d=d.concat(this.g.get(Qi(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return rr(this),this.i=null,c=Qi(this,c),nw(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function rw(c,d,f){tw(c,d),0<f.length&&(c.i=null,c.g.set(Qi(c,d),M(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let S=encodeURIComponent(String(g)),k=this.V(g);for(g=0;g<k.length;g++){var b=S;k[g]!==""&&(b+="="+encodeURIComponent(String(k[g]))),c.push(b)}}return this.i=c.join("&")};function Qi(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function lN(c,d){d&&!c.j&&(rr(c),c.i=null,c.g.forEach(function(f,g){var b=g.toLowerCase();g!=b&&(tw(this,g),rw(this,b,f))},c)),c.j=d}function dN(c,d){let f=new Bo;if(a.Image){let g=new Image;g.onload=y(ir,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(ir,f,"TestLoadImage: error",!1,d,g),g.onabort=y(ir,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(ir,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function hN(c,d){let f=new Bo,g=new AbortController,b=setTimeout(()=>{g.abort(),ir(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(S=>{clearTimeout(b),S.ok?ir(f,"TestPingServer: ok",!0,d):ir(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),ir(f,"TestPingServer: error",!1,d)})}function ir(c,d,f,g,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),g(f)}catch{}}function fN(){this.g=new QR}function pN(c,d,f){let g=f||"";try{JI(c,function(b,S){let k=b;l(b)&&(k=Xh(b)),d.push(g+S+"="+encodeURIComponent(k))})}catch(b){throw d.push(g+"type="+encodeURIComponent("_badmap")),b}}function Go(c){this.l=c.Ub||null,this.j=c.eb||!1}C(Go,ef),Go.prototype.g=function(){return new Kc(this.l,this.j)},Go.prototype.i=function(c){return function(){return c}}({});function Kc(c,d){et.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Kc,et),t=Kc.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Ko(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wo(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ko(this)),this.g&&(this.readyState=3,Ko(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;iw(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function iw(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Wo(this):Ko(this),this.readyState==3&&iw(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Wo(this))},t.Qa=function(c){this.g&&(this.response=c,Wo(this))},t.ga=function(){this.g&&Wo(this)};function Wo(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ko(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Ko(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Kc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function sw(c){let d="";return W(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function df(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=sw(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):be(c,d,f))}function Ne(c){et.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Ne,et);var gN=/^https?$/i,mN=["POST","PUT"];t=Ne.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():rf.g(),this.v=this.o?OI(this.o):OI(rf),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(S){ow(this,S);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var b in g)f.set(b,g[b]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let S of g.keys())f.set(S,g.get(S));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(S=>S.toLowerCase()=="content-type"),b=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(mN,d,void 0))||g||b||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,k]of f)this.g.setRequestHeader(S,k);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{uw(this),this.u=!0,this.g.send(c),this.u=!1}catch(S){ow(this,S)}};function ow(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,aw(c),Qc(c)}function aw(c){c.A||(c.A=!0,ct(c,"complete"),ct(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,ct(this,"complete"),ct(this,"abort"),Qc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qc(this,!0)),Ne.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?cw(this):this.bb())},t.bb=function(){cw(this)};function cw(c){if(c.h&&typeof o<"u"&&(!c.v[1]||wn(c)!=4||c.Z()!=2)){if(c.u&&wn(c)==4)NI(c.Ea,0,c);else if(ct(c,"readystatechange"),wn(c)==4){c.h=!1;try{let k=c.Z();e:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=k===0){var b=String(c.D).match(ZI)[1]||null;!b&&a.self&&a.self.location&&(b=a.self.location.protocol.slice(0,-1)),g=!gN.test(b?b.toLowerCase():"")}f=g}if(f)ct(c,"complete"),ct(c,"success");else{c.m=6;try{var S=2<wn(c)?c.g.statusText:""}catch{S=""}c.l=S+" ["+c.Z()+"]",aw(c)}}finally{Qc(c)}}}}function Qc(c,d){if(c.g){uw(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||ct(c,"ready");try{f.onreadystatechange=g}catch{}}}function uw(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function wn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<wn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),KR(d)}};function lw(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function yN(c){let d={};c=(c.g&&2<=wn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(B(c[g]))continue;var f=T(c[g]);let b=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let S=d[b]||[];d[b]=S,S.push(f)}E(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qo(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function dw(c){this.Aa=0,this.i=[],this.j=new Bo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qo("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qo("baseRetryDelayMs",5e3,c),this.cb=Qo("retryDelaySeedMs",1e4,c),this.Wa=Qo("forwardChannelMaxRetries",2,c),this.wa=Qo("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new GI(c&&c.concurrentRequestLimit),this.Da=new fN,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=dw.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,g){ut(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=Iw(this,null,this.W),Jc(this)};function hf(c){if(hw(c),c.G==3){var d=c.U++,f=In(c.I);if(be(f,"SID",c.K),be(f,"RID",d),be(f,"TYPE","terminate"),Yo(c,f),d=new nr(c,c.j,d),d.L=2,d.v=Wc(In(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=ww(d.j,null),d.g.ea(d.v)),d.F=Date.now(),zc(d)}_w(c)}function Yc(c){c.g&&(pf(c),c.g.cancel(),c.g=null)}function hw(c){Yc(c),c.u&&(a.clearTimeout(c.u),c.u=null),Zc(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Jc(c){if(!WI(c.h)&&!c.s){c.s=!0;var d=c.Ga;Po||TI(),Oo||(Po(),Oo=!0),zh.add(d,c),c.B=0}}function vN(c,d){return KI(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=jo(m(c.Ga,c,d),vw(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let b=new nr(this,this.j,c),S=this.o;if(this.S&&(S?(S=v(S),D(S,this.S)):S=this.S),this.m!==null||this.O||(b.H=S,S=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=pw(this,b,d),f=In(this.I),be(f,"RID",c),be(f,"CVER",22),this.D&&be(f,"X-HTTP-Session-Id",this.D),Yo(this,f),S&&(this.O?d="headers="+encodeURIComponent(String(sw(S)))+"&"+d:this.m&&df(f,this.m,S)),lf(this.h,b),this.Ua&&be(f,"TYPE","init"),this.P?(be(f,"$req",d),be(f,"SID","null"),b.T=!0,of(b,f,null)):of(b,f,d),this.G=2}}else this.G==3&&(c?fw(this,c):this.i.length==0||WI(this.h)||fw(this))};function fw(c,d){var f;d?f=d.l:f=c.U++;let g=In(c.I);be(g,"SID",c.K),be(g,"RID",f),be(g,"AID",c.T),Yo(c,g),c.m&&c.o&&df(g,c.m,c.o),f=new nr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=pw(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),lf(c.h,f),of(f,g,d)}function Yo(c,d){c.H&&W(c.H,function(f,g){be(d,g,f)}),c.l&&JI({},function(f,g){be(d,g,f)})}function pw(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var b=c.i;let S=-1;for(;;){let k=["count="+f];S==-1?0<f?(S=b[0].g,k.push("ofs="+S)):S=0:k.push("ofs="+S);let we=!0;for(let Ke=0;Ke<f;Ke++){let ge=b[Ke].g,tt=b[Ke].map;if(ge-=S,0>ge)S=Math.max(0,b[Ke].g-100),we=!1;else try{pN(tt,k,"req"+ge+"_")}catch{g&&g(tt)}}if(we){g=k.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function gw(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Po||TI(),Oo||(Po(),Oo=!0),zh.add(d,c),c.v=0}}function ff(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=jo(m(c.Fa,c),vw(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,mw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=jo(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ut(10),Yc(this),mw(this))};function pf(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function mw(c){c.g=new nr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=In(c.qa);be(d,"RID","rpc"),be(d,"SID",c.K),be(d,"AID",c.T),be(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&be(d,"TO",c.ja),be(d,"TYPE","xmlhttp"),Yo(c,d),c.m&&c.o&&df(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Wc(In(d)),f.m=null,f.P=!0,HI(f,c)}t.Za=function(){this.C!=null&&(this.C=null,Yc(this),ff(this),ut(19))};function Zc(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function yw(c,d){var f=null;if(c.g==d){Zc(c),pf(c),c.g=null;var g=2}else if(uf(c.h,d))f=d.D,QI(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var b=c.B;g=Bc(),ct(g,new UI(g,f)),Jc(c)}else gw(c);else if(b=d.s,b==3||b==0&&0<d.X||!(g==1&&vN(c,d)||g==2&&ff(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),b){case 1:Jr(c,5);break;case 4:Jr(c,10);break;case 3:Jr(c,6);break;default:Jr(c,2)}}}function vw(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Jr(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let b=!g;g=new Yr(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||qc(g,"https"),Wc(g),b?dN(g.toString(),f):hN(g.toString(),f)}else ut(2);c.G=0,c.l&&c.l.sa(d),_w(c),hw(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function _w(c){if(c.G=0,c.ka=[],c.l){let d=YI(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.ra()}}function Iw(c,d,f){var g=f instanceof Yr?In(f):new Yr(f);if(g.g!="")d&&(g.g=d+"."+g.g),Gc(g,g.s);else{var b=a.location;g=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var S=new Yr(null);g&&qc(S,g),d&&(S.g=d),b&&Gc(S,b),f&&(S.l=f),g=S}return f=c.D,d=c.ya,f&&d&&be(g,f,d),be(g,"VER",c.la),Yo(c,g),g}function ww(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Ne(new Go({eb:f})):new Ne(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ew(){}t=Ew.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Xc(){}Xc.prototype.g=function(c,d){return new vt(c,d)};function vt(c,d){et.call(this),this.g=new dw(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!B(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!B(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Yi(this)}C(vt,et),vt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vt.prototype.close=function(){hf(this.g)},vt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=Xh(c),c=f);d.i.push(new tN(d.Ya++,c)),d.G==3&&Jc(d)},vt.prototype.N=function(){this.g.l=null,delete this.j,hf(this.g),delete this.g,vt.aa.N.call(this)};function Dw(c){tf.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}C(Dw,tf);function Tw(){nf.call(this),this.status=1}C(Tw,nf);function Yi(c){this.g=c}C(Yi,Ew),Yi.prototype.ua=function(){ct(this.g,"a")},Yi.prototype.ta=function(c){ct(this.g,new Dw(c))},Yi.prototype.sa=function(c){ct(this.g,new Tw)},Yi.prototype.ra=function(){ct(this.g,"b")},Xc.prototype.createWebChannel=Xc.prototype.g,vt.prototype.send=vt.prototype.o,vt.prototype.open=vt.prototype.m,vt.prototype.close=vt.prototype.close,fv=Qn.createWebChannelTransport=function(){return new Xc},hv=Qn.getStatEventTarget=function(){return Bc()},dv=Qn.Event=Kr,Xd=Qn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$c.NO_ERROR=0,$c.TIMEOUT=8,$c.HTTP_ERROR=6,pc=Qn.ErrorCode=$c,jI.COMPLETE="complete",lv=Qn.EventType=jI,kI.EventType=Vo,Vo.OPEN="a",Vo.CLOSE="b",Vo.ERROR="c",Vo.MESSAGE="d",et.prototype.listen=et.prototype.K,uo=Qn.WebChannel=kI,uv=Qn.FetchXmlHttpFactory=Go,Ne.prototype.listenOnce=Ne.prototype.L,Ne.prototype.getLastError=Ne.prototype.Ka,Ne.prototype.getLastErrorCode=Ne.prototype.Ba,Ne.prototype.getStatus=Ne.prototype.Z,Ne.prototype.getResponseJson=Ne.prototype.Oa,Ne.prototype.getResponseText=Ne.prototype.oa,Ne.prototype.send=Ne.prototype.ea,Ne.prototype.setWithCredentials=Ne.prototype.Ha,cv=Qn.XhrIo=Ne}).apply(typeof Zd<"u"?Zd:typeof self<"u"?self:typeof window<"u"?window:{});var $A="@firebase/firestore";var We=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};We.UNAUTHENTICATED=new We(null),We.GOOGLE_CREDENTIALS=new We("google-credentials-uid"),We.FIRST_PARTY=new We("first-party-uid"),We.MOCK_USER=new We("mock-user");var Ro="10.13.1";var Vi=new Mr("@firebase/firestore");function gc(){return Vi.logLevel}function j(t,...e){if(Vi.logLevel<=le.DEBUG){let n=e.map(eI);Vi.debug(`Firestore (${Ro}): ${t}`,...n)}}function Jn(t,...e){if(Vi.logLevel<=le.ERROR){let n=e.map(eI);Vi.error(`Firestore (${Ro}): ${t}`,...n)}}function yo(t,...e){if(Vi.logLevel<=le.WARN){let n=e.map(eI);Vi.warn(`Firestore (${Ro}): ${t}`,...n)}}function eI(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function Y(t="Unexpected state"){let e=`FIRESTORE (${Ro}) INTERNAL ASSERTION FAILED: `+t;throw Jn(e),new Error(e)}function De(t,e){t||Y()}function ee(t,e){return t}var N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},V=class extends Ct{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Yn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var ih=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},vv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(We.UNAUTHENTICATED))}shutdown(){}},_v=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Iv=class{constructor(e){this.t=e,this.currentUser=We.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),s=new Yn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Yn,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>w(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{j("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(j("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Yn)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(j("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(De(typeof r.accessToken=="string"),new ih(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return De(e===null||typeof e=="string"),new We(e)}},wv=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=We.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Ev=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new wv(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(We.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Dv=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Tv=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&j("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,j("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{j("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):j("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(De(typeof n.token=="string"),this.R=n.token,new Dv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function _$(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var sh=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=_$(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function ye(t,e){return t<e?-1:t>e?1:0}function vo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var Ze=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new V(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new V(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new V(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new V(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ye(this.nanoseconds,e.nanoseconds):ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ne=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Ze(0,0))}static max(){return new t(new Ze(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var oh=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&Y(),r===void 0?r=e.length-n:r>e.length-n&&Y(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Re=class t extends oh{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new V(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},I$=/^[_a-zA-Z][_a-zA-Z0-9]*$/,At=class t extends oh{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return I$.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new V(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new V(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new V(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new V(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var G=class t{constructor(e){this.path=e}static fromPath(e){return new t(Re.fromString(e))}static fromName(e){return new t(Re.fromString(e).popFirst(5))}static empty(){return new t(Re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Re.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Re.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Re(e.slice()))}};var bv=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};bv.UNKNOWN_ID=-1;function w$(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ne.fromTimestamp(r===1e9?new Ze(n+1,0):new Ze(n,r));return new Ui(i,G.empty(),e)}function E$(t){return new Ui(t.readTime,t.key,-1)}var Ui=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ne.min(),G.empty(),-1)}static max(){return new t(ne.max(),G.empty(),-1)}};function D$(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=G.comparator(t.documentKey,e.documentKey),n!==0?n:ye(t.largestBatchId,e.largestBatchId))}var T$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Cv=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Oc(t){return w(this,null,function*(){if(t.code!==N.FAILED_PRECONDITION||t.message!==T$)throw t;j("LocalStore","Unexpectedly lost primary lease")})}var O=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Y(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let u=0;u<s;u++){let l=u;n(e[l]).next(h=>{o[l]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function b$(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function kc(t){return t.name==="IndexedDbTransactionError"}var DS=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function kh(t){return t==null}function Ec(t){return t===0&&1/t==-1/0}function C$(t){return typeof t=="number"&&Number.isInteger(t)&&!Ec(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var A$=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],r7=[...A$,"documentOverlays"],S$=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],R$=S$,N$=[...R$,"indexConfiguration","indexState","indexEntries"];var i7=[...N$,"globals"];function HA(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function No(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function TS(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var xe=class t{constructor(e,n){this.comparator=e,this.root=n||gn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,gn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new po(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new po(this.root,e,this.comparator,!1)}getReverseIterator(){return new po(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new po(this.root,e,this.comparator,!0)}},po=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},gn=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Y();let e=this.left.check();if(e!==this.right.check())throw Y();return e+(this.isRed()?0:1)}};gn.EMPTY=null,gn.RED=!0,gn.BLACK=!1;gn.EMPTY=new class{constructor(){this.size=0}get key(){throw Y()}get value(){throw Y()}get color(){throw Y()}get left(){throw Y()}get right(){throw Y()}copy(e,n,r,i,s){return this}insert(e,n,r){return new gn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ot=class t{constructor(e){this.comparator=e,this.data=new xe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ah(this.data.getIterator())}getIteratorFrom(e){return new ah(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},ah=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var pn=class t{constructor(e){this.fields=e,e.sort(At.comparator)}static empty(){return new t([])}unionWith(e){let n=new ot(At.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return vo(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var ch=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var at=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new ch("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};at.EMPTY_BYTE_STRING=new at("");var M$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zn(t){if(De(!!t),typeof t=="string"){let e=0,n=M$.exec(t);if(De(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ae(t.seconds),nanos:Ae(t.nanos)}}function Ae(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function zr(t){return typeof t=="string"?at.fromBase64String(t):at.fromUint8Array(t)}function tI(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function nI(t){let e=t.mapValue.fields.__previous_value__;return tI(e)?nI(e):e}function Dc(t){let e=Zn(t.mapValue.fields.__local_write_time__.timestampValue);return new Ze(e.seconds,e.nanos)}var Av=class{constructor(e,n,r,i,s,o,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},uh=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var eh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ji(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?tI(t)?4:CS(t)?9007199254740991:bS(t)?10:11:Y()}function vn(t,e){if(t===e)return!0;let n=ji(t);if(n!==ji(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Dc(t).isEqual(Dc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Zn(i.timestampValue),a=Zn(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return zr(i.bytesValue).isEqual(zr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ae(i.geoPointValue.latitude)===Ae(s.geoPointValue.latitude)&&Ae(i.geoPointValue.longitude)===Ae(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ae(i.integerValue)===Ae(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Ae(i.doubleValue),a=Ae(s.doubleValue);return o===a?Ec(o)===Ec(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return vo(t.arrayValue.values||[],e.arrayValue.values||[],vn);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(HA(o)!==HA(a))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!vn(o[u],a[u])))return!1;return!0}(t,e);default:return Y()}}function Tc(t,e){return(t.values||[]).find(n=>vn(n,e))!==void 0}function _o(t,e){if(t===e)return 0;let n=ji(t),r=ji(e);if(n!==r)return ye(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ye(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=Ae(s.integerValue||s.doubleValue),u=Ae(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return zA(t.timestampValue,e.timestampValue);case 4:return zA(Dc(t),Dc(e));case 5:return ye(t.stringValue,e.stringValue);case 6:return function(s,o){let a=zr(s),u=zr(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=ye(a[l],u[l]);if(h!==0)return h}return ye(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=ye(Ae(s.latitude),Ae(o.latitude));return a!==0?a:ye(Ae(s.longitude),Ae(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return qA(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,u,l,h;let p=s.fields||{},m=o.fields||{},y=(a=p.value)===null||a===void 0?void 0:a.arrayValue,C=(u=m.value)===null||u===void 0?void 0:u.arrayValue,M=ye(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=C?.values)===null||h===void 0?void 0:h.length)||0);return M!==0?M:qA(y,C)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===eh.mapValue&&o===eh.mapValue)return 0;if(s===eh.mapValue)return 1;if(o===eh.mapValue)return-1;let a=s.fields||{},u=Object.keys(a),l=o.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=ye(u[p],h[p]);if(m!==0)return m;let y=_o(a[u[p]],l[h[p]]);if(y!==0)return y}return ye(u.length,h.length)}(t.mapValue,e.mapValue);default:throw Y()}}function zA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ye(t,e);let n=Zn(t),r=Zn(e),i=ye(n.seconds,r.seconds);return i!==0?i:ye(n.nanos,r.nanos)}function qA(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=_o(n[i],r[i]);if(s)return s}return ye(n.length,r.length)}function Io(t){return Sv(t)}function Sv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Zn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return zr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return G.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=Sv(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${Sv(n.fields[o])}`;return i+"}"}(t.mapValue):Y()}function GA(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Rv(t){return!!t&&"integerValue"in t}function rI(t){return!!t&&"arrayValue"in t}function WA(t){return!!t&&"nullValue"in t}function KA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function nh(t){return!!t&&"mapValue"in t}function bS(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function yc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return No(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=yc(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=yc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function CS(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Kt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!nh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=yc(n)}setAll(e){let n=At.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=yc(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());nh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return vn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];nh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){No(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(yc(this.value))}};function AS(t){let e=[];return No(t.fields,(n,r)=>{let i=new At([n]);if(nh(r)){let s=AS(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new pn(e)}var Qt=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,ne.min(),ne.min(),ne.min(),Kt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ne.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ne.min(),ne.min(),Kt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ne.min(),ne.min(),Kt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var wo=class{constructor(e,n){this.position=e,this.inclusive=n}};function QA(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=G.comparator(G.fromName(o.referenceValue),n.key):r=_o(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function YA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!vn(t.position[n],e.position[n]))return!1;return!0}var Bi=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function x$(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var lh=class{},Ue=class t extends lh{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Mv(e,n,r):n==="array-contains"?new Ov(e,r):n==="in"?new kv(e,r):n==="not-in"?new Fv(e,r):n==="array-contains-any"?new Lv(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new xv(e,r):new Pv(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(_o(n,this.value)):n!==null&&ji(this.value)===ji(n)&&this.matchesComparison(_o(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Y()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Yt=class t extends lh{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return SS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function SS(t){return t.op==="and"}function RS(t){return P$(t)&&SS(t)}function P$(t){for(let e of t.filters)if(e instanceof Yt)return!1;return!0}function Nv(t){if(t instanceof Ue)return t.field.canonicalString()+t.op.toString()+Io(t.value);if(RS(t))return t.filters.map(e=>Nv(e)).join(",");{let e=t.filters.map(n=>Nv(n)).join(",");return`${t.op}(${e})`}}function NS(t,e){return t instanceof Ue?function(r,i){return i instanceof Ue&&r.op===i.op&&r.field.isEqual(i.field)&&vn(r.value,i.value)}(t,e):t instanceof Yt?function(r,i){return i instanceof Yt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&NS(o,i.filters[a]),!0):!1}(t,e):void Y()}function MS(t){return t instanceof Ue?function(n){return`${n.field.canonicalString()} ${n.op} ${Io(n.value)}`}(t):t instanceof Yt?function(n){return n.op.toString()+" {"+n.getFilters().map(MS).join(" ,")+"}"}(t):"Filter"}var Mv=class extends Ue{constructor(e,n,r){super(e,n,r),this.key=G.fromName(r.referenceValue)}matches(e){let n=G.comparator(e.key,this.key);return this.matchesComparison(n)}},xv=class extends Ue{constructor(e,n){super(e,"in",n),this.keys=xS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Pv=class extends Ue{constructor(e,n){super(e,"not-in",n),this.keys=xS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function xS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>G.fromName(r.referenceValue))}var Ov=class extends Ue{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return rI(n)&&Tc(n.arrayValue,this.value)}},kv=class extends Ue{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Tc(this.value.arrayValue,n)}},Fv=class extends Ue{constructor(e,n){super(e,"not-in",n)}matches(e){if(Tc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Tc(this.value.arrayValue,n)}},Lv=class extends Ue{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!rI(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Tc(this.value.arrayValue,r))}};var Vv=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function JA(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Vv(t,e,n,r,i,s,o)}function iI(t){let e=ee(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Nv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),kh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Io(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Io(r)).join(",")),e.ue=n}return e.ue}function sI(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!x$(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!NS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!YA(t.startAt,e.startAt)&&YA(t.endAt,e.endAt)}function Uv(t){return G.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var qr=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function O$(t,e,n,r,i,s,o,a){return new qr(t,e,n,r,i,s,o,a)}function oI(t){return new qr(t)}function ZA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function PS(t){return t.collectionGroup!==null}function vc(t){let e=ee(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ot(At.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Bi(s,r))}),n.has(At.keyField().canonicalString())||e.ce.push(new Bi(At.keyField(),r))}return e.ce}function mn(t){let e=ee(t);return e.le||(e.le=k$(e,vc(t))),e.le}function k$(t,e){if(t.limitType==="F")return JA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Bi(i.field,s)});let n=t.endAt?new wo(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new wo(t.startAt.position,t.startAt.inclusive):null;return JA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function jv(t,e){let n=t.filters.concat([e]);return new qr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Bv(t,e,n){return new qr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Fh(t,e){return sI(mn(t),mn(e))&&t.limitType===e.limitType}function OS(t){return`${iI(mn(t))}|lt:${t.limitType}`}function lo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>MS(i)).join(", ")}]`),kh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Io(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Io(i)).join(",")),`Target(${r})`}(mn(t))}; limitType=${t.limitType})`}function Lh(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):G.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of vc(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){let l=QA(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,vc(r),i)||r.endAt&&!function(o,a,u){let l=QA(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,vc(r),i))}(t,e)}function F$(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function kS(t){return(e,n)=>{let r=!1;for(let i of vc(t)){let s=L$(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function L$(t,e,n){let r=t.field.isKeyField()?G.comparator(e.key,n.key):function(s,o,a){let u=o.data.field(s),l=a.data.field(s);return u!==null&&l!==null?_o(u,l):Y()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Y()}}var Gr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){No(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return TS(this.inner)}size(){return this.innerSize}};var V$=new xe(G.comparator);function Xn(){return V$}var FS=new xe(G.comparator);function mc(...t){let e=FS;for(let n of t)e=e.insert(n.key,n);return e}function LS(t){let e=FS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Oi(){return _c()}function VS(){return _c()}function _c(){return new Gr(t=>t.toString(),(t,e)=>t.isEqual(e))}var U$=new xe(G.comparator),j$=new ot(G.comparator);function de(...t){let e=j$;for(let n of t)e=e.add(n);return e}var B$=new ot(ye);function $$(){return B$}function aI(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ec(e)?"-0":e}}function US(t){return{integerValue:""+t}}function H$(t,e){return C$(e)?US(e):aI(t,e)}var Eo=class{constructor(){this._=void 0}};function z$(t,e,n){return t instanceof Do?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&tI(s)&&(s=nI(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof $i?BS(t,e):t instanceof Hi?$S(t,e):function(i,s){let o=jS(i,s),a=XA(o)+XA(i.Pe);return Rv(o)&&Rv(i.Pe)?US(a):aI(i.serializer,a)}(t,e)}function q$(t,e,n){return t instanceof $i?BS(t,e):t instanceof Hi?$S(t,e):n}function jS(t,e){return t instanceof To?function(r){return Rv(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var Do=class extends Eo{},$i=class extends Eo{constructor(e){super(),this.elements=e}};function BS(t,e){let n=HS(e);for(let r of t.elements)n.some(i=>vn(i,r))||n.push(r);return{arrayValue:{values:n}}}var Hi=class extends Eo{constructor(e){super(),this.elements=e}};function $S(t,e){let n=HS(e);for(let r of t.elements)n=n.filter(i=>!vn(i,r));return{arrayValue:{values:n}}}var To=class extends Eo{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function XA(t){return Ae(t.integerValue||t.doubleValue)}function HS(t){return rI(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function G$(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof $i&&i instanceof $i||r instanceof Hi&&i instanceof Hi?vo(r.elements,i.elements,vn):r instanceof To&&i instanceof To?vn(r.Pe,i.Pe):r instanceof Do&&i instanceof Do}(t.transform,e.transform)}var $v=class{constructor(e,n){this.version=e,this.transformResults=n}},Li=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function rh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var bo=class{};function zS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new dh(t.key,Li.none()):new zi(t.key,t.data,Li.none());{let n=t.data,r=Kt.empty(),i=new ot(At.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new er(t.key,r,new pn(i.toArray()),Li.none())}}function W$(t,e,n){t instanceof zi?function(i,s,o){let a=i.value.clone(),u=tS(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof er?function(i,s,o){if(!rh(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=tS(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(qS(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ic(t,e,n,r){return t instanceof zi?function(s,o,a,u){if(!rh(s.precondition,o))return a;let l=s.value.clone(),h=nS(s.fieldTransforms,u,o);return l.setAll(h),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof er?function(s,o,a,u){if(!rh(s.precondition,o))return a;let l=nS(s.fieldTransforms,u,o),h=o.data;return h.setAll(qS(s)),h.setAll(l),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,a){return rh(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function K$(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=jS(r.transform,i||null);s!=null&&(n===null&&(n=Kt.empty()),n.set(r.field,s))}return n||null}function eS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&vo(r,i,(s,o)=>G$(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var zi=class extends bo{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},er=class extends bo{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function qS(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function tS(t,e,n){let r=new Map;De(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,q$(o,a,n[i]))}return r}function nS(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,z$(s,o,e))}return r}var dh=class extends bo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Hv=class extends bo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var zv=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&W$(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ic(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Ic(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=VS();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let u=zS(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),de())}isEqual(e){return this.batchId===e.batchId&&vo(this.mutations,e.mutations,(n,r)=>eS(n,r))&&vo(this.baseMutations,e.baseMutations,(n,r)=>eS(n,r))}},qv=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){De(e.mutations.length===r.length);let i=function(){return U$}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var Gv=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Wv=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Le,fe;function Q$(t){switch(t){default:return Y();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0}}function GS(t){if(t===void 0)return Jn("GRPC error has no .code"),N.UNKNOWN;switch(t){case Le.OK:return N.OK;case Le.CANCELLED:return N.CANCELLED;case Le.UNKNOWN:return N.UNKNOWN;case Le.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case Le.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case Le.INTERNAL:return N.INTERNAL;case Le.UNAVAILABLE:return N.UNAVAILABLE;case Le.UNAUTHENTICATED:return N.UNAUTHENTICATED;case Le.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case Le.NOT_FOUND:return N.NOT_FOUND;case Le.ALREADY_EXISTS:return N.ALREADY_EXISTS;case Le.PERMISSION_DENIED:return N.PERMISSION_DENIED;case Le.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case Le.ABORTED:return N.ABORTED;case Le.OUT_OF_RANGE:return N.OUT_OF_RANGE;case Le.UNIMPLEMENTED:return N.UNIMPLEMENTED;case Le.DATA_LOSS:return N.DATA_LOSS;default:return Y()}}(fe=Le||(Le={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";var rS=null;function Y$(){return new TextEncoder}var J$=new $r([4294967295,4294967295],0);function iS(t){let e=Y$().encode(t),n=new av;return n.update(e),new Uint8Array(n.digest())}function sS(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new $r([n,r],0),new $r([i,s],0)]}var Kv=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ki(`Invalid padding: ${n}`);if(r<0)throw new ki(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ki(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ki(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=$r.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply($r.fromNumber(r)));return i.compare(J$)===1&&(i=new $r([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=iS(e),[r,i]=sS(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let n=iS(e),[r,i]=sS(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},ki=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var hh=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,bc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ne.min(),i,new xe(ye),Xn(),de())}},bc=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,de(),de(),de())}};var go=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},fh=class{constructor(e,n){this.targetId=e,this.me=n}},ph=class{constructor(e,n,r=at.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},gh=class{constructor(){this.fe=0,this.ge=aS(),this.pe=at.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=de(),n=de(),r=de();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Y()}}),new bc(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=aS()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,De(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},Qv=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Xn(),this.qe=oS(),this.Qe=new xe(ye)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Y()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let s=i.target;if(Uv(s))if(r===0){let o=new G(s.path);this.Ue(n,o,Qt.newNoDocument(o,ne.min()))}else De(r===1);else{let o=this.Ye(n);if(o!==r){let a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}rS?.et(function(h,p,m,y,C){var M,R,x,B,z,q;let Ie={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},W=p.unchangedNames;return W&&(Ie.bloomFilter={applied:C===0,hashCount:(M=W?.hashCount)!==null&&M!==void 0?M:0,bitmapLength:(B=(x=(R=W?.bits)===null||R===void 0?void 0:R.bitmap)===null||x===void 0?void 0:x.length)!==null&&B!==void 0?B:0,padding:(q=(z=W?.bits)===null||z===void 0?void 0:z.padding)!==null&&q!==void 0?q:0,mightContain:E=>{var v;return(v=y?.mightContain(E))!==null&&v!==void 0&&v}}),Ie}(o,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=zr(r).toUint8Array()}catch(u){if(u instanceof ch)return yo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Kv(o,i,s)}catch(u){return yo(u instanceof ki?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&Uv(a.target)){let u=new G(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,Qt.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=de();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new hh(e,n,this.Qe,this.ke,r);return this.ke=Xn(),this.qe=oS(),this.Qe=new xe(ye),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new gh,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new ot(ye),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||j("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new gh),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function oS(){return new xe(G.comparator)}function aS(){return new xe(G.comparator)}var Z$={asc:"ASCENDING",desc:"DESCENDING"},X$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},eH={and:"AND",or:"OR"},Yv=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Jv(t,e){return t.useProto3Json||kh(e)?e:{value:e}}function mh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function WS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function tH(t,e){return mh(t,e.toTimestamp())}function yn(t){return De(!!t),ne.fromTimestamp(function(n){let r=Zn(n);return new Ze(r.seconds,r.nanos)}(t))}function cI(t,e){return Zv(t,e).canonicalString()}function Zv(t,e){let n=function(i){return new Re(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function KS(t){let e=Re.fromString(t);return De(XS(e)),e}function Xv(t,e){return cI(t.databaseId,e.path)}function pv(t,e){let n=KS(e);if(n.get(1)!==t.databaseId.projectId)throw new V(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new V(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new G(YS(n))}function QS(t,e){return cI(t.databaseId,e)}function nH(t){let e=KS(t);return e.length===4?Re.emptyPath():YS(e)}function e_(t){return new Re(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function YS(t){return De(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function cS(t,e,n){return{name:Xv(t,e),fields:n.value.mapValue.fields}}function rH(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Y()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,h){return l.useProto3Json?(De(h===void 0||typeof h=="string"),at.fromBase64String(h||"")):(De(h===void 0||h instanceof Buffer||h instanceof Uint8Array),at.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){let h=l.code===void 0?N.UNKNOWN:GS(l.code);return new V(h,l.message||"")}(o);n=new ph(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=pv(t,r.document.name),s=yn(r.document.updateTime),o=r.document.createTime?yn(r.document.createTime):ne.min(),a=new Kt({mapValue:{fields:r.document.fields}}),u=Qt.newFoundDocument(i,s,o,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new go(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=pv(t,r.document),s=r.readTime?yn(r.readTime):ne.min(),o=Qt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new go([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=pv(t,r.document),s=r.removedTargetIds||[];n=new go([],s,i,null)}else{if(!("filter"in e))return Y();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new Wv(i,s),a=r.targetId;n=new fh(a,o)}}return n}function iH(t,e){let n;if(e instanceof zi)n={update:cS(t,e.key,e.value)};else if(e instanceof dh)n={delete:Xv(t,e.key)};else if(e instanceof er)n={update:cS(t,e.key,e.data),updateMask:fH(e.fieldMask)};else{if(!(e instanceof Hv))return Y();n={verify:Xv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof Do)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof $i)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Hi)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof To)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Y()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:tH(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Y()}(t,e.precondition)),n}function sH(t,e){return t&&t.length>0?(De(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?yn(i.updateTime):yn(s);return o.isEqual(ne.min())&&(o=yn(s)),new $v(o,i.transformResults||[])}(n,e))):[]}function oH(t,e){return{documents:[QS(t,e.path)]}}function aH(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=QS(t,i);let s=function(l){if(l.length!==0)return ZS(Yt.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:ho(m.field),direction:lH(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=Jv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function cH(t){let e=nH(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){De(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(p){let m=JS(p);return m instanceof Yt&&RS(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(m=>function(C){return new Bi(fo(C.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,kh(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){let m=!!p.before,y=p.values||[];return new wo(y,m)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let m=!p.before,y=p.values||[];return new wo(y,m)}(n.endAt)),O$(e,i,o,s,a,"F",u,l)}function uH(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Y()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function JS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=fo(n.unaryFilter.field);return Ue.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=fo(n.unaryFilter.field);return Ue.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=fo(n.unaryFilter.field);return Ue.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=fo(n.unaryFilter.field);return Ue.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Y()}}(t):t.fieldFilter!==void 0?function(n){return Ue.create(fo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Y()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Yt.create(n.compositeFilter.filters.map(r=>JS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Y()}}(n.compositeFilter.op))}(t):Y()}function lH(t){return Z$[t]}function dH(t){return X$[t]}function hH(t){return eH[t]}function ho(t){return{fieldPath:t.canonicalString()}}function fo(t){return At.fromServerFormat(t.fieldPath)}function ZS(t){return t instanceof Ue?function(n){if(n.op==="=="){if(KA(n.value))return{unaryFilter:{field:ho(n.field),op:"IS_NAN"}};if(WA(n.value))return{unaryFilter:{field:ho(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(KA(n.value))return{unaryFilter:{field:ho(n.field),op:"IS_NOT_NAN"}};if(WA(n.value))return{unaryFilter:{field:ho(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ho(n.field),op:dH(n.op),value:n.value}}}(t):t instanceof Yt?function(n){let r=n.getFilters().map(i=>ZS(i));return r.length===1?r[0]:{compositeFilter:{op:hH(n.op),filters:r}}}(t):Y()}function fH(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function XS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Cc=class t{constructor(e,n,r,i,s=ne.min(),o=ne.min(),a=at.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var t_=class{constructor(e){this.ct=e}};function pH(t){let e=cH({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Bv(e,e.limit,"L"):e}var yh=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Ae(e.integerValue));else if("doubleValue"in e){let r=Ae(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),Ec(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Zn(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(zr(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?CS(e)?this.dt(n,Number.MAX_SAFE_INTEGER):bS(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):Y()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let s=e.fields||{};this.dt(n,53);let o="value",a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Ae(a)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),G.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};yh.vt=new yh;var n_=class{constructor(){this.un=new r_}addToCollectionParentIndex(e,n){return this.un.add(n),O.resolve()}getCollectionParents(e,n){return O.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return O.resolve()}deleteFieldIndex(e,n){return O.resolve()}deleteAllFieldIndexes(e){return O.resolve()}createTargetIndexes(e,n){return O.resolve()}getDocumentsMatchingTarget(e,n){return O.resolve(null)}getIndexType(e,n){return O.resolve(0)}getFieldIndexes(e,n){return O.resolve([])}getNextCollectionGroupToUpdate(e){return O.resolve(null)}getMinOffset(e,n){return O.resolve(Ui.min())}getMinOffsetFromCollectionGroup(e,n){return O.resolve(Ui.min())}updateCollectionGroup(e,n,r){return O.resolve()}updateIndexEntries(e,n){return O.resolve()}},r_=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ot(Re.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ot(Re.comparator)).toArray()}};var o7=new Uint8Array(0);var fn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(41943040,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);var Ac=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var i_=class{constructor(){this.changes=new Gr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Qt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?O.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var s_=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var o_=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ic(r.mutation,i,pn.empty(),Ze.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,de()).next(()=>r))}getLocalViewOfDocuments(e,n,r=de()){let i=Oi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=mc();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=Oi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,de()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Xn(),o=_c(),a=function(){return _c()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof er)?s=s.insert(l.key,l):h!==void 0?(o.set(l.key,h.mutation.getFieldMask()),Ic(h.mutation,l,h.mutation.getFieldMask(),Ze.now())):o.set(l.key,pn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,h)=>o.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new s_(h,(p=o.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=_c(),i=new xe((o,a)=>o-a),s=de();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||pn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||de()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=VS();h.forEach(m=>{if(!s.has(m)){let y=zS(n.get(m),r.get(m));y!==null&&p.set(m,y),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,p))}return O.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return G.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):PS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):O.resolve(Oi()),a=-1,u=s;return o.next(l=>O.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(h)?O.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,de())).next(h=>({batchId:a,changes:LS(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new G(n)).next(r=>{let i=mc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=mc();return this.indexManager.getCollectionParents(e,s).next(a=>O.forEach(a,u=>{let l=function(p,m){return new qr(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{o=o.insert(p,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,l)=>{let h=l.getKey();o.get(h)===null&&(o=o.insert(h,Qt.newInvalidDocument(h)))});let a=mc();return o.forEach((u,l)=>{let h=s.get(u);h!==void 0&&Ic(h.mutation,l,pn.empty(),Ze.now()),Lh(n,l)&&(a=a.insert(u,l))}),a})}};var a_=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return O.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:yn(i.createTime)}}(n)),O.resolve()}getNamedQuery(e,n){return O.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:pH(i.bundledQuery),readTime:yn(i.readTime)}}(n)),O.resolve()}};var c_=class{constructor(){this.overlays=new xe(G.comparator),this.Ir=new Map}getOverlay(e,n){return O.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Oi();return O.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),O.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),O.resolve()}getOverlaysForCollection(e,n,r){let i=Oi(),s=n.length+1,o=new G(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return O.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new xe((l,h)=>l-h),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=s.get(l.largestBatchId);h===null&&(h=Oi(),s=s.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Oi(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return O.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Gv(n,r));let s=this.Ir.get(n);s===void 0&&(s=de(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}};var u_=class{constructor(){this.sessionToken=at.EMPTY_BYTE_STRING}getSessionToken(e){return O.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,O.resolve()}};var Sc=class{constructor(){this.Tr=new ot(Ve.Er),this.dr=new ot(Ve.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new Ve(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Ve(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new G(new Re([])),r=new Ve(n,e),i=new Ve(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new G(new Re([])),r=new Ve(n,e),i=new Ve(n,e+1),s=de();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new Ve(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Ve=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return G.comparator(e.key,n.key)||ye(e.wr,n.wr)}static Ar(e,n){return ye(e.wr,n.wr)||G.comparator(e.key,n.key)}};var l_=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new ot(Ve.Er)}checkEmpty(e){return O.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new zv(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.br=this.br.add(new Ve(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return O.resolve(o)}lookupMutationBatch(e,n){return O.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),s=i<0?0:i;return O.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Ve(n,0),i=new Ve(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let a=this.Dr(o.wr);s.push(a)}),O.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ot(ye);return n.forEach(i=>{let s=new Ve(i,0),o=new Ve(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),O.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;G.isDocumentKey(s)||(s=s.child(""));let o=new Ve(new G(s),0),a=new ot(ye);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},o),O.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){De(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return O.forEach(n.mutations,i=>{let s=new Ve(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new Ve(n,0),i=this.br.firstAfterOrEqual(r);return O.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,O.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var d_=class{constructor(e){this.Mr=e,this.docs=function(){return new xe(G.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return O.resolve(r?r.document.mutableCopy():Qt.newInvalidDocument(n))}getEntries(e,n){let r=Xn();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Qt.newInvalidDocument(i))}),O.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Xn(),o=n.path,a=new G(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||D$(E$(h),r)<=0||(i.has(h.key)||Lh(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return O.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Y()}Or(e,n){return O.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new h_(this)}getSize(e){return O.resolve(this.size)}},h_=class extends i_{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),O.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var f_=class{constructor(e){this.persistence=e,this.Nr=new Gr(n=>iI(n),sI),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Sc,this.targetCount=0,this.kr=Ac.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),O.resolve()}getLastRemoteSnapshotVersion(e){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return O.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),O.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new Ac(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,O.resolve()}updateTargetData(e,n){return this.Kn(n),O.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,O.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),O.waitFor(s).next(()=>i)}getTargetCount(e){return O.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return O.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),O.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),O.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),O.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return O.resolve(r)}containsKey(e,n){return O.resolve(this.Br.containsKey(n))}};var p_=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new DS(0),this.Kr=!1,this.Kr=!0,this.$r=new u_,this.referenceDelegate=e(this),this.Ur=new f_(this),this.indexManager=new n_,this.remoteDocumentCache=function(i){return new d_(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new t_(n),this.Gr=new a_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new c_,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new l_(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){j("MemoryPersistence","Starting transaction:",e);let i=new g_(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return O.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},g_=class extends Cv{constructor(e){super(),this.currentSequenceNumber=e}},m_=class t{constructor(e){this.persistence=e,this.Jr=new Sc,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw Y()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),O.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),O.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),O.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.Xr,r=>{let i=G.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,ne.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return O.or([()=>O.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var y_=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=de(),i=de();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var v_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var __=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return WC()?8:b$(Ge())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new v_;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(gc()<=le.DEBUG&&j("QueryEngine","SDK will not create cache indexes for query:",lo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),O.resolve()):(gc()<=le.DEBUG&&j("QueryEngine","Query:",lo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(gc()<=le.DEBUG&&j("QueryEngine","The SDK decides to create cache indexes for query:",lo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mn(n))):O.resolve())}Yi(e,n){if(ZA(n))return O.resolve(null);let r=mn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Bv(n,null,"F"),r=mn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=de(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,a);return this.ns(n,l,o,u.readTime)?this.Yi(e,Bv(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return ZA(n)||i.isEqual(ne.min())?O.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(n,s);return this.ns(n,o,r,i)?O.resolve(null):(gc()<=le.DEBUG&&j("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),lo(n)),this.rs(e,o,n,w$(i,-1)).next(a=>a))})}ts(e,n){let r=new ot(kS(e));return n.forEach((i,s)=>{Lh(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return gc()<=le.DEBUG&&j("QueryEngine","Using full collection scan to execute query:",lo(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ui.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var I_=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new xe(ye),this._s=new Gr(s=>iI(s),sI),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new o_(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function gH(t,e,n,r){return new I_(t,e,n,r)}function eR(t,e){return w(this,null,function*(){let n=ee(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],u=de();for(let l of i){o.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of s){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:o,addedBatchIds:a}))})})})}function mH(t,e){let n=ee(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,m=p.keys(),y=O.resolve();return m.forEach(C=>{y=y.next(()=>h.getEntry(u,C)).next(M=>{let R=l.docVersions.get(C);De(R!==null),M.version.compareTo(R)<0&&(p.applyToRemoteDocument(M,l),M.isValidDocument()&&(M.setReadTime(l.commitVersion),h.addEntry(M)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=de();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function tR(t){let e=ee(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function yH(t,e){let n=ee(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(n.Ur.removeMatchingKeys(s,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(s,h.addedDocuments,p)));let y=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(at.EMPTY_BYTE_STRING,ne.min()).withLastLimboFreeSnapshotVersion(ne.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(M,R,x){return M.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(m,y,h)&&a.push(n.Ur.updateTargetData(s,y))});let u=Xn(),l=de();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(vH(s,o,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(ne.min())){let h=n.Ur.getLastRemoteSnapshotVersion(s).next(p=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return O.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.os=i,s))}function vH(t,e,n){let r=de(),i=de();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Xn();return n.forEach((a,u)=>{let l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ne.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):j("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function _H(t,e){let n=ee(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function IH(t,e){let n=ee(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,O.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Cc(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function w_(t,e,n){return w(this,null,function*(){let r=ee(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!kc(o))throw o;j("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function uS(t,e,n){let r=ee(t),i=ne.min(),s=de();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,h){let p=ee(u),m=p._s.get(h);return m!==void 0?O.resolve(p.os.get(m)):p.Ur.getTargetData(l,h)}(r,o,mn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:ne.min(),n?s:de())).next(a=>(wH(r,F$(e),a),{documents:a,Ts:s})))}function wH(t,e,n){let r=t.us.get(e)||ne.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}var vh=class{constructor(){this.activeTargetIds=$$()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var E_=class{constructor(){this.so=new vh,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new vh,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var D_=class{_o(e){}shutdown(){}};var _h=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){j("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){j("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var th=null;function gv(){return th===null?th=function(){return 268435456+Math.round(2147483648*Math.random())}():th++,"0x"+th.toString(16)}var EH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var T_=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var st="WebChannelConnection",b_=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){let a=gv(),u=this.xo(n,r.toUriEncodedString());j("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,o),this.No(n,u,l,i).then(h=>(j("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw yo("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ro}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){let i=EH[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let s=gv();return new Promise((o,a)=>{let u=new cv;u.setWithCredentials(!0),u.listenOnce(lv.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case pc.NO_ERROR:let h=u.getResponseJson();j(st,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case pc.TIMEOUT:j(st,`RPC '${e}' ${s} timed out`),a(new V(N.DEADLINE_EXCEEDED,"Request time out"));break;case pc.HTTP_ERROR:let p=u.getStatus();if(j(st,`RPC '${e}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let y=m?.error;if(y&&y.status&&y.message){let C=function(R){let x=R.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(x)>=0?x:N.UNKNOWN}(y.status);a(new V(C,y.message))}else a(new V(N.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new V(N.UNAVAILABLE,"Connection failed."));break;default:Y()}}finally{j(st,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);j(st,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=gv(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=fv(),a=hv(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new uv({})),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=s.join("");j(st,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=o.createWebChannel(h,u),m=!1,y=!1,C=new T_({Io:R=>{y?j(st,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(j(st,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),j(st,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},To:()=>p.close()}),M=(R,x,B)=>{R.listen(x,z=>{try{B(z)}catch(q){setTimeout(()=>{throw q},0)}})};return M(p,uo.EventType.OPEN,()=>{y||(j(st,`RPC '${e}' stream ${i} transport opened.`),C.yo())}),M(p,uo.EventType.CLOSE,()=>{y||(y=!0,j(st,`RPC '${e}' stream ${i} transport closed`),C.So())}),M(p,uo.EventType.ERROR,R=>{y||(y=!0,yo(st,`RPC '${e}' stream ${i} transport errored:`,R),C.So(new V(N.UNAVAILABLE,"The operation could not be completed")))}),M(p,uo.EventType.MESSAGE,R=>{var x;if(!y){let B=R.data[0];De(!!B);let z=B,q=z.error||((x=z[0])===null||x===void 0?void 0:x.error);if(q){j(st,`RPC '${e}' stream ${i} received error:`,q);let Ie=q.status,W=function(_){let D=Le[_];if(D!==void 0)return GS(D)}(Ie),E=q.message;W===void 0&&(W=N.INTERNAL,E="Unknown error status: "+Ie+" with message "+q.message),y=!0,C.So(new V(W,E)),p.close()}else j(st,`RPC '${e}' stream ${i} received:`,B),C.bo(B)}}),M(a,dv.STAT_EVENT,R=>{R.stat===Xd.PROXY?j(st,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Xd.NOPROXY&&j(st,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.wo()},0),C}};function mv(){return typeof document<"u"?document:null}function Vh(t){return new Yv(t,!0)}var Ih=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&j("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var wh=class{constructor(e,n,r,i,s,o,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Ih(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return w(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return w(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return w(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(Jn(n.toString()),Jn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new V(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>w(this,null,function*(){this.state=0,this.start()}))}I_(e){return j("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(j("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},C_=class extends wh{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=rH(this.serializer,e),r=function(s){if(!("targetChange"in s))return ne.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?ne.min():o.readTime?yn(o.readTime):ne.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=e_(this.serializer),n.addTarget=function(s,o){let a,u=o.target;if(a=Uv(u)?{documents:oH(s,u)}:{query:aH(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=WS(s,o.resumeToken);let l=Jv(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(ne.min())>0){a.readTime=mh(s,o.snapshotVersion.toTimestamp());let l=Jv(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=uH(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=e_(this.serializer),n.removeTarget=e,this.a_(n)}},A_=class extends wh{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return De(!!e.streamToken),this.lastStreamToken=e.streamToken,De(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){De(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=sH(e.writeResults,e.commitTime),r=yn(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=e_(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>iH(this.serializer,r))};this.a_(n)}};var S_=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new V(N.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Zv(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new V(N.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Zv(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new V(N.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},R_=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Jn(n),this.D_=!1):j("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var N_=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>w(this,null,function*(){Gi(this)&&(j("RemoteStore","Restarting streams for network reachability change."),yield function(u){return w(this,null,function*(){let l=ee(u);l.L_.add(4),yield Fc(l),l.q_.set("Unknown"),l.L_.delete(4),yield Uh(l)})}(this))}))}),this.q_=new R_(r,i)}};function Uh(t){return w(this,null,function*(){if(Gi(t))for(let e of t.B_)yield e(!0)})}function Fc(t){return w(this,null,function*(){for(let e of t.B_)yield e(!1)})}function nR(t,e){let n=ee(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),hI(n)?dI(n):Mo(n).r_()&&lI(n,e))}function uI(t,e){let n=ee(t),r=Mo(n);n.N_.delete(e),r.r_()&&rR(n,e),n.N_.size===0&&(r.r_()?r.o_():Gi(n)&&n.q_.set("Unknown"))}function lI(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ne.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Mo(t).A_(e)}function rR(t,e){t.Q_.xe(e),Mo(t).R_(e)}function dI(t){t.Q_=new Qv({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Mo(t).start(),t.q_.v_()}function hI(t){return Gi(t)&&!Mo(t).n_()&&t.N_.size>0}function Gi(t){return ee(t).L_.size===0}function iR(t){t.Q_=void 0}function DH(t){return w(this,null,function*(){t.q_.set("Online")})}function TH(t){return w(this,null,function*(){t.N_.forEach((e,n)=>{lI(t,e)})})}function bH(t,e){return w(this,null,function*(){iR(t),hI(t)?(t.q_.M_(e),dI(t)):t.q_.set("Unknown")})}function CH(t,e,n){return w(this,null,function*(){if(t.q_.set("Online"),e instanceof ph&&e.state===2&&e.cause)try{yield function(i,s){return w(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){j("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Eh(t,r)}else if(e instanceof go?t.Q_.Ke(e):e instanceof fh?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ne.min()))try{let r=yield tR(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.Q_.rt(o);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=s.N_.get(l);h&&s.N_.set(l,h.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,l)=>{let h=s.N_.get(u);if(!h)return;s.N_.set(u,h.withResumeToken(at.EMPTY_BYTE_STRING,h.snapshotVersion)),rR(s,u);let p=new Cc(h.target,u,l,h.sequenceNumber);lI(s,p)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){j("RemoteStore","Failed to raise snapshot:",r),yield Eh(t,r)}})}function Eh(t,e,n){return w(this,null,function*(){if(!kc(e))throw e;t.L_.add(1),yield Fc(t),t.q_.set("Offline"),n||(n=()=>tR(t.localStore)),t.asyncQueue.enqueueRetryable(()=>w(this,null,function*(){j("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield Uh(t)}))})}function sR(t,e){return e().catch(n=>Eh(t,n,e))}function jh(t){return w(this,null,function*(){let e=ee(t),n=Wr(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;AH(e);)try{let i=yield _H(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,SH(e,i)}catch(i){yield Eh(e,i)}oR(e)&&aR(e)})}function AH(t){return Gi(t)&&t.O_.length<10}function SH(t,e){t.O_.push(e);let n=Wr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function oR(t){return Gi(t)&&!Wr(t).n_()&&t.O_.length>0}function aR(t){Wr(t).start()}function RH(t){return w(this,null,function*(){Wr(t).p_()})}function NH(t){return w(this,null,function*(){let e=Wr(t);for(let n of t.O_)e.m_(n.mutations)})}function MH(t,e,n){return w(this,null,function*(){let r=t.O_.shift(),i=qv.from(r,e,n);yield sR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield jh(t)})}function xH(t,e){return w(this,null,function*(){e&&Wr(t).V_&&(yield function(r,i){return w(this,null,function*(){if(function(o){return Q$(o)&&o!==N.ABORTED}(i.code)){let s=r.O_.shift();Wr(r).s_(),yield sR(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield jh(r)}})}(t,e)),oR(t)&&aR(t)})}function lS(t,e){return w(this,null,function*(){let n=ee(t);n.asyncQueue.verifyOperationInProgress(),j("RemoteStore","RemoteStore received new credentials");let r=Gi(n);n.L_.add(3),yield Fc(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield Uh(n)})}function PH(t,e){return w(this,null,function*(){let n=ee(t);e?(n.L_.delete(2),yield Uh(n)):e||(n.L_.add(2),yield Fc(n),n.q_.set("Unknown"))})}function Mo(t){return t.K_||(t.K_=function(n,r,i){let s=ee(n);return s.w_(),new C_(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:DH.bind(null,t),Ro:TH.bind(null,t),mo:bH.bind(null,t),d_:CH.bind(null,t)}),t.B_.push(e=>w(this,null,function*(){e?(t.K_.s_(),hI(t)?dI(t):t.q_.set("Unknown")):(yield t.K_.stop(),iR(t))}))),t.K_}function Wr(t){return t.U_||(t.U_=function(n,r,i){let s=ee(n);return s.w_(),new A_(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:RH.bind(null,t),mo:xH.bind(null,t),f_:NH.bind(null,t),g_:MH.bind(null,t)}),t.B_.push(e=>w(this,null,function*(){e?(t.U_.s_(),yield jh(t)):(yield t.U_.stop(),t.O_.length>0&&(j("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var M_=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Yn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new V(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function fI(t,e){if(Jn("AsyncQueue",`${e}: ${t}`),kc(t))return new V(N.UNAVAILABLE,`${e}: ${t}`);throw t}var Dh=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||G.comparator(n.key,r.key):(n,r)=>G.comparator(n.key,r.key),this.keyedMap=mc(),this.sortedSet=new xe(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Th=class{constructor(){this.W_=new xe(G.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Y():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},Co=class t{constructor(e,n,r,i,s,o,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,Dh.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var x_=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},P_=class{constructor(){this.queries=dS(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=ee(n),s=i.queries;i.queries=dS(),s.forEach((o,a)=>{for(let u of a.j_)u.onError(r)})})(this,new V(N.ABORTED,"Firestore shutting down"))}};function dS(){return new Gr(t=>OS(t),Fh)}function OH(t,e){return w(this,null,function*(){let n=ee(t),r=3,i=e.query,s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new x_,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield n.onListen(i,!0);break;case 1:s.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){let a=fI(o,`Initialization of query '${lo(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&pI(n)})}function kH(t,e){return w(this,null,function*(){let n=ee(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function FH(t,e){let n=ee(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&pI(n)}function LH(t,e,n){let r=ee(t),i=r.queries.get(e);if(i)for(let s of i.j_)s.onError(n);r.queries.delete(e)}function pI(t){t.Y_.forEach(e=>{e.next()})}var O_,hS;(hS=O_||(O_={})).ea="default",hS.Cache="cache";var k_=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Co(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Co.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==O_.Cache}};var bh=class{constructor(e){this.key=e}},Ch=class{constructor(e){this.key=e}},F_=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=de(),this.mutatedKeys=de(),this.Aa=kS(e),this.Ra=new Dh(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new Th,i=n?n.Ra:this.Ra,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=Lh(this.query,p)?p:null,C=!!m&&this.mutatedKeys.has(m.key),M=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),R=!1;m&&y?m.data.isEqual(y.data)?C!==M&&(r.track({type:3,doc:y}),R=!0):this.ga(m,y)||(r.track({type:2,doc:y}),R=!0,(u&&this.Aa(y,u)>0||l&&this.Aa(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),R=!0):m&&!y&&(r.track({type:1,doc:m}),R=!0,(u||l)&&(a=!0)),R&&(y?(o=o.add(y),s=M?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((h,p)=>function(y,C){let M=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Y()}};return M(y)-M(C)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,o.length!==0||l?{snapshot:new Co(this.query,e.Ra,s,o,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Th,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=de(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new Ch(r))}),this.da.forEach(r=>{e.has(r)||n.push(new bh(r))}),n}ba(e){this.Ta=e.Ts,this.da=de();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Co.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},L_=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},V_=class{constructor(e){this.key=e,this.va=!1}},U_=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Gr(a=>OS(a),Fh),this.Ma=new Map,this.xa=new Set,this.Oa=new xe(G.comparator),this.Na=new Map,this.La=new Sc,this.Ba={},this.ka=new Map,this.qa=Ac.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function VH(t,e,n=!0){return w(this,null,function*(){let r=fR(t),i,s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield cR(r,e,n,!0),i})}function UH(t,e){return w(this,null,function*(){let n=fR(t);yield cR(n,e,!0,!1)})}function cR(t,e,n,r){return w(this,null,function*(){let i=yield IH(t.localStore,mn(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current",a;return r&&(a=yield jH(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&nR(t.remoteStore,i),a})}function jH(t,e,n,r,i){return w(this,null,function*(){t.Ka=(p,m,y)=>function(M,R,x,B){return w(this,null,function*(){let z=R.view.ma(x);z.ns&&(z=yield uS(M.localStore,R.query,!1).then(({documents:E})=>R.view.ma(E,z)));let q=B&&B.targetChanges.get(R.targetId),Ie=B&&B.targetMismatches.get(R.targetId)!=null,W=R.view.applyChanges(z,M.isPrimaryClient,q,Ie);return pS(M,R.targetId,W.wa),W.snapshot})}(t,p,m,y);let s=yield uS(t.localStore,e,!0),o=new F_(e,s.Ts),a=o.ma(s.documents),u=bc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=o.applyChanges(a,t.isPrimaryClient,u);pS(t,n,l.wa);let h=new L_(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function BH(t,e,n){return w(this,null,function*(){let r=ee(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Fh(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield w_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&uI(r.remoteStore,i.targetId),j_(r,i.targetId)}).catch(Oc))):(j_(r,i.targetId),yield w_(r.localStore,i.targetId,!0))})}function $H(t,e){return w(this,null,function*(){let n=ee(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),uI(n.remoteStore,r.targetId))})}function HH(t,e,n){return w(this,null,function*(){let r=YH(t);try{let i=yield function(o,a){let u=ee(o),l=Ze.now(),h=a.reduce((y,C)=>y.add(C.key),de()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let C=Xn(),M=de();return u.cs.getEntries(y,h).next(R=>{C=R,C.forEach((x,B)=>{B.isValidDocument()||(M=M.add(x))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,C)).next(R=>{p=R;let x=[];for(let B of a){let z=K$(B,p.get(B.key).overlayedDocument);z!=null&&x.push(new er(B.key,z,AS(z.value.mapValue),Li.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,x,a)}).next(R=>{m=R;let x=R.applyToLocalDocumentSet(p,M);return u.documentOverlayCache.saveOverlays(y,R.batchId,x)})}).then(()=>({batchId:m.batchId,changes:LS(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let l=o.Ba[o.currentUser.toKey()];l||(l=new xe(ye)),l=l.insert(a,u),o.Ba[o.currentUser.toKey()]=l}(r,i.batchId,n),yield Lc(r,i.changes),yield jh(r.remoteStore)}catch(i){let s=fI(i,"Failed to persist write");n.reject(s)}})}function uR(t,e){return w(this,null,function*(){let n=ee(t);try{let r=yield yH(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Na.get(s);o&&(De(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?De(o.va):i.removedDocuments.size>0&&(De(o.va),o.va=!1))}),yield Lc(n,r,e)}catch(r){yield Oc(r)}})}function fS(t,e,n){let r=ee(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((s,o)=>{let a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let u=ee(o);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.j_)m.Z_(a)&&(l=!0)}),l&&pI(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function zH(t,e,n){return w(this,null,function*(){let r=ee(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),s=i&&i.key;if(s){let o=new xe(G.comparator);o=o.insert(s,Qt.newNoDocument(s,ne.min()));let a=de().add(s),u=new hh(ne.min(),new Map,new xe(ye),o,a);yield uR(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),gI(r)}else yield w_(r.localStore,e,!1).then(()=>j_(r,e,n)).catch(Oc)})}function qH(t,e){return w(this,null,function*(){let n=ee(t),r=e.batch.batchId;try{let i=yield mH(n.localStore,e);dR(n,r,null),lR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Lc(n,i)}catch(i){yield Oc(i)}})}function GH(t,e,n){return w(this,null,function*(){let r=ee(t);try{let i=yield function(o,a){let u=ee(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(De(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);dR(r,e,n),lR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Lc(r,i)}catch(i){yield Oc(i)}})}function lR(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function dR(t,e,n){let r=ee(t),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function j_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||hR(t,r)})}function hR(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(uI(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),gI(t))}function pS(t,e,n){for(let r of n)r instanceof bh?(t.La.addReference(r.key,e),WH(t,r)):r instanceof Ch?(j("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||hR(t,r.key)):Y()}function WH(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(j("SyncEngine","New document in limbo: "+n),t.xa.add(r),gI(t))}function gI(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new G(Re.fromString(e)),r=t.qa.next();t.Na.set(r,new V_(n)),t.Oa=t.Oa.insert(n,r),nR(t.remoteStore,new Cc(mn(oI(n.path)),r,"TargetPurposeLimboResolution",DS.oe))}}function Lc(t,e,n){return w(this,null,function*(){let r=ee(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{o.push(r.Ka(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=y_.Wi(u.targetId,l);s.push(p)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(u,l){return w(this,null,function*(){let h=ee(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>O.forEach(l,m=>O.forEach(m.$i,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>O.forEach(m.Ui,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!kc(p))throw p;j("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.os.get(m),C=y.snapshotVersion,M=y.withLastLimboFreeSnapshotVersion(C);h.os=h.os.insert(m,M)}}})}(r.localStore,s))})}function KH(t,e){return w(this,null,function*(){let n=ee(t);if(!n.currentUser.isEqual(e)){j("SyncEngine","User change. New user:",e.toKey());let r=yield eR(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(u=>{u.reject(new V(N.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Lc(n,r.hs)}})}function QH(t,e){let n=ee(t),r=n.Na.get(e);if(r&&r.va)return de().add(r.key);{let i=de(),s=n.Ma.get(e);if(!s)return i;for(let o of s){let a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function fR(t){let e=ee(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=uR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=QH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zH.bind(null,e),e.Ca.d_=FH.bind(null,e.eventManager),e.Ca.$a=LH.bind(null,e.eventManager),e}function YH(t){let e=ee(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=GH.bind(null,e),e}var Ah=class{constructor(){this.synchronizeTabs=!1}initialize(e){return w(this,null,function*(){this.serializer=Vh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return gH(this.persistence,new __,e.initialUser,this.serializer)}createPersistence(e){return new p_(m_.Zr,this.serializer)}createSharedClientState(e){return new E_}terminate(){return w(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var B_=class{initialize(e,n){return w(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>fS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=KH.bind(null,this.syncEngine),yield PH(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new P_}()}createDatastore(e){let n=Vh(e.databaseInfo.databaseId),r=function(s){return new b_(s)}(e.databaseInfo);return function(s,o,a,u){return new S_(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new N_(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>fS(this.syncEngine,n,0),function(){return _h.D()?new _h:new D_}())}createSyncEngine(e,n){return function(i,s,o,a,u,l,h){let p=new U_(i,s,o,a,u,l);return h&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return w(this,null,function*(){var e,n;yield function(i){return w(this,null,function*(){let s=ee(i);j("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield Fc(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()})}};var $_=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):Jn("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var H_=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=We.UNAUTHENTICATED,this.clientId=sh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>w(this,null,function*(){j("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(j("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new V(N.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Yn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>w(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=fI(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function yv(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),j("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>w(this,null,function*(){r.isEqual(i)||(yield eR(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function gS(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield ZH(t);j("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>lS(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>lS(e.remoteStore,i)),t._onlineComponents=e})}function JH(t){return t.name==="FirebaseError"?t.code===N.FAILED_PRECONDITION||t.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function ZH(t){return w(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){j("FirestoreClient","Using user provided OfflineComponentProvider");try{yield yv(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!JH(n))throw n;yo("Error using user provided cache. Falling back to memory cache: "+n),yield yv(t,new Ah)}}else j("FirestoreClient","Using default OfflineComponentProvider"),yield yv(t,new Ah);return t._offlineComponents})}function pR(t){return w(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(j("FirestoreClient","Using user provided OnlineComponentProvider"),yield gS(t,t._uninitializedComponentsProvider._online)):(j("FirestoreClient","Using default OnlineComponentProvider"),yield gS(t,new B_))),t._onlineComponents})}function XH(t){return pR(t).then(e=>e.syncEngine)}function mS(t){return w(this,null,function*(){let e=yield pR(t),n=e.eventManager;return n.onListen=VH.bind(null,e.syncEngine),n.onUnlisten=BH.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=UH.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=$H.bind(null,e.syncEngine),n})}function gR(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var yS=new Map;function mR(t,e,n){if(!n)throw new V(N.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function ez(t,e,n,r){if(e===!0&&r===!0)throw new V(N.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function vS(t){if(!G.isDocumentKey(t))throw new V(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function _S(t){if(G.isDocumentKey(t))throw new V(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Bh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Y()}function wc(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new V(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Bh(t);throw new V(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Sh=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new V(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new V(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ez("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new V(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new V(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new V(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ao=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Sh({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new V(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new V(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Sh(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new vv;switch(r.type){case"firstParty":return new Ev(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new V(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=yS.get(n);r&&(j("ComponentProvider","Removing Datastore"),yS.delete(n),r.terminate())}(this),Promise.resolve()}};function yR(t,e,n,r={}){var i;let s=(t=wc(t,Ao))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&yo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=We.MOCK_USER;else{a=$C(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new V(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new We(l)}t._authCredentials=new _v(new ih(a,u))}}var qi=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},St=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Hr=class t extends qi{constructor(e,n,r){super(e,n,oI(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new St(this.firestore,null,new G(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function vR(t,e,...n){if(t=it(t),mR("collection","path",e),t instanceof Ao){let r=Re.fromString(e,...n);return _S(r),new Hr(t,null,r)}{if(!(t instanceof St||t instanceof Hr))throw new V(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Re.fromString(e,...n));return _S(r),new Hr(t.firestore,null,r)}}function _R(t,e,...n){if(t=it(t),arguments.length===1&&(e=sh.newId()),mR("doc","path",e),t instanceof Ao){let r=Re.fromString(e,...n);return vS(r),new St(t,null,new G(r))}{if(!(t instanceof St||t instanceof Hr))throw new V(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Re.fromString(e,...n));return vS(r),new St(t.firestore,t instanceof Hr?t.converter:null,new G(r))}}var z_=class{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new Ih(this,"async_queue_retry"),this.Eu=()=>{let n=mv();n&&j("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};let e=mv();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;let n=mv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});let n=new Yn;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){return w(this,null,function*(){if(this.uu.length!==0){try{yield this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!kc(e))throw e;j("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}})}Au(e){let n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Jn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);let i=M_.createAndSchedule(this,e,n,r,s=>this.Vu(s));return this.lu.push(i),i}du(){this.hu&&Y()}verifyOperationInProgress(){}mu(){return w(this,null,function*(){let e;do e=this.au,yield e;while(e!==this.au)})}fu(e){for(let n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){let n=this.lu.indexOf(e);this.lu.splice(n,1)}};function IS(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var So=class extends Ao{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new z_}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||ER(this),this._firestoreClient.terminate()}};function IR(t,e){let n=typeof t=="object"?t:Ys(),r=typeof t=="string"?t:e||"(default)",i=Ya(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=BC("firestore");s&&yR(i,...s)}return i}function wR(t){return t._firestoreClient||ER(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function ER(t){var e,n,r;let i=t._freezeSettings(),s=function(a,u,l,h){return new Av(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,gR(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new H_(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var Rc=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(at.fromBase64String(e))}catch(n){throw new V(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(at.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Nc=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new V(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new At(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Rh=class{constructor(e){this._methodName=e}};var Mc=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new V(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new V(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ye(this._lat,e._lat)||ye(this._long,e._long)}};var xc=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var tz=/^__.*__$/,q_=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new er(e,this.data,this.fieldMask,n,this.fieldTransforms):new zi(e,this.data,n,this.fieldTransforms)}};function DR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Y()}}var G_=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.yu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return Nh(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(DR(this.wu)&&tz.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}},W_=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Vh(e)}Nu(e,n,r,i=!1){return new G_({wu:e,methodName:n,Ou:r,path:At.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function TR(t){let e=t._freezeSettings(),n=Vh(t._databaseId);return new W_(t._databaseId,!!e.ignoreUndefinedProperties,n)}function nz(t,e,n,r,i,s={}){let o=t.Nu(s.merge||s.mergeFields?2:0,e,n,i);AR("Data must be an object, but it was:",o,r);let a=bR(r,o),u,l;if(s.merge)u=new pn(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let h=[];for(let p of s.mergeFields){let m=iz(e,p,n);if(!o.contains(m))throw new V(N.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);oz(h,m)||h.push(m)}u=new pn(h),l=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=o.fieldTransforms;return new q_(new Kt(a),u,l)}function rz(t,e,n,r=!1){return mI(n,t.Nu(r?4:3,e))}function mI(t,e){if(CR(t=it(t)))return AR("Unsupported field value:",e,t),bR(t,e);if(t instanceof Rh)return function(r,i){if(!DR(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let u=mI(a,i.Fu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=it(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return H$(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=Ze.fromDate(r);return{timestampValue:mh(i.serializer,s)}}if(r instanceof Ze){let s=new Ze(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:mh(i.serializer,s)}}if(r instanceof Mc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Rc)return{bytesValue:WS(i.serializer,r._byteString)};if(r instanceof St){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:cI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof xc)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Mu("VectorValues must only contain numeric values.");return aI(a.serializer,u)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${Bh(r)}`)}(t,e)}function bR(t,e){let n={};return TS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):No(t,(r,i)=>{let s=mI(i,e.bu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function CR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ze||t instanceof Mc||t instanceof Rc||t instanceof St||t instanceof Rh||t instanceof xc)}function AR(t,e,n){if(!CR(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Bh(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function iz(t,e,n){if((e=it(e))instanceof Nc)return e._internalPath;if(typeof e=="string")return SR(t,e);throw Nh("Field path arguments must be of type string or ",t,!1,void 0,n)}var sz=new RegExp("[~\\*/\\[\\]]");function SR(t,e,n){if(e.search(sz)>=0)throw Nh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Nc(...e.split("."))._internalPath}catch{throw Nh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Nh(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new V(N.INVALID_ARGUMENT,a+t+u)}function oz(t,e){return t.some(n=>n.isEqual(e))}var Mh=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new St(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new K_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(yI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},K_=class extends Mh{data(){return super.data()}};function yI(t,e){return typeof e=="string"?SR(t,e):e instanceof Nc?e._internalPath:e._delegate._internalPath}function az(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new V(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Pc=class{},xh=class extends Pc{};function vI(t,e,...n){let r=[];e instanceof Pc&&r.push(e),r=r.concat(n),function(s){let o=s.filter(u=>u instanceof Y_).length,a=s.filter(u=>u instanceof Q_).length;if(o>1||o>0&&a>0)throw new V(N.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var Q_=class t extends xh{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return RR(e._query,n),new qi(e.firestore,e.converter,jv(e._query,n))}_parse(e){let n=TR(e.firestore);return function(s,o,a,u,l,h,p){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new V(N.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){ES(p,h);let y=[];for(let C of p)y.push(wS(u,s,C));m={arrayValue:{values:y}}}else m=wS(u,s,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||ES(p,h),m=rz(a,o,p,h==="in"||h==="not-in");return Ue.create(l,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};var Y_=class t extends Pc{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Yt.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let u of a)RR(o,u),o=jv(o,u)}(e._query,n),new qi(e.firestore,e.converter,jv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var J_=class t extends xh{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,s,o){if(i.startAt!==null)throw new V(N.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new V(N.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Bi(s,o)}(e._query,this._field,this._direction);return new qi(e.firestore,e.converter,function(i,s){let o=i.explicitOrderBy.concat([s]);return new qr(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function _I(t,e="asc"){let n=e,r=yI("orderBy",t);return J_._create(r,n)}function wS(t,e,n){if(typeof(n=it(n))=="string"){if(n==="")throw new V(N.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!PS(e)&&n.indexOf("/")!==-1)throw new V(N.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Re.fromString(n));if(!G.isDocumentKey(r))throw new V(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return GA(t,new G(r))}if(n instanceof St)return GA(t,n._key);throw new V(N.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bh(n)}.`)}function ES(t,e){if(!Array.isArray(t)||t.length===0)throw new V(N.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function RR(t,e){let n=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new V(N.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new V(N.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var Z_=class{convertValue(e,n="none"){switch(ji(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ae(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(zr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Y()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return No(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;let s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Ae(o.doubleValue));return new xc(s)}convertGeoPoint(e){return new Mc(Ae(e.latitude),Ae(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=nI(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Dc(e));default:return null}}convertTimestamp(e){let n=Zn(e);return new Ze(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Re.fromString(e);De(XS(r));let i=new uh(r.get(1),r.get(3)),s=new G(r.popFirst(5));return i.isEqual(n)||Jn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function cz(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Fi=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Ph=class extends Mh{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new mo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(yI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},mo=class extends Ph{data(e={}){return super.data(e)}},X_=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Fi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new mo(this._firestore,this._userDataWriter,r.key,r,new Fi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new V(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let u=new mo(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Fi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let u=new mo(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Fi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:uz(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function uz(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Y()}}var Oh=class extends Z_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rc(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new St(this.firestore,null,n)}};function NR(t,e){let n=wc(t.firestore,So),r=_R(t),i=cz(t.converter,e);return lz(n,[nz(TR(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Li.exists(!1))]).then(()=>r)}function II(t,...e){var n,r,i;t=it(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||IS(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(IS(e[o])){let p=e[o];e[o]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[o+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[o+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof St)l=wc(t.firestore,So),h=oI(t._key.path),u={next:p=>{e[o]&&e[o](dz(l,t,p))},error:e[o+1],complete:e[o+2]};else{let p=wc(t,qi);l=wc(p.firestore,So),h=p._query;let m=new Oh(l);u={next:y=>{e[o]&&e[o](new X_(l,m,p,y))},error:e[o+1],complete:e[o+2]},az(t._query)}return function(m,y,C,M){let R=new $_(M),x=new k_(y,R,C);return m.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return OH(yield mS(m),x)})),()=>{R.za(),m.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return kH(yield mS(m),x)}))}}(wR(l),h,a,u)}function lz(t,e){return function(r,i){let s=new Yn;return r.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return HH(yield XH(r),i,s)})),s.promise}(wR(t),e)}function dz(t,e,n){let r=n.docs.get(e._key),i=new Oh(t);return new Ph(t,i,e._key,r,new Fi(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Ro=i})(Or),Pr(new Lt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new So(new Iv(r.getProvider("auth-internal")),new Tv(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new V(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uh(l.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),$e($A,"4.7.1",e),$e($A,"4.7.1","esm2017")})();var $h=function(){return $h=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},$h.apply(this,arguments)};var pz={includeMetadataChanges:!1};function MR(t,e){return e===void 0&&(e=pz),new se(function(n){var r=II(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function xR(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:$h($h({},r),(n={},n[e.idField]=t.id,n))}function PR(t){return MR(t,{includeMetadataChanges:!0}).pipe(Z(function(e){return e.docs}))}function OR(t,e){return e===void 0&&(e={}),PR(t).pipe(Z(function(n){return n.map(function(r){return xR(r,e)})}))}var Wi=class{constructor(e){return e}},kR="firestore",wI=class{constructor(){return Ja(kR)}};var EI=new U("angularfire2.firestore-instances");function gz(t,e){let n=Id(kR,t,e);return n&&new Wi(n)}function mz(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Wi(r)}}var yz={provide:wI,deps:[[new Ye,EI]]},vz={provide:Wi,useFactory:gz,deps:[[new Ye,EI],zn]};function VQ(t,...e){return $e("angularfire",Ai.full,"fst"),xt([vz,yz,{provide:EI,useFactory:mz(t),multi:!0,deps:[me,He,Xs,Si,[new Ye,oc],[new Ye,Zs],...e]}])}var FR=Wt(OR,!0);var LR=Wt(NR,!0);var DI=Wt(vR,!0);var UQ=Wt(IR,!0);var Hh=class t{userSource=new Be(null);currentUser=this.userSource.asObservable();user="";constructor(){}setUser(e){this.userSource.next(e),this.user=e}getUser(){return this.user}getUserNow(){return this.currentUser}static \u0275fac=function(n){return new(n||t)};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})};var VR=class t{constructor(e,n,r){this.firestore=e;this.auth=n;this.dataservice=r}sub;loginsCollection=[];useractual;newMessage="";nameGame="";puntosJugador=0;jugador="";getData(e){let n=DI(this.firestore,e),r=vI(n,_I("fecha","desc"));return FR(r)}sendPuntuaje(e,n,r){console.log(e);let i=DI(this.firestore,e),a={fecha:new Date().toLocaleString("es-AR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}),juego:e,puntos:n,nombre:r};LR(i,a).then(()=>{console.log("Documento agregado con \xE9xito")}).catch(u=>{console.error("Error al agregar documento: ",u)})}static \u0275fac=function(n){return new(n||t)(H(Wi),H(Pi),H(Hh))};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})};export{w as a,L as b,on as c,H as d,P as e,hD as f,an as g,V9 as h,U9 as i,Se as j,j9 as k,B9 as l,$9 as m,X as n,_k as o,Mk as p,eb as q,tb as r,kg as s,qk as t,Gk as u,G9 as v,kn as w,W9 as x,Zk as y,K9 as z,Xk as A,e1 as B,Q9 as C,n1 as D,ib as E,r1 as F,Y9 as G,i1 as H,ob as I,J9 as J,Z9 as K,D6 as L,T6 as M,b6 as N,C6 as O,L1 as P,K1 as Q,j6 as R,h8 as S,aL as T,Rr as U,x8 as V,P8 as W,Hh as X,E5 as Y,D5 as Z,Pi as _,mK as $,yK as aa,vK as ba,_K as ca,PB as da,mA as ea,oA as fa,LK as ga,VK as ha,so as ia,n$ as ja,hc as ka,s$ as la,jK as ma,a$ as na,l$ as oa,h$ as pa,p$ as qa,VA as ra,v$ as sa,BK as ta,$K as ua,HK as va,vI as wa,_I as xa,Wi as ya,VQ as za,FR as Aa,LR as Ba,DI as Ca,UQ as Da,VR as Ea};
